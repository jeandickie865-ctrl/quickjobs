{"dependencies":[{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _slicedToArray = require(_dependencyMap[0], \"@babel/runtime/helpers/slicedToArray\").default;\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.resolveHref = void 0;\n  /** Resolve an href object into a fully qualified, relative href. */\n  var resolveHref = function resolveHref(href) {\n    var _href$pathname;\n    if (typeof href === 'string') {\n      return (0, exports.resolveHref)({\n        pathname: href\n      });\n    }\n    var path = (_href$pathname = href.pathname) != null ? _href$pathname : '';\n    if (!(href != null && href.params)) {\n      return path;\n    }\n    var _createQualifiedPathn = createQualifiedPathname(path, Object.assign({}, href.params)),\n      pathname = _createQualifiedPathn.pathname,\n      params = _createQualifiedPathn.params;\n    var paramsString = createQueryParams(params);\n    return pathname + (paramsString ? `?${paramsString}` : '');\n  };\n  exports.resolveHref = resolveHref;\n  function createQualifiedPathname(pathname, params) {\n    for (var _ref of Object.entries(params)) {\n      var _ref2 = _slicedToArray(_ref, 2);\n      var key = _ref2[0];\n      var _ref2$ = _ref2[1];\n      var value = _ref2$ === void 0 ? '' : _ref2$;\n      var dynamicKey = `[${key}]`;\n      var deepDynamicKey = `[...${key}]`;\n      if (pathname.includes(dynamicKey)) {\n        pathname = pathname.replace(dynamicKey, encodeParam(value));\n      } else if (pathname.includes(deepDynamicKey)) {\n        pathname = pathname.replace(deepDynamicKey, encodeParam(value));\n      } else {\n        continue;\n      }\n      delete params[key];\n    }\n    return {\n      pathname: pathname,\n      params: params\n    };\n  }\n  function encodeParam(param) {\n    if (Array.isArray(param)) {\n      return param.map(function (p) {\n        return encodeParam(p);\n      }).join('/');\n    }\n    return encodeURIComponent(param.toString());\n  }\n  function createQueryParams(params) {\n    return Object.entries(params)\n    // Allow nullish params\n    .filter(function (_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2),\n        value = _ref4[1];\n      return value != null;\n    }).map(function (_ref5) {\n      var _ref6 = _slicedToArray(_ref5, 2),\n        key = _ref6[0],\n        value = _ref6[1];\n      return `${key}=${encodeURIComponent(value.toString())}`;\n    }).join('&');\n  }\n});","lineCount":72,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_slicedToArray"],[4,20,1,13],[4,23,1,13,"require"],[4,30,1,13],[4,31,1,13,"_dependencyMap"],[4,45,1,13],[4,90,1,13,"default"],[4,97,1,13],[5,2,2,0,"Object"],[5,8,2,6],[5,9,2,7,"defineProperty"],[5,23,2,21],[5,24,2,22,"exports"],[5,31,2,29],[5,33,2,31],[5,45,2,43],[5,47,2,45],[6,4,2,47,"value"],[6,9,2,52],[6,11,2,54],[7,2,2,59],[7,3,2,60],[7,4,2,61],[8,2,3,0,"exports"],[8,9,3,7],[8,10,3,8,"resolveHref"],[8,21,3,19],[8,24,3,22],[8,29,3,27],[8,30,3,28],[9,2,4,0],[10,2,5,0],[10,6,5,6,"resolveHref"],[10,17,5,17],[10,20,5,20],[10,29,5,6,"resolveHref"],[10,40,5,17,"resolveHref"],[10,41,5,21,"href"],[10,45,5,25],[10,47,5,30],[11,4,5,30],[11,8,5,30,"_href$pathname"],[11,22,5,30],[12,4,6,4],[12,8,6,8],[12,15,6,15,"href"],[12,19,6,19],[12,24,6,24],[12,32,6,32],[12,34,6,34],[13,6,7,8],[13,13,7,15],[13,14,7,16],[13,15,7,17],[13,17,7,19,"exports"],[13,24,7,26],[13,25,7,27,"resolveHref"],[13,36,7,38],[13,38,7,40],[14,8,7,42,"pathname"],[14,16,7,50],[14,18,7,52,"href"],[15,6,7,57],[15,7,7,58],[15,8,7,59],[16,4,8,4],[17,4,9,4],[17,8,9,10,"path"],[17,12,9,14],[17,16,9,14,"_href$pathname"],[17,30,9,14],[17,33,9,17,"href"],[17,37,9,21],[17,38,9,22,"pathname"],[17,46,9,30],[17,58,9,30,"_href$pathname"],[17,72,9,30],[17,75,9,34],[17,77,9,36],[18,4,10,4],[18,8,10,8],[18,10,10,9,"href"],[18,14,10,13],[18,26,10,9,"href"],[18,30,10,13],[18,31,10,15,"params"],[18,37,10,21],[18,40,10,23],[19,6,11,8],[19,13,11,15,"path"],[19,17,11,19],[20,4,12,4],[21,4,13,4],[21,8,13,4,"_createQualifiedPathn"],[21,29,13,4],[21,32,13,33,"createQualifiedPathname"],[21,55,13,56],[21,56,13,57,"path"],[21,60,13,61],[21,62,13,61,"Object"],[21,68,13,61],[21,69,13,61,"assign"],[21,75,13,61],[21,80,14,11,"href"],[21,84,14,15],[21,85,14,16,"params"],[21,91,14,22],[21,92,15,5],[21,93,15,6],[22,6,13,12,"pathname"],[22,14,13,20],[22,17,13,20,"_createQualifiedPathn"],[22,38,13,20],[22,39,13,12,"pathname"],[22,47,13,20],[23,6,13,22,"params"],[23,12,13,28],[23,15,13,28,"_createQualifiedPathn"],[23,36,13,28],[23,37,13,22,"params"],[23,43,13,28],[24,4,16,4],[24,8,16,10,"paramsString"],[24,20,16,22],[24,23,16,25,"createQueryParams"],[24,40,16,42],[24,41,16,43,"params"],[24,47,16,49],[24,48,16,50],[25,4,17,4],[25,11,17,11,"pathname"],[25,19,17,19],[25,23,17,23,"paramsString"],[25,35,17,35],[25,38,17,38],[25,42,17,42,"paramsString"],[25,54,17,54],[25,56,17,56],[25,59,17,59],[25,61,17,61],[25,62,17,62],[26,2,18,0],[26,3,18,1],[27,2,19,0,"exports"],[27,9,19,7],[27,10,19,8,"resolveHref"],[27,21,19,19],[27,24,19,22,"resolveHref"],[27,35,19,33],[28,2,20,0],[28,11,20,9,"createQualifiedPathname"],[28,34,20,32,"createQualifiedPathname"],[28,35,20,33,"pathname"],[28,43,20,41],[28,45,20,43,"params"],[28,51,20,49],[28,53,20,51],[29,4,21,4],[29,13,21,4,"_ref"],[29,17,21,4],[29,21,21,36,"Object"],[29,27,21,42],[29,28,21,43,"entries"],[29,35,21,50],[29,36,21,51,"params"],[29,42,21,57],[29,43,21,58],[29,45,21,60],[30,6,21,60],[30,10,21,60,"_ref2"],[30,15,21,60],[30,18,21,60,"_slicedToArray"],[30,32,21,60],[30,33,21,60,"_ref"],[30,37,21,60],[31,6,21,60],[31,10,21,16,"key"],[31,13,21,19],[31,16,21,19,"_ref2"],[31,21,21,19],[32,6,21,19],[32,10,21,19,"_ref2$"],[32,16,21,19],[32,19,21,19,"_ref2"],[32,24,21,19],[33,6,21,19],[33,10,21,21,"value"],[33,15,21,26],[33,18,21,26,"_ref2$"],[33,24,21,26],[33,38,21,29],[33,40,21,31],[33,43,21,31,"_ref2$"],[33,49,21,31],[34,6,22,8],[34,10,22,14,"dynamicKey"],[34,20,22,24],[34,23,22,27],[34,27,22,31,"key"],[34,30,22,34],[34,33,22,37],[35,6,23,8],[35,10,23,14,"deepDynamicKey"],[35,24,23,28],[35,27,23,31],[35,34,23,38,"key"],[35,37,23,41],[35,40,23,44],[36,6,24,8],[36,10,24,12,"pathname"],[36,18,24,20],[36,19,24,21,"includes"],[36,27,24,29],[36,28,24,30,"dynamicKey"],[36,38,24,40],[36,39,24,41],[36,41,24,43],[37,8,25,12,"pathname"],[37,16,25,20],[37,19,25,23,"pathname"],[37,27,25,31],[37,28,25,32,"replace"],[37,35,25,39],[37,36,25,40,"dynamicKey"],[37,46,25,50],[37,48,25,52,"encodeParam"],[37,59,25,63],[37,60,25,64,"value"],[37,65,25,69],[37,66,25,70],[37,67,25,71],[38,6,26,8],[38,7,26,9],[38,13,27,13],[38,17,27,17,"pathname"],[38,25,27,25],[38,26,27,26,"includes"],[38,34,27,34],[38,35,27,35,"deepDynamicKey"],[38,49,27,49],[38,50,27,50],[38,52,27,52],[39,8,28,12,"pathname"],[39,16,28,20],[39,19,28,23,"pathname"],[39,27,28,31],[39,28,28,32,"replace"],[39,35,28,39],[39,36,28,40,"deepDynamicKey"],[39,50,28,54],[39,52,28,56,"encodeParam"],[39,63,28,67],[39,64,28,68,"value"],[39,69,28,73],[39,70,28,74],[39,71,28,75],[40,6,29,8],[40,7,29,9],[40,13,30,13],[41,8,31,12],[42,6,32,8],[43,6,33,8],[43,13,33,15,"params"],[43,19,33,21],[43,20,33,22,"key"],[43,23,33,25],[43,24,33,26],[44,4,34,4],[45,4,35,4],[45,11,35,11],[46,6,35,13,"pathname"],[46,14,35,21],[46,16,35,13,"pathname"],[46,24,35,21],[47,6,35,23,"params"],[47,12,35,29],[47,14,35,23,"params"],[48,4,35,30],[48,5,35,31],[49,2,36,0],[50,2,37,0],[50,11,37,9,"encodeParam"],[50,22,37,20,"encodeParam"],[50,23,37,21,"param"],[50,28,37,26],[50,30,37,28],[51,4,38,4],[51,8,38,8,"Array"],[51,13,38,13],[51,14,38,14,"isArray"],[51,21,38,21],[51,22,38,22,"param"],[51,27,38,27],[51,28,38,28],[51,30,38,30],[52,6,39,8],[52,13,39,15,"param"],[52,18,39,20],[52,19,39,21,"map"],[52,22,39,24],[52,23,39,25],[52,33,39,26,"p"],[52,34,39,27],[53,8,39,27],[53,15,39,32,"encodeParam"],[53,26,39,43],[53,27,39,44,"p"],[53,28,39,45],[53,29,39,46],[54,6,39,46],[54,8,39,47],[54,9,39,48,"join"],[54,13,39,52],[54,14,39,53],[54,17,39,56],[54,18,39,57],[55,4,40,4],[56,4,41,4],[56,11,41,11,"encodeURIComponent"],[56,29,41,29],[56,30,41,30,"param"],[56,35,41,35],[56,36,41,36,"toString"],[56,44,41,44],[56,45,41,45],[56,46,41,46],[56,47,41,47],[57,2,42,0],[58,2,43,0],[58,11,43,9,"createQueryParams"],[58,28,43,26,"createQueryParams"],[58,29,43,27,"params"],[58,35,43,33],[58,37,43,35],[59,4,44,4],[59,11,44,12,"Object"],[59,17,44,18],[59,18,44,19,"entries"],[59,25,44,26],[59,26,44,27,"params"],[59,32,44,33],[60,4,45,8],[61,4,45,8],[61,5,46,9,"filter"],[61,11,46,15],[61,12,46,16],[61,22,46,16,"_ref3"],[61,27,46,16],[62,6,46,16],[62,10,46,16,"_ref4"],[62,15,46,16],[62,18,46,16,"_slicedToArray"],[62,32,46,16],[62,33,46,16,"_ref3"],[62,38,46,16],[63,8,46,20,"value"],[63,13,46,25],[63,16,46,25,"_ref4"],[63,21,46,25],[64,6,46,25],[64,13,46,31,"value"],[64,18,46,36],[64,22,46,40],[64,26,46,44],[65,4,46,44],[65,6,46,45],[65,7,47,9,"map"],[65,10,47,12],[65,11,47,13],[65,21,47,13,"_ref5"],[65,26,47,13],[66,6,47,13],[66,10,47,13,"_ref6"],[66,15,47,13],[66,18,47,13,"_slicedToArray"],[66,32,47,13],[66,33,47,13,"_ref5"],[66,38,47,13],[67,8,47,15,"key"],[67,11,47,18],[67,14,47,18,"_ref6"],[67,19,47,18],[68,8,47,20,"value"],[68,13,47,25],[68,16,47,25,"_ref6"],[68,21,47,25],[69,6,47,25],[69,13,47,31],[69,16,47,34,"key"],[69,19,47,37],[69,23,47,41,"encodeURIComponent"],[69,41,47,59],[69,42,47,60,"value"],[69,47,47,65],[69,48,47,66,"toString"],[69,56,47,74],[69,57,47,75],[69,58,47,76],[69,59,47,77],[69,61,47,79],[70,4,47,79],[70,6,47,80],[70,7,48,9,"join"],[70,11,48,13],[70,12,48,14],[70,15,48,17],[70,16,48,18],[71,2,49,0],[72,0,49,1],[72,3]],"functionMap":{"names":["<global>","resolveHref","createQualifiedPathname","encodeParam","param.map$argument_0","createQueryParams","Object.entries.filter$argument_0","Object.entries.filter.map$argument_0"],"mappings":"AAA;oBCI;CDa;AEE;CFgB;AGC;yBCE,qBD;CHG;AKC;gBCG,4BD;aEC,kEF;CLE"},"hasCjsExports":true},"type":"js/module"}]}