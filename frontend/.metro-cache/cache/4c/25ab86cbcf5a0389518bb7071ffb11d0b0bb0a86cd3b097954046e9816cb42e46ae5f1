{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"./api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":111},"end":{"line":3,"column":60,"index":171}}],"key":"FbKPDeRJ9TF3vg1eKYKz12urgic=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.getWorkerProfile = getWorkerProfile;\n  exports.saveWorkerProfile = saveWorkerProfile;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _api = require(_dependencyMap[1], \"./api\");\n  // utils/profileStore.ts - Worker Profile Store (REFACTORED)\n  // ===== GET WORKER PROFILE =====\n  function getWorkerProfile(_x) {\n    return _getWorkerProfile.apply(this, arguments);\n  } // ===== SAVE WORKER PROFILE =====\n  function _getWorkerProfile() {\n    _getWorkerProfile = (0, _asyncToGenerator.default)(function* (userId) {\n      console.log('üîç getWorkerProfile: Loading profile for user', userId);\n      try {\n        var headers = yield (0, _api.getAuthHeaders)();\n        var response = yield fetch(`${_api.API_BASE}/profiles/worker/${userId}`, {\n          method: 'GET',\n          headers\n        });\n        if (response.status === 404) {\n          console.log('‚ö†Ô∏è getWorkerProfile: Profile not found (404)');\n          return null;\n        }\n        if (!response.ok) {\n          var error = yield response.text();\n          console.error('‚ùå getWorkerProfile: API error', response.status, error);\n          throw new Error(`Failed to fetch profile: ${response.status}`);\n        }\n        var profile = yield response.json();\n        console.log('‚úÖ getWorkerProfile: Profile loaded', {\n          userId: profile.userId,\n          categories: profile.categories?.length || 0,\n          tags: profile.selectedTags?.length || 0\n        });\n        return profile;\n      } catch (error) {\n        console.error('‚ùå getWorkerProfile: Error', error);\n        throw error;\n      }\n    });\n    return _getWorkerProfile.apply(this, arguments);\n  }\n  function saveWorkerProfile(_x2, _x3) {\n    return _saveWorkerProfile.apply(this, arguments);\n  }\n  function _saveWorkerProfile() {\n    _saveWorkerProfile = (0, _asyncToGenerator.default)(function* (userId, profileData) {\n      console.log('üíæ saveWorkerProfile: Saving profile for', userId);\n      console.log('üíæ saveWorkerProfile: Data:', profileData);\n      try {\n        var headers = yield (0, _api.getAuthHeaders)();\n\n        // Try PUT first (update existing)\n        var response = yield fetch(`${_api.API_BASE}/profiles/worker/${userId}`, {\n          method: 'PUT',\n          headers,\n          body: JSON.stringify(profileData)\n        });\n        console.log('üì• saveWorkerProfile: PUT response status:', response.status);\n\n        // If 404, profile doesn't exist - create with POST\n        if (response.status === 404) {\n          console.log('‚ö†Ô∏è saveWorkerProfile: Profile not found, creating new via POST');\n          response = yield fetch(`${_api.API_BASE}/profiles/worker`, {\n            method: 'POST',\n            headers,\n            body: JSON.stringify(profileData)\n          });\n          console.log('üì• saveWorkerProfile: POST response status:', response.status);\n        }\n        if (!response.ok) {\n          var errorText = yield response.text();\n          console.error('‚ùå saveWorkerProfile: Backend error:', errorText);\n          throw new Error(`Server Error ${response.status}: ${errorText}`);\n        }\n        var result = yield response.json();\n        console.log('‚úÖ saveWorkerProfile: Profile saved successfully', result);\n      } catch (error) {\n        console.error('‚ùå saveWorkerProfile: Exception:', error.message);\n        throw error;\n      }\n    });\n    return _saveWorkerProfile.apply(this, arguments);\n  }\n});","lineCount":96,"map":[[12,2,6,0,"exports"],[12,9,6,0],[12,10,6,0,"getWorkerProfile"],[12,26,6,0],[12,29,6,0,"getWorkerProfile"],[12,45,6,0],[13,2,43,0,"exports"],[13,9,43,0],[13,10,43,0,"saveWorkerProfile"],[13,27,43,0],[13,30,43,0,"saveWorkerProfile"],[13,47,43,0],[14,2,87,1],[14,6,87,1,"_babelRuntimeHelpersAsyncToGenerator"],[14,42,87,1],[14,45,87,1,"require"],[14,52,87,1],[14,53,87,1,"_dependencyMap"],[14,67,87,1],[15,2,87,1],[15,6,87,1,"_asyncToGenerator"],[15,23,87,1],[15,26,87,1,"_interopDefault"],[15,41,87,1],[15,42,87,1,"_babelRuntimeHelpersAsyncToGenerator"],[15,78,87,1],[16,2,3,0],[16,6,3,0,"_api"],[16,10,3,0],[16,13,3,0,"require"],[16,20,3,0],[16,21,3,0,"_dependencyMap"],[16,35,3,0],[17,2,1,0],[18,2,5,0],[19,2,5,0],[19,11,6,22,"getWorkerProfile"],[19,27,6,38,"getWorkerProfile"],[19,28,6,38,"_x"],[19,30,6,38],[20,4,6,38],[20,11,6,38,"_getWorkerProfile"],[20,28,6,38],[20,29,6,38,"apply"],[20,34,6,38],[20,41,6,38,"arguments"],[20,50,6,38],[21,2,6,38],[21,4,42,0],[22,2,42,0],[22,11,42,0,"_getWorkerProfile"],[22,29,42,0],[23,4,42,0,"_getWorkerProfile"],[23,21,42,0],[23,28,42,0,"_asyncToGenerator"],[23,45,42,0],[23,46,42,0,"default"],[23,53,42,0],[23,55,6,7],[23,66,6,39,"userId"],[23,72,6,53],[23,74,6,86],[24,6,7,2,"console"],[24,13,7,9],[24,14,7,10,"log"],[24,17,7,13],[24,18,7,14],[24,65,7,61],[24,67,7,63,"userId"],[24,73,7,69],[24,74,7,70],[25,6,9,2],[25,10,9,6],[26,8,10,4],[26,12,10,10,"headers"],[26,19,10,17],[26,28,10,26],[26,32,10,26,"getAuthHeaders"],[26,36,10,40],[26,37,10,40,"getAuthHeaders"],[26,51,10,40],[26,53,10,41],[26,54,10,42],[27,8,12,4],[27,12,12,10,"response"],[27,20,12,18],[27,29,12,27,"fetch"],[27,34,12,32],[27,35,12,33],[27,38,12,36,"API_BASE"],[27,42,12,44],[27,43,12,44,"API_BASE"],[27,51,12,44],[27,71,12,64,"userId"],[27,77,12,70],[27,79,12,72],[27,81,12,74],[28,10,13,6,"method"],[28,16,13,12],[28,18,13,14],[28,23,13,19],[29,10,14,6,"headers"],[30,8,15,4],[30,9,15,5],[30,10,15,6],[31,8,17,4],[31,12,17,8,"response"],[31,20,17,16],[31,21,17,17,"status"],[31,27,17,23],[31,32,17,28],[31,35,17,31],[31,37,17,33],[32,10,18,6,"console"],[32,17,18,13],[32,18,18,14,"log"],[32,21,18,17],[32,22,18,18],[32,68,18,64],[32,69,18,65],[33,10,19,6],[33,17,19,13],[33,21,19,17],[34,8,20,4],[35,8,22,4],[35,12,22,8],[35,13,22,9,"response"],[35,21,22,17],[35,22,22,18,"ok"],[35,24,22,20],[35,26,22,22],[36,10,23,6],[36,14,23,12,"error"],[36,19,23,17],[36,28,23,26,"response"],[36,36,23,34],[36,37,23,35,"text"],[36,41,23,39],[36,42,23,40],[36,43,23,41],[37,10,24,6,"console"],[37,17,24,13],[37,18,24,14,"error"],[37,23,24,19],[37,24,24,20],[37,55,24,51],[37,57,24,53,"response"],[37,65,24,61],[37,66,24,62,"status"],[37,72,24,68],[37,74,24,70,"error"],[37,79,24,75],[37,80,24,76],[38,10,25,6],[38,16,25,12],[38,20,25,16,"Error"],[38,25,25,21],[38,26,25,22],[38,54,25,50,"response"],[38,62,25,58],[38,63,25,59,"status"],[38,69,25,65],[38,71,25,67],[38,72,25,68],[39,8,26,4],[40,8,28,4],[40,12,28,10,"profile"],[40,19,28,17],[40,28,28,26,"response"],[40,36,28,34],[40,37,28,35,"json"],[40,41,28,39],[40,42,28,40],[40,43,28,41],[41,8,29,4,"console"],[41,15,29,11],[41,16,29,12,"log"],[41,19,29,15],[41,20,29,16],[41,56,29,52],[41,58,29,54],[42,10,30,6,"userId"],[42,16,30,12],[42,18,30,14,"profile"],[42,25,30,21],[42,26,30,22,"userId"],[42,32,30,28],[43,10,31,6,"categories"],[43,20,31,16],[43,22,31,18,"profile"],[43,29,31,25],[43,30,31,26,"categories"],[43,40,31,36],[43,42,31,38,"length"],[43,48,31,44],[43,52,31,48],[43,53,31,49],[44,10,32,6,"tags"],[44,14,32,10],[44,16,32,12,"profile"],[44,23,32,19],[44,24,32,20,"selectedTags"],[44,36,32,32],[44,38,32,34,"length"],[44,44,32,40],[44,48,32,44],[45,8,33,4],[45,9,33,5],[45,10,33,6],[46,8,35,4],[46,15,35,11,"profile"],[46,22,35,18],[47,6,36,2],[47,7,36,3],[47,8,36,4],[47,15,36,11,"error"],[47,20,36,16],[47,22,36,18],[48,8,37,4,"console"],[48,15,37,11],[48,16,37,12,"error"],[48,21,37,17],[48,22,37,18],[48,49,37,45],[48,51,37,47,"error"],[48,56,37,52],[48,57,37,53],[49,8,38,4],[49,14,38,10,"error"],[49,19,38,15],[50,6,39,2],[51,4,40,0],[51,5,40,1],[52,4,40,1],[52,11,40,1,"_getWorkerProfile"],[52,28,40,1],[52,29,40,1,"apply"],[52,34,40,1],[52,41,40,1,"arguments"],[52,50,40,1],[53,2,40,1],[54,2,40,1],[54,11,43,22,"saveWorkerProfile"],[54,28,43,39,"saveWorkerProfile"],[54,29,43,39,"_x2"],[54,32,43,39],[54,34,43,39,"_x3"],[54,37,43,39],[55,4,43,39],[55,11,43,39,"_saveWorkerProfile"],[55,29,43,39],[55,30,43,39,"apply"],[55,35,43,39],[55,42,43,39,"arguments"],[55,51,43,39],[56,2,43,39],[57,2,43,39],[57,11,43,39,"_saveWorkerProfile"],[57,30,43,39],[58,4,43,39,"_saveWorkerProfile"],[58,22,43,39],[58,29,43,39,"_asyncToGenerator"],[58,46,43,39],[58,47,43,39,"default"],[58,54,43,39],[58,56,43,7],[58,67,44,2,"userId"],[58,73,44,16],[58,75,45,2,"profileData"],[58,86,45,37],[58,88,46,17],[59,6,47,2,"console"],[59,13,47,9],[59,14,47,10,"log"],[59,17,47,13],[59,18,47,14],[59,60,47,56],[59,62,47,58,"userId"],[59,68,47,64],[59,69,47,65],[60,6,48,2,"console"],[60,13,48,9],[60,14,48,10,"log"],[60,17,48,13],[60,18,48,14],[60,47,48,43],[60,49,48,45,"profileData"],[60,60,48,56],[60,61,48,57],[61,6,50,2],[61,10,50,6],[62,8,51,4],[62,12,51,10,"headers"],[62,19,51,17],[62,28,51,26],[62,32,51,26,"getAuthHeaders"],[62,36,51,40],[62,37,51,40,"getAuthHeaders"],[62,51,51,40],[62,53,51,41],[62,54,51,42],[64,8,53,4],[65,8,54,4],[65,12,54,8,"response"],[65,20,54,16],[65,29,54,25,"fetch"],[65,34,54,30],[65,35,54,31],[65,38,54,34,"API_BASE"],[65,42,54,42],[65,43,54,42,"API_BASE"],[65,51,54,42],[65,71,54,62,"userId"],[65,77,54,68],[65,79,54,70],[65,81,54,72],[66,10,55,6,"method"],[66,16,55,12],[66,18,55,14],[66,23,55,19],[67,10,56,6,"headers"],[67,17,56,13],[68,10,57,6,"body"],[68,14,57,10],[68,16,57,12,"JSON"],[68,20,57,16],[68,21,57,17,"stringify"],[68,30,57,26],[68,31,57,27,"profileData"],[68,42,57,38],[69,8,58,4],[69,9,58,5],[69,10,58,6],[70,8,60,4,"console"],[70,15,60,11],[70,16,60,12,"log"],[70,19,60,15],[70,20,60,16],[70,64,60,60],[70,66,60,62,"response"],[70,74,60,70],[70,75,60,71,"status"],[70,81,60,77],[70,82,60,78],[72,8,62,4],[73,8,63,4],[73,12,63,8,"response"],[73,20,63,16],[73,21,63,17,"status"],[73,27,63,23],[73,32,63,28],[73,35,63,31],[73,37,63,33],[74,10,64,6,"console"],[74,17,64,13],[74,18,64,14,"log"],[74,21,64,17],[74,22,64,18],[74,86,64,82],[74,87,64,83],[75,10,66,6,"response"],[75,18,66,14],[75,27,66,23,"fetch"],[75,32,66,28],[75,33,66,29],[75,36,66,32,"API_BASE"],[75,40,66,40],[75,41,66,40,"API_BASE"],[75,49,66,40],[75,67,66,58],[75,69,66,60],[76,12,67,8,"method"],[76,18,67,14],[76,20,67,16],[76,26,67,22],[77,12,68,8,"headers"],[77,19,68,15],[78,12,69,8,"body"],[78,16,69,12],[78,18,69,14,"JSON"],[78,22,69,18],[78,23,69,19,"stringify"],[78,32,69,28],[78,33,69,29,"profileData"],[78,44,69,40],[79,10,70,6],[79,11,70,7],[79,12,70,8],[80,10,72,6,"console"],[80,17,72,13],[80,18,72,14,"log"],[80,21,72,17],[80,22,72,18],[80,67,72,63],[80,69,72,65,"response"],[80,77,72,73],[80,78,72,74,"status"],[80,84,72,80],[80,85,72,81],[81,8,73,4],[82,8,75,4],[82,12,75,8],[82,13,75,9,"response"],[82,21,75,17],[82,22,75,18,"ok"],[82,24,75,20],[82,26,75,22],[83,10,76,6],[83,14,76,12,"errorText"],[83,23,76,21],[83,32,76,30,"response"],[83,40,76,38],[83,41,76,39,"text"],[83,45,76,43],[83,46,76,44],[83,47,76,45],[84,10,77,6,"console"],[84,17,77,13],[84,18,77,14,"error"],[84,23,77,19],[84,24,77,20],[84,61,77,57],[84,63,77,59,"errorText"],[84,72,77,68],[84,73,77,69],[85,10,78,6],[85,16,78,12],[85,20,78,16,"Error"],[85,25,78,21],[85,26,78,22],[85,42,78,38,"response"],[85,50,78,46],[85,51,78,47,"status"],[85,57,78,53],[85,62,78,58,"errorText"],[85,71,78,67],[85,73,78,69],[85,74,78,70],[86,8,79,4],[87,8,81,4],[87,12,81,10,"result"],[87,18,81,16],[87,27,81,25,"response"],[87,35,81,33],[87,36,81,34,"json"],[87,40,81,38],[87,41,81,39],[87,42,81,40],[88,8,82,4,"console"],[88,15,82,11],[88,16,82,12,"log"],[88,19,82,15],[88,20,82,16],[88,69,82,65],[88,71,82,67,"result"],[88,77,82,73],[88,78,82,74],[89,6,83,2],[89,7,83,3],[89,8,83,4],[89,15,83,11,"error"],[89,20,83,21],[89,22,83,23],[90,8,84,4,"console"],[90,15,84,11],[90,16,84,12,"error"],[90,21,84,17],[90,22,84,18],[90,55,84,51],[90,57,84,53,"error"],[90,62,84,58],[90,63,84,59,"message"],[90,70,84,66],[90,71,84,67],[91,8,85,4],[91,14,85,10,"error"],[91,19,85,15],[92,6,86,2],[93,4,87,0],[93,5,87,1],[94,4,87,1],[94,11,87,1,"_saveWorkerProfile"],[94,29,87,1],[94,30,87,1,"apply"],[94,35,87,1],[94,42,87,1,"arguments"],[94,51,87,1],[95,2,87,1],[96,0,87,1],[96,3]],"functionMap":{"names":["<global>","getWorkerProfile","saveWorkerProfile"],"mappings":"AAA;OCK;CDkC;OEG;CF4C"},"hasCjsExports":false},"type":"js/module"}]}