{"dependencies":[{"name":"./api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":123},"end":{"line":3,"column":60,"index":183}}],"key":"FbKPDeRJ9TF3vg1eKYKz12urgic=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.getEmployerProfile = getEmployerProfile;\n  exports.getEmployerProfilePublicView = getEmployerProfilePublicView;\n  exports.saveEmployerProfile = saveEmployerProfile;\n  var _api = require(_dependencyMap[0], \"./api\");\n  // utils/employerProfileStore.ts - Employer Profile Store (REFACTORED)\n\n  // ===== GET EMPLOYER PROFILE (Own profile) =====\n  async function getEmployerProfile(userId) {\n    console.log('üîç getEmployerProfile: Loading profile for user', userId);\n    try {\n      const headers = await (0, _api.getAuthHeaders)();\n      const response = await fetch(`${_api.API_BASE}/profiles/employer/${userId}`, {\n        method: 'GET',\n        headers\n      });\n      if (response.status === 404) {\n        console.log('‚ö†Ô∏è getEmployerProfile: Profile not found (404)');\n        return null;\n      }\n      if (!response.ok) {\n        const error = await response.text();\n        console.error('‚ùå getEmployerProfile: API error', response.status, error);\n        throw new Error(`Failed to fetch profile: ${response.status}`);\n      }\n      const profile = await response.json();\n      console.log('‚úÖ getEmployerProfile: Profile loaded');\n      return profile;\n    } catch (error) {\n      console.error('‚ùå getEmployerProfile: Error', error);\n      throw error;\n    }\n  }\n\n  // ===== GET EMPLOYER PROFILE - PUBLIC VIEW (For workers) =====\n  async function getEmployerProfilePublicView(userId) {\n    console.log('üîç getEmployerProfilePublicView: Loading public profile for user', userId);\n    try {\n      const headers = await (0, _api.getAuthHeaders)();\n      const response = await fetch(`${_api.API_BASE}/profiles/employer/${userId}/public-view`, {\n        method: 'GET',\n        headers\n      });\n      if (response.status === 404) {\n        console.log('‚ö†Ô∏è getEmployerProfilePublicView: Profile not found (404)');\n        return null;\n      }\n      if (!response.ok) {\n        const error = await response.text();\n        console.error('‚ùå getEmployerProfilePublicView: API error', response.status, error);\n        throw new Error(`Failed to fetch profile: ${response.status}`);\n      }\n      const profile = await response.json();\n      console.log('‚úÖ getEmployerProfilePublicView: Public profile loaded');\n      return profile;\n    } catch (error) {\n      console.error('‚ùå getEmployerProfilePublicView: Error', error);\n      throw error;\n    }\n  }\n\n  // ===== SAVE EMPLOYER PROFILE =====\n  async function saveEmployerProfile(userId, profileData) {\n    console.log('üíæ saveEmployerProfile: Saving profile for', userId);\n    try {\n      const headers = await (0, _api.getAuthHeaders)();\n\n      // Try PUT first (update existing)\n      let response = await fetch(`${_api.API_BASE}/profiles/employer/${userId}`, {\n        method: 'PUT',\n        headers,\n        body: JSON.stringify(profileData)\n      });\n      console.log('üì• saveEmployerProfile: PUT response status:', response.status);\n\n      // If 404, profile doesn't exist - create with POST\n      if (response.status === 404) {\n        console.log('‚ö†Ô∏è saveEmployerProfile: Profile not found, creating new via POST');\n        response = await fetch(`${_api.API_BASE}/profiles/employer`, {\n          method: 'POST',\n          headers,\n          body: JSON.stringify(profileData)\n        });\n        console.log('üì• saveEmployerProfile: POST response status:', response.status);\n      }\n      if (!response.ok) {\n        const errorText = await response.text();\n        console.error('‚ùå saveEmployerProfile: Backend error:', errorText);\n        throw new Error(`Server Error ${response.status}: ${errorText}`);\n      }\n      const result = await response.json();\n      console.log('‚úÖ saveEmployerProfile: Profile saved successfully');\n    } catch (error) {\n      console.error('‚ùå saveEmployerProfile: Exception:', error.message);\n      throw error;\n    }\n  }\n});","lineCount":103,"map":[[7,2,6,0,"exports"],[7,9,6,0],[7,10,6,0,"getEmployerProfile"],[7,28,6,0],[7,31,6,0,"getEmployerProfile"],[7,49,6,0],[8,2,38,0,"exports"],[8,9,38,0],[8,10,38,0,"getEmployerProfilePublicView"],[8,38,38,0],[8,41,38,0,"getEmployerProfilePublicView"],[8,69,38,0],[9,2,70,0,"exports"],[9,9,70,0],[9,10,70,0,"saveEmployerProfile"],[9,29,70,0],[9,32,70,0,"saveEmployerProfile"],[9,51,70,0],[10,2,3,0],[10,6,3,0,"_api"],[10,10,3,0],[10,13,3,0,"require"],[10,20,3,0],[10,21,3,0,"_dependencyMap"],[10,35,3,0],[11,2,1,0],[13,2,5,0],[14,2,6,7],[14,17,6,22,"getEmployerProfile"],[14,35,6,40,"getEmployerProfile"],[14,36,6,41,"userId"],[14,42,6,55],[14,44,6,90],[15,4,7,2,"console"],[15,11,7,9],[15,12,7,10,"log"],[15,15,7,13],[15,16,7,14],[15,65,7,63],[15,67,7,65,"userId"],[15,73,7,71],[15,74,7,72],[16,4,9,2],[16,8,9,6],[17,6,10,4],[17,12,10,10,"headers"],[17,19,10,17],[17,22,10,20],[17,28,10,26],[17,32,10,26,"getAuthHeaders"],[17,36,10,40],[17,37,10,40,"getAuthHeaders"],[17,51,10,40],[17,53,10,41],[17,54,10,42],[18,6,12,4],[18,12,12,10,"response"],[18,20,12,18],[18,23,12,21],[18,29,12,27,"fetch"],[18,34,12,32],[18,35,12,33],[18,38,12,36,"API_BASE"],[18,42,12,44],[18,43,12,44,"API_BASE"],[18,51,12,44],[18,73,12,66,"userId"],[18,79,12,72],[18,81,12,74],[18,83,12,76],[19,8,13,6,"method"],[19,14,13,12],[19,16,13,14],[19,21,13,19],[20,8,14,6,"headers"],[21,6,15,4],[21,7,15,5],[21,8,15,6],[22,6,17,4],[22,10,17,8,"response"],[22,18,17,16],[22,19,17,17,"status"],[22,25,17,23],[22,30,17,28],[22,33,17,31],[22,35,17,33],[23,8,18,6,"console"],[23,15,18,13],[23,16,18,14,"log"],[23,19,18,17],[23,20,18,18],[23,68,18,66],[23,69,18,67],[24,8,19,6],[24,15,19,13],[24,19,19,17],[25,6,20,4],[26,6,22,4],[26,10,22,8],[26,11,22,9,"response"],[26,19,22,17],[26,20,22,18,"ok"],[26,22,22,20],[26,24,22,22],[27,8,23,6],[27,14,23,12,"error"],[27,19,23,17],[27,22,23,20],[27,28,23,26,"response"],[27,36,23,34],[27,37,23,35,"text"],[27,41,23,39],[27,42,23,40],[27,43,23,41],[28,8,24,6,"console"],[28,15,24,13],[28,16,24,14,"error"],[28,21,24,19],[28,22,24,20],[28,55,24,53],[28,57,24,55,"response"],[28,65,24,63],[28,66,24,64,"status"],[28,72,24,70],[28,74,24,72,"error"],[28,79,24,77],[28,80,24,78],[29,8,25,6],[29,14,25,12],[29,18,25,16,"Error"],[29,23,25,21],[29,24,25,22],[29,52,25,50,"response"],[29,60,25,58],[29,61,25,59,"status"],[29,67,25,65],[29,69,25,67],[29,70,25,68],[30,6,26,4],[31,6,28,4],[31,12,28,10,"profile"],[31,19,28,17],[31,22,28,20],[31,28,28,26,"response"],[31,36,28,34],[31,37,28,35,"json"],[31,41,28,39],[31,42,28,40],[31,43,28,41],[32,6,29,4,"console"],[32,13,29,11],[32,14,29,12,"log"],[32,17,29,15],[32,18,29,16],[32,56,29,54],[32,57,29,55],[33,6,30,4],[33,13,30,11,"profile"],[33,20,30,18],[34,4,31,2],[34,5,31,3],[34,6,31,4],[34,13,31,11,"error"],[34,18,31,16],[34,20,31,18],[35,6,32,4,"console"],[35,13,32,11],[35,14,32,12,"error"],[35,19,32,17],[35,20,32,18],[35,49,32,47],[35,51,32,49,"error"],[35,56,32,54],[35,57,32,55],[36,6,33,4],[36,12,33,10,"error"],[36,17,33,15],[37,4,34,2],[38,2,35,0],[40,2,37,0],[41,2,38,7],[41,17,38,22,"getEmployerProfilePublicView"],[41,45,38,50,"getEmployerProfilePublicView"],[41,46,38,51,"userId"],[41,52,38,65],[41,54,38,88],[42,4,39,2,"console"],[42,11,39,9],[42,12,39,10,"log"],[42,15,39,13],[42,16,39,14],[42,82,39,80],[42,84,39,82,"userId"],[42,90,39,88],[42,91,39,89],[43,4,41,2],[43,8,41,6],[44,6,42,4],[44,12,42,10,"headers"],[44,19,42,17],[44,22,42,20],[44,28,42,26],[44,32,42,26,"getAuthHeaders"],[44,36,42,40],[44,37,42,40,"getAuthHeaders"],[44,51,42,40],[44,53,42,41],[44,54,42,42],[45,6,44,4],[45,12,44,10,"response"],[45,20,44,18],[45,23,44,21],[45,29,44,27,"fetch"],[45,34,44,32],[45,35,44,33],[45,38,44,36,"API_BASE"],[45,42,44,44],[45,43,44,44,"API_BASE"],[45,51,44,44],[45,73,44,66,"userId"],[45,79,44,72],[45,93,44,86],[45,95,44,88],[46,8,45,6,"method"],[46,14,45,12],[46,16,45,14],[46,21,45,19],[47,8,46,6,"headers"],[48,6,47,4],[48,7,47,5],[48,8,47,6],[49,6,49,4],[49,10,49,8,"response"],[49,18,49,16],[49,19,49,17,"status"],[49,25,49,23],[49,30,49,28],[49,33,49,31],[49,35,49,33],[50,8,50,6,"console"],[50,15,50,13],[50,16,50,14,"log"],[50,19,50,17],[50,20,50,18],[50,78,50,76],[50,79,50,77],[51,8,51,6],[51,15,51,13],[51,19,51,17],[52,6,52,4],[53,6,54,4],[53,10,54,8],[53,11,54,9,"response"],[53,19,54,17],[53,20,54,18,"ok"],[53,22,54,20],[53,24,54,22],[54,8,55,6],[54,14,55,12,"error"],[54,19,55,17],[54,22,55,20],[54,28,55,26,"response"],[54,36,55,34],[54,37,55,35,"text"],[54,41,55,39],[54,42,55,40],[54,43,55,41],[55,8,56,6,"console"],[55,15,56,13],[55,16,56,14,"error"],[55,21,56,19],[55,22,56,20],[55,65,56,63],[55,67,56,65,"response"],[55,75,56,73],[55,76,56,74,"status"],[55,82,56,80],[55,84,56,82,"error"],[55,89,56,87],[55,90,56,88],[56,8,57,6],[56,14,57,12],[56,18,57,16,"Error"],[56,23,57,21],[56,24,57,22],[56,52,57,50,"response"],[56,60,57,58],[56,61,57,59,"status"],[56,67,57,65],[56,69,57,67],[56,70,57,68],[57,6,58,4],[58,6,60,4],[58,12,60,10,"profile"],[58,19,60,17],[58,22,60,20],[58,28,60,26,"response"],[58,36,60,34],[58,37,60,35,"json"],[58,41,60,39],[58,42,60,40],[58,43,60,41],[59,6,61,4,"console"],[59,13,61,11],[59,14,61,12,"log"],[59,17,61,15],[59,18,61,16],[59,73,61,71],[59,74,61,72],[60,6,62,4],[60,13,62,11,"profile"],[60,20,62,18],[61,4,63,2],[61,5,63,3],[61,6,63,4],[61,13,63,11,"error"],[61,18,63,16],[61,20,63,18],[62,6,64,4,"console"],[62,13,64,11],[62,14,64,12,"error"],[62,19,64,17],[62,20,64,18],[62,59,64,57],[62,61,64,59,"error"],[62,66,64,64],[62,67,64,65],[63,6,65,4],[63,12,65,10,"error"],[63,17,65,15],[64,4,66,2],[65,2,67,0],[67,2,69,0],[68,2,70,7],[68,17,70,22,"saveEmployerProfile"],[68,36,70,41,"saveEmployerProfile"],[68,37,71,2,"userId"],[68,43,71,16],[68,45,72,2,"profileData"],[68,56,72,39],[68,58,73,17],[69,4,74,2,"console"],[69,11,74,9],[69,12,74,10,"log"],[69,15,74,13],[69,16,74,14],[69,60,74,58],[69,62,74,60,"userId"],[69,68,74,66],[69,69,74,67],[70,4,76,2],[70,8,76,6],[71,6,77,4],[71,12,77,10,"headers"],[71,19,77,17],[71,22,77,20],[71,28,77,26],[71,32,77,26,"getAuthHeaders"],[71,36,77,40],[71,37,77,40,"getAuthHeaders"],[71,51,77,40],[71,53,77,41],[71,54,77,42],[73,6,79,4],[74,6,80,4],[74,10,80,8,"response"],[74,18,80,16],[74,21,80,19],[74,27,80,25,"fetch"],[74,32,80,30],[74,33,80,31],[74,36,80,34,"API_BASE"],[74,40,80,42],[74,41,80,42,"API_BASE"],[74,49,80,42],[74,71,80,64,"userId"],[74,77,80,70],[74,79,80,72],[74,81,80,74],[75,8,81,6,"method"],[75,14,81,12],[75,16,81,14],[75,21,81,19],[76,8,82,6,"headers"],[76,15,82,13],[77,8,83,6,"body"],[77,12,83,10],[77,14,83,12,"JSON"],[77,18,83,16],[77,19,83,17,"stringify"],[77,28,83,26],[77,29,83,27,"profileData"],[77,40,83,38],[78,6,84,4],[78,7,84,5],[78,8,84,6],[79,6,86,4,"console"],[79,13,86,11],[79,14,86,12,"log"],[79,17,86,15],[79,18,86,16],[79,64,86,62],[79,66,86,64,"response"],[79,74,86,72],[79,75,86,73,"status"],[79,81,86,79],[79,82,86,80],[81,6,88,4],[82,6,89,4],[82,10,89,8,"response"],[82,18,89,16],[82,19,89,17,"status"],[82,25,89,23],[82,30,89,28],[82,33,89,31],[82,35,89,33],[83,8,90,6,"console"],[83,15,90,13],[83,16,90,14,"log"],[83,19,90,17],[83,20,90,18],[83,86,90,84],[83,87,90,85],[84,8,92,6,"response"],[84,16,92,14],[84,19,92,17],[84,25,92,23,"fetch"],[84,30,92,28],[84,31,92,29],[84,34,92,32,"API_BASE"],[84,38,92,40],[84,39,92,40,"API_BASE"],[84,47,92,40],[84,67,92,60],[84,69,92,62],[85,10,93,8,"method"],[85,16,93,14],[85,18,93,16],[85,24,93,22],[86,10,94,8,"headers"],[86,17,94,15],[87,10,95,8,"body"],[87,14,95,12],[87,16,95,14,"JSON"],[87,20,95,18],[87,21,95,19,"stringify"],[87,30,95,28],[87,31,95,29,"profileData"],[87,42,95,40],[88,8,96,6],[88,9,96,7],[88,10,96,8],[89,8,98,6,"console"],[89,15,98,13],[89,16,98,14,"log"],[89,19,98,17],[89,20,98,18],[89,67,98,65],[89,69,98,67,"response"],[89,77,98,75],[89,78,98,76,"status"],[89,84,98,82],[89,85,98,83],[90,6,99,4],[91,6,101,4],[91,10,101,8],[91,11,101,9,"response"],[91,19,101,17],[91,20,101,18,"ok"],[91,22,101,20],[91,24,101,22],[92,8,102,6],[92,14,102,12,"errorText"],[92,23,102,21],[92,26,102,24],[92,32,102,30,"response"],[92,40,102,38],[92,41,102,39,"text"],[92,45,102,43],[92,46,102,44],[92,47,102,45],[93,8,103,6,"console"],[93,15,103,13],[93,16,103,14,"error"],[93,21,103,19],[93,22,103,20],[93,61,103,59],[93,63,103,61,"errorText"],[93,72,103,70],[93,73,103,71],[94,8,104,6],[94,14,104,12],[94,18,104,16,"Error"],[94,23,104,21],[94,24,104,22],[94,40,104,38,"response"],[94,48,104,46],[94,49,104,47,"status"],[94,55,104,53],[94,60,104,58,"errorText"],[94,69,104,67],[94,71,104,69],[94,72,104,70],[95,6,105,4],[96,6,107,4],[96,12,107,10,"result"],[96,18,107,16],[96,21,107,19],[96,27,107,25,"response"],[96,35,107,33],[96,36,107,34,"json"],[96,40,107,38],[96,41,107,39],[96,42,107,40],[97,6,108,4,"console"],[97,13,108,11],[97,14,108,12,"log"],[97,17,108,15],[97,18,108,16],[97,69,108,67],[97,70,108,68],[98,4,109,2],[98,5,109,3],[98,6,109,4],[98,13,109,11,"error"],[98,18,109,21],[98,20,109,23],[99,6,110,4,"console"],[99,13,110,11],[99,14,110,12,"error"],[99,19,110,17],[99,20,110,18],[99,55,110,53],[99,57,110,55,"error"],[99,62,110,60],[99,63,110,61,"message"],[99,70,110,68],[99,71,110,69],[100,6,111,4],[100,12,111,10,"error"],[100,17,111,15],[101,4,112,2],[102,2,113,0],[103,0,113,1],[103,3]],"functionMap":{"names":["<global>","getEmployerProfile","getEmployerProfilePublicView","saveEmployerProfile"],"mappings":"AAA;OCK;CD6B;OEG;CF6B;OGG;CH2C"},"hasCjsExports":false},"type":"js/module"}]}