{"dependencies":[{"name":"./api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":123},"end":{"line":3,"column":60,"index":183}}],"key":"FbKPDeRJ9TF3vg1eKYKz12urgic=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.getEmployerProfile = getEmployerProfile;\n  exports.saveEmployerProfile = saveEmployerProfile;\n  var _api = require(_dependencyMap[0], \"./api\");\n  // utils/employerProfileStore.ts - Employer Profile Store (REFACTORED)\n\n  // ===== GET EMPLOYER PROFILE =====\n  async function getEmployerProfile(userId) {\n    console.log('üîç getEmployerProfile: Loading profile for user', userId);\n    try {\n      const headers = await (0, _api.getAuthHeaders)();\n      const response = await fetch(`${_api.API_BASE}/profiles/employer/${userId}`, {\n        method: 'GET',\n        headers\n      });\n      if (response.status === 404) {\n        console.log('‚ö†Ô∏è getEmployerProfile: Profile not found (404)');\n        return null;\n      }\n      if (!response.ok) {\n        const error = await response.text();\n        console.error('‚ùå getEmployerProfile: API error', response.status, error);\n        throw new Error(`Failed to fetch profile: ${response.status}`);\n      }\n      const profile = await response.json();\n      console.log('‚úÖ getEmployerProfile: Profile loaded');\n      return profile;\n    } catch (error) {\n      console.error('‚ùå getEmployerProfile: Error', error);\n      throw error;\n    }\n  }\n\n  // ===== SAVE EMPLOYER PROFILE =====\n  async function saveEmployerProfile(userId, profileData) {\n    console.log('üíæ saveEmployerProfile: Saving profile for', userId);\n    try {\n      const headers = await (0, _api.getAuthHeaders)();\n\n      // Try PUT first (update existing)\n      let response = await fetch(`${_api.API_BASE}/profiles/employer/${userId}`, {\n        method: 'PUT',\n        headers,\n        body: JSON.stringify(profileData)\n      });\n      console.log('üì• saveEmployerProfile: PUT response status:', response.status);\n\n      // If 404, profile doesn't exist - create with POST\n      if (response.status === 404) {\n        console.log('‚ö†Ô∏è saveEmployerProfile: Profile not found, creating new via POST');\n        response = await fetch(`${_api.API_BASE}/profiles/employer`, {\n          method: 'POST',\n          headers,\n          body: JSON.stringify(profileData)\n        });\n        console.log('üì• saveEmployerProfile: POST response status:', response.status);\n      }\n      if (!response.ok) {\n        const errorText = await response.text();\n        console.error('‚ùå saveEmployerProfile: Backend error:', errorText);\n        throw new Error(`Server Error ${response.status}: ${errorText}`);\n      }\n      const result = await response.json();\n      console.log('‚úÖ saveEmployerProfile: Profile saved successfully');\n    } catch (error) {\n      console.error('‚ùå saveEmployerProfile: Exception:', error.message);\n      throw error;\n    }\n  }\n});","lineCount":75,"map":[[7,2,6,0,"exports"],[7,9,6,0],[7,10,6,0,"getEmployerProfile"],[7,28,6,0],[7,31,6,0,"getEmployerProfile"],[7,49,6,0],[8,2,38,0,"exports"],[8,9,38,0],[8,10,38,0,"saveEmployerProfile"],[8,29,38,0],[8,32,38,0,"saveEmployerProfile"],[8,51,38,0],[9,2,3,0],[9,6,3,0,"_api"],[9,10,3,0],[9,13,3,0,"require"],[9,20,3,0],[9,21,3,0,"_dependencyMap"],[9,35,3,0],[10,2,1,0],[12,2,5,0],[13,2,6,7],[13,17,6,22,"getEmployerProfile"],[13,35,6,40,"getEmployerProfile"],[13,36,6,41,"userId"],[13,42,6,55],[13,44,6,90],[14,4,7,2,"console"],[14,11,7,9],[14,12,7,10,"log"],[14,15,7,13],[14,16,7,14],[14,65,7,63],[14,67,7,65,"userId"],[14,73,7,71],[14,74,7,72],[15,4,9,2],[15,8,9,6],[16,6,10,4],[16,12,10,10,"headers"],[16,19,10,17],[16,22,10,20],[16,28,10,26],[16,32,10,26,"getAuthHeaders"],[16,36,10,40],[16,37,10,40,"getAuthHeaders"],[16,51,10,40],[16,53,10,41],[16,54,10,42],[17,6,12,4],[17,12,12,10,"response"],[17,20,12,18],[17,23,12,21],[17,29,12,27,"fetch"],[17,34,12,32],[17,35,12,33],[17,38,12,36,"API_BASE"],[17,42,12,44],[17,43,12,44,"API_BASE"],[17,51,12,44],[17,73,12,66,"userId"],[17,79,12,72],[17,81,12,74],[17,83,12,76],[18,8,13,6,"method"],[18,14,13,12],[18,16,13,14],[18,21,13,19],[19,8,14,6,"headers"],[20,6,15,4],[20,7,15,5],[20,8,15,6],[21,6,17,4],[21,10,17,8,"response"],[21,18,17,16],[21,19,17,17,"status"],[21,25,17,23],[21,30,17,28],[21,33,17,31],[21,35,17,33],[22,8,18,6,"console"],[22,15,18,13],[22,16,18,14,"log"],[22,19,18,17],[22,20,18,18],[22,68,18,66],[22,69,18,67],[23,8,19,6],[23,15,19,13],[23,19,19,17],[24,6,20,4],[25,6,22,4],[25,10,22,8],[25,11,22,9,"response"],[25,19,22,17],[25,20,22,18,"ok"],[25,22,22,20],[25,24,22,22],[26,8,23,6],[26,14,23,12,"error"],[26,19,23,17],[26,22,23,20],[26,28,23,26,"response"],[26,36,23,34],[26,37,23,35,"text"],[26,41,23,39],[26,42,23,40],[26,43,23,41],[27,8,24,6,"console"],[27,15,24,13],[27,16,24,14,"error"],[27,21,24,19],[27,22,24,20],[27,55,24,53],[27,57,24,55,"response"],[27,65,24,63],[27,66,24,64,"status"],[27,72,24,70],[27,74,24,72,"error"],[27,79,24,77],[27,80,24,78],[28,8,25,6],[28,14,25,12],[28,18,25,16,"Error"],[28,23,25,21],[28,24,25,22],[28,52,25,50,"response"],[28,60,25,58],[28,61,25,59,"status"],[28,67,25,65],[28,69,25,67],[28,70,25,68],[29,6,26,4],[30,6,28,4],[30,12,28,10,"profile"],[30,19,28,17],[30,22,28,20],[30,28,28,26,"response"],[30,36,28,34],[30,37,28,35,"json"],[30,41,28,39],[30,42,28,40],[30,43,28,41],[31,6,29,4,"console"],[31,13,29,11],[31,14,29,12,"log"],[31,17,29,15],[31,18,29,16],[31,56,29,54],[31,57,29,55],[32,6,30,4],[32,13,30,11,"profile"],[32,20,30,18],[33,4,31,2],[33,5,31,3],[33,6,31,4],[33,13,31,11,"error"],[33,18,31,16],[33,20,31,18],[34,6,32,4,"console"],[34,13,32,11],[34,14,32,12,"error"],[34,19,32,17],[34,20,32,18],[34,49,32,47],[34,51,32,49,"error"],[34,56,32,54],[34,57,32,55],[35,6,33,4],[35,12,33,10,"error"],[35,17,33,15],[36,4,34,2],[37,2,35,0],[39,2,37,0],[40,2,38,7],[40,17,38,22,"saveEmployerProfile"],[40,36,38,41,"saveEmployerProfile"],[40,37,39,2,"userId"],[40,43,39,16],[40,45,40,2,"profileData"],[40,56,40,39],[40,58,41,17],[41,4,42,2,"console"],[41,11,42,9],[41,12,42,10,"log"],[41,15,42,13],[41,16,42,14],[41,60,42,58],[41,62,42,60,"userId"],[41,68,42,66],[41,69,42,67],[42,4,44,2],[42,8,44,6],[43,6,45,4],[43,12,45,10,"headers"],[43,19,45,17],[43,22,45,20],[43,28,45,26],[43,32,45,26,"getAuthHeaders"],[43,36,45,40],[43,37,45,40,"getAuthHeaders"],[43,51,45,40],[43,53,45,41],[43,54,45,42],[45,6,47,4],[46,6,48,4],[46,10,48,8,"response"],[46,18,48,16],[46,21,48,19],[46,27,48,25,"fetch"],[46,32,48,30],[46,33,48,31],[46,36,48,34,"API_BASE"],[46,40,48,42],[46,41,48,42,"API_BASE"],[46,49,48,42],[46,71,48,64,"userId"],[46,77,48,70],[46,79,48,72],[46,81,48,74],[47,8,49,6,"method"],[47,14,49,12],[47,16,49,14],[47,21,49,19],[48,8,50,6,"headers"],[48,15,50,13],[49,8,51,6,"body"],[49,12,51,10],[49,14,51,12,"JSON"],[49,18,51,16],[49,19,51,17,"stringify"],[49,28,51,26],[49,29,51,27,"profileData"],[49,40,51,38],[50,6,52,4],[50,7,52,5],[50,8,52,6],[51,6,54,4,"console"],[51,13,54,11],[51,14,54,12,"log"],[51,17,54,15],[51,18,54,16],[51,64,54,62],[51,66,54,64,"response"],[51,74,54,72],[51,75,54,73,"status"],[51,81,54,79],[51,82,54,80],[53,6,56,4],[54,6,57,4],[54,10,57,8,"response"],[54,18,57,16],[54,19,57,17,"status"],[54,25,57,23],[54,30,57,28],[54,33,57,31],[54,35,57,33],[55,8,58,6,"console"],[55,15,58,13],[55,16,58,14,"log"],[55,19,58,17],[55,20,58,18],[55,86,58,84],[55,87,58,85],[56,8,60,6,"response"],[56,16,60,14],[56,19,60,17],[56,25,60,23,"fetch"],[56,30,60,28],[56,31,60,29],[56,34,60,32,"API_BASE"],[56,38,60,40],[56,39,60,40,"API_BASE"],[56,47,60,40],[56,67,60,60],[56,69,60,62],[57,10,61,8,"method"],[57,16,61,14],[57,18,61,16],[57,24,61,22],[58,10,62,8,"headers"],[58,17,62,15],[59,10,63,8,"body"],[59,14,63,12],[59,16,63,14,"JSON"],[59,20,63,18],[59,21,63,19,"stringify"],[59,30,63,28],[59,31,63,29,"profileData"],[59,42,63,40],[60,8,64,6],[60,9,64,7],[60,10,64,8],[61,8,66,6,"console"],[61,15,66,13],[61,16,66,14,"log"],[61,19,66,17],[61,20,66,18],[61,67,66,65],[61,69,66,67,"response"],[61,77,66,75],[61,78,66,76,"status"],[61,84,66,82],[61,85,66,83],[62,6,67,4],[63,6,69,4],[63,10,69,8],[63,11,69,9,"response"],[63,19,69,17],[63,20,69,18,"ok"],[63,22,69,20],[63,24,69,22],[64,8,70,6],[64,14,70,12,"errorText"],[64,23,70,21],[64,26,70,24],[64,32,70,30,"response"],[64,40,70,38],[64,41,70,39,"text"],[64,45,70,43],[64,46,70,44],[64,47,70,45],[65,8,71,6,"console"],[65,15,71,13],[65,16,71,14,"error"],[65,21,71,19],[65,22,71,20],[65,61,71,59],[65,63,71,61,"errorText"],[65,72,71,70],[65,73,71,71],[66,8,72,6],[66,14,72,12],[66,18,72,16,"Error"],[66,23,72,21],[66,24,72,22],[66,40,72,38,"response"],[66,48,72,46],[66,49,72,47,"status"],[66,55,72,53],[66,60,72,58,"errorText"],[66,69,72,67],[66,71,72,69],[66,72,72,70],[67,6,73,4],[68,6,75,4],[68,12,75,10,"result"],[68,18,75,16],[68,21,75,19],[68,27,75,25,"response"],[68,35,75,33],[68,36,75,34,"json"],[68,40,75,38],[68,41,75,39],[68,42,75,40],[69,6,76,4,"console"],[69,13,76,11],[69,14,76,12,"log"],[69,17,76,15],[69,18,76,16],[69,69,76,67],[69,70,76,68],[70,4,77,2],[70,5,77,3],[70,6,77,4],[70,13,77,11,"error"],[70,18,77,21],[70,20,77,23],[71,6,78,4,"console"],[71,13,78,11],[71,14,78,12,"error"],[71,19,78,17],[71,20,78,18],[71,55,78,53],[71,57,78,55,"error"],[71,62,78,60],[71,63,78,61,"message"],[71,70,78,68],[71,71,78,69],[72,6,79,4],[72,12,79,10,"error"],[72,17,79,15],[73,4,80,2],[74,2,81,0],[75,0,81,1],[75,3]],"functionMap":{"names":["<global>","getEmployerProfile","saveEmployerProfile"],"mappings":"AAA;OCK;CD6B;OEG;CF2C"},"hasCjsExports":false},"type":"js/module"}]}