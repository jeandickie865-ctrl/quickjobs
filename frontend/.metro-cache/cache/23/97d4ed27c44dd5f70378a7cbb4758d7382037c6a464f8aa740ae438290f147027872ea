{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.searchAddress = searchAddress;\n  exports.reverseGeocode = reverseGeocode;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  /**\n   * Geocoding Service using Nominatim (OpenStreetMap)\n   * Provides address search and coordinate lookup\n   */\n  /**\n   * Search for addresses using Nominatim API\n   * @param street - Street name to search for\n   * @param postalCode - Optional postal code to narrow down results\n   * @param city - Optional city to narrow down results\n   * @returns Array of address suggestions\n   */\n  function searchAddress(_x, _x2, _x3) {\n    return _searchAddress.apply(this, arguments);\n  }\n  /**\n   * Reverse geocoding: Get address from coordinates\n   * @param lat - Latitude\n   * @param lon - Longitude\n   * @returns Address suggestion or null\n   */\n  function _searchAddress() {\n    _searchAddress = (0, _asyncToGenerator.default)(function* (street, postalCode, city) {\n      if (!street || street.trim().length < 3) {\n        return [];\n      }\n      try {\n        // Build search query\n        var parts = [street.trim()];\n        if (postalCode) parts.push(postalCode.trim());\n        if (city) parts.push(city.trim());\n\n        // Add \"Deutschland\" to limit to Germany\n        parts.push('Deutschland');\n        var query = parts.join(', ');\n\n        // Nominatim API call\n        var url = `https://nominatim.openstreetmap.org/search?` + `q=${encodeURIComponent(query)}` + `&format=json` + `&addressdetails=1` + `&limit=5` + `&countrycodes=de`;\n        var response = yield fetch(url, {\n          headers: {\n            'User-Agent': 'ShiftMatch-App/1.0'\n          }\n        });\n        if (!response.ok) {\n          console.warn('Nominatim API error:', response.status);\n          return [];\n        }\n        var data = yield response.json();\n\n        // Parse results\n        var suggestions = data.map(item => {\n          var addr = item.address || {};\n          return {\n            displayName: item.display_name,\n            street: addr.road || addr.pedestrian || addr.path || undefined,\n            postalCode: addr.postcode || undefined,\n            city: addr.city || addr.town || addr.village || addr.municipality || undefined,\n            lat: parseFloat(item.lat),\n            lon: parseFloat(item.lon)\n          };\n        });\n        return suggestions;\n      } catch (error) {\n        console.error('searchAddress error:', error);\n        return [];\n      }\n    });\n    return _searchAddress.apply(this, arguments);\n  }\n  function reverseGeocode(_x4, _x5) {\n    return _reverseGeocode.apply(this, arguments);\n  }\n  function _reverseGeocode() {\n    _reverseGeocode = (0, _asyncToGenerator.default)(function* (lat, lon) {\n      try {\n        var url = `https://nominatim.openstreetmap.org/reverse?` + `lat=${lat}` + `&lon=${lon}` + `&format=json` + `&addressdetails=1`;\n        var response = yield fetch(url, {\n          headers: {\n            'User-Agent': 'ShiftMatch-App/1.0'\n          }\n        });\n        if (!response.ok) {\n          return null;\n        }\n        var data = yield response.json();\n        var addr = data.address || {};\n        return {\n          displayName: data.display_name,\n          street: addr.road || addr.pedestrian || undefined,\n          postalCode: addr.postcode || undefined,\n          city: addr.city || addr.town || addr.village || undefined,\n          lat: parseFloat(data.lat),\n          lon: parseFloat(data.lon)\n        };\n      } catch (error) {\n        console.error('reverseGeocode error:', error);\n        return null;\n      }\n    });\n    return _reverseGeocode.apply(this, arguments);\n  }\n});","lineCount":116,"map":[[12,2,22,0,"exports"],[12,9,22,0],[12,10,22,0,"searchAddress"],[12,23,22,0],[12,26,22,0,"searchAddress"],[12,39,22,0],[13,2,90,0,"exports"],[13,9,90,0],[13,10,90,0,"reverseGeocode"],[13,24,90,0],[13,27,90,0,"reverseGeocode"],[13,41,90,0],[14,2,126,1],[14,6,126,1,"_babelRuntimeHelpersAsyncToGenerator"],[14,42,126,1],[14,45,126,1,"require"],[14,52,126,1],[14,53,126,1,"_dependencyMap"],[14,67,126,1],[15,2,126,1],[15,6,126,1,"_asyncToGenerator"],[15,23,126,1],[15,26,126,1,"_interopDefault"],[15,41,126,1],[15,42,126,1,"_babelRuntimeHelpersAsyncToGenerator"],[15,78,126,1],[16,2,1,0],[17,0,2,0],[18,0,3,0],[19,0,4,0],[20,2,15,0],[21,0,16,0],[22,0,17,0],[23,0,18,0],[24,0,19,0],[25,0,20,0],[26,0,21,0],[27,2,15,0],[27,11,22,22,"searchAddress"],[27,24,22,35,"searchAddress"],[27,25,22,35,"_x"],[27,27,22,35],[27,29,22,35,"_x2"],[27,32,22,35],[27,34,22,35,"_x3"],[27,37,22,35],[28,4,22,35],[28,11,22,35,"_searchAddress"],[28,25,22,35],[28,26,22,35,"apply"],[28,31,22,35],[28,38,22,35,"arguments"],[28,47,22,35],[29,2,22,35],[30,2,84,0],[31,0,85,0],[32,0,86,0],[33,0,87,0],[34,0,88,0],[35,0,89,0],[36,2,84,0],[36,11,84,0,"_searchAddress"],[36,26,84,0],[37,4,84,0,"_searchAddress"],[37,18,84,0],[37,25,84,0,"_asyncToGenerator"],[37,42,84,0],[37,43,84,0,"default"],[37,50,84,0],[37,52,22,7],[37,63,23,2,"street"],[37,69,23,16],[37,71,24,2,"postalCode"],[37,81,24,21],[37,83,25,2,"city"],[37,87,25,15],[37,89,26,32],[38,6,27,2],[38,10,27,6],[38,11,27,7,"street"],[38,17,27,13],[38,21,27,17,"street"],[38,27,27,23],[38,28,27,24,"trim"],[38,32,27,28],[38,33,27,29],[38,34,27,30],[38,35,27,31,"length"],[38,41,27,37],[38,44,27,40],[38,45,27,41],[38,47,27,43],[39,8,28,4],[39,15,28,11],[39,17,28,13],[40,6,29,2],[41,6,31,2],[41,10,31,6],[42,8,32,4],[43,8,33,4],[43,12,33,10,"parts"],[43,17,33,15],[43,20,33,18],[43,21,33,19,"street"],[43,27,33,25],[43,28,33,26,"trim"],[43,32,33,30],[43,33,33,31],[43,34,33,32],[43,35,33,33],[44,8,34,4],[44,12,34,8,"postalCode"],[44,22,34,18],[44,24,34,20,"parts"],[44,29,34,25],[44,30,34,26,"push"],[44,34,34,30],[44,35,34,31,"postalCode"],[44,45,34,41],[44,46,34,42,"trim"],[44,50,34,46],[44,51,34,47],[44,52,34,48],[44,53,34,49],[45,8,35,4],[45,12,35,8,"city"],[45,16,35,12],[45,18,35,14,"parts"],[45,23,35,19],[45,24,35,20,"push"],[45,28,35,24],[45,29,35,25,"city"],[45,33,35,29],[45,34,35,30,"trim"],[45,38,35,34],[45,39,35,35],[45,40,35,36],[45,41,35,37],[47,8,37,4],[48,8,38,4,"parts"],[48,13,38,9],[48,14,38,10,"push"],[48,18,38,14],[48,19,38,15],[48,32,38,28],[48,33,38,29],[49,8,40,4],[49,12,40,10,"query"],[49,17,40,15],[49,20,40,18,"parts"],[49,25,40,23],[49,26,40,24,"join"],[49,30,40,28],[49,31,40,29],[49,35,40,33],[49,36,40,34],[51,8,42,4],[52,8,43,4],[52,12,43,10,"url"],[52,15,43,13],[52,18,43,16],[52,63,43,61],[52,66,44,6],[52,71,44,11,"encodeURIComponent"],[52,89,44,29],[52,90,44,30,"query"],[52,95,44,35],[52,96,44,36],[52,98,44,38],[52,101,45,6],[52,115,45,20],[52,118,46,6],[52,137,46,25],[52,140,47,6],[52,150,47,16],[52,153,48,6],[52,171,48,24],[53,8,50,4],[53,12,50,10,"response"],[53,20,50,18],[53,29,50,27,"fetch"],[53,34,50,32],[53,35,50,33,"url"],[53,38,50,36],[53,40,50,38],[54,10,51,6,"headers"],[54,17,51,13],[54,19,51,15],[55,12,52,8],[55,24,52,20],[55,26,52,22],[56,10,53,6],[57,8,54,4],[57,9,54,5],[57,10,54,6],[58,8,56,4],[58,12,56,8],[58,13,56,9,"response"],[58,21,56,17],[58,22,56,18,"ok"],[58,24,56,20],[58,26,56,22],[59,10,57,6,"console"],[59,17,57,13],[59,18,57,14,"warn"],[59,22,57,18],[59,23,57,19],[59,45,57,41],[59,47,57,43,"response"],[59,55,57,51],[59,56,57,52,"status"],[59,62,57,58],[59,63,57,59],[60,10,58,6],[60,17,58,13],[60,19,58,15],[61,8,59,4],[62,8,61,4],[62,12,61,10,"data"],[62,16,61,14],[62,25,61,23,"response"],[62,33,61,31],[62,34,61,32,"json"],[62,38,61,36],[62,39,61,37],[62,40,61,38],[64,8,63,4],[65,8,64,4],[65,12,64,10,"suggestions"],[65,23,64,42],[65,26,64,45,"data"],[65,30,64,49],[65,31,64,50,"map"],[65,34,64,53],[65,35,64,55,"item"],[65,39,64,64],[65,43,64,69],[66,10,65,6],[66,14,65,12,"addr"],[66,18,65,16],[66,21,65,19,"item"],[66,25,65,23],[66,26,65,24,"address"],[66,33,65,31],[66,37,65,35],[66,38,65,36],[66,39,65,37],[67,10,67,6],[67,17,67,13],[68,12,68,8,"displayName"],[68,23,68,19],[68,25,68,21,"item"],[68,29,68,25],[68,30,68,26,"display_name"],[68,42,68,38],[69,12,69,8,"street"],[69,18,69,14],[69,20,69,16,"addr"],[69,24,69,20],[69,25,69,21,"road"],[69,29,69,25],[69,33,69,29,"addr"],[69,37,69,33],[69,38,69,34,"pedestrian"],[69,48,69,44],[69,52,69,48,"addr"],[69,56,69,52],[69,57,69,53,"path"],[69,61,69,57],[69,65,69,61,"undefined"],[69,74,69,70],[70,12,70,8,"postalCode"],[70,22,70,18],[70,24,70,20,"addr"],[70,28,70,24],[70,29,70,25,"postcode"],[70,37,70,33],[70,41,70,37,"undefined"],[70,50,70,46],[71,12,71,8,"city"],[71,16,71,12],[71,18,71,14,"addr"],[71,22,71,18],[71,23,71,19,"city"],[71,27,71,23],[71,31,71,27,"addr"],[71,35,71,31],[71,36,71,32,"town"],[71,40,71,36],[71,44,71,40,"addr"],[71,48,71,44],[71,49,71,45,"village"],[71,56,71,52],[71,60,71,56,"addr"],[71,64,71,60],[71,65,71,61,"municipality"],[71,77,71,73],[71,81,71,77,"undefined"],[71,90,71,86],[72,12,72,8,"lat"],[72,15,72,11],[72,17,72,13,"parseFloat"],[72,27,72,23],[72,28,72,24,"item"],[72,32,72,28],[72,33,72,29,"lat"],[72,36,72,32],[72,37,72,33],[73,12,73,8,"lon"],[73,15,73,11],[73,17,73,13,"parseFloat"],[73,27,73,23],[73,28,73,24,"item"],[73,32,73,28],[73,33,73,29,"lon"],[73,36,73,32],[74,10,74,6],[74,11,74,7],[75,8,75,4],[75,9,75,5],[75,10,75,6],[76,8,77,4],[76,15,77,11,"suggestions"],[76,26,77,22],[77,6,78,2],[77,7,78,3],[77,8,78,4],[77,15,78,11,"error"],[77,20,78,16],[77,22,78,18],[78,8,79,4,"console"],[78,15,79,11],[78,16,79,12,"error"],[78,21,79,17],[78,22,79,18],[78,44,79,40],[78,46,79,42,"error"],[78,51,79,47],[78,52,79,48],[79,8,80,4],[79,15,80,11],[79,17,80,13],[80,6,81,2],[81,4,82,0],[81,5,82,1],[82,4,82,1],[82,11,82,1,"_searchAddress"],[82,25,82,1],[82,26,82,1,"apply"],[82,31,82,1],[82,38,82,1,"arguments"],[82,47,82,1],[83,2,82,1],[84,2,82,1],[84,11,90,22,"reverseGeocode"],[84,25,90,36,"reverseGeocode"],[84,26,90,36,"_x4"],[84,29,90,36],[84,31,90,36,"_x5"],[84,34,90,36],[85,4,90,36],[85,11,90,36,"_reverseGeocode"],[85,26,90,36],[85,27,90,36,"apply"],[85,32,90,36],[85,39,90,36,"arguments"],[85,48,90,36],[86,2,90,36],[87,2,90,36],[87,11,90,36,"_reverseGeocode"],[87,27,90,36],[88,4,90,36,"_reverseGeocode"],[88,19,90,36],[88,26,90,36,"_asyncToGenerator"],[88,43,90,36],[88,44,90,36,"default"],[88,51,90,36],[88,53,90,7],[88,64,91,2,"lat"],[88,67,91,13],[88,69,92,2,"lon"],[88,72,92,13],[88,74,93,37],[89,6,94,2],[89,10,94,6],[90,8,95,4],[90,12,95,10,"url"],[90,15,95,13],[90,18,95,16],[90,64,95,62],[90,67,96,6],[90,74,96,13,"lat"],[90,77,96,16],[90,79,96,18],[90,82,97,6],[90,90,97,14,"lon"],[90,93,97,17],[90,95,97,19],[90,98,98,6],[90,112,98,20],[90,115,99,6],[90,134,99,25],[91,8,101,4],[91,12,101,10,"response"],[91,20,101,18],[91,29,101,27,"fetch"],[91,34,101,32],[91,35,101,33,"url"],[91,38,101,36],[91,40,101,38],[92,10,102,6,"headers"],[92,17,102,13],[92,19,102,15],[93,12,103,8],[93,24,103,20],[93,26,103,22],[94,10,104,6],[95,8,105,4],[95,9,105,5],[95,10,105,6],[96,8,107,4],[96,12,107,8],[96,13,107,9,"response"],[96,21,107,17],[96,22,107,18,"ok"],[96,24,107,20],[96,26,107,22],[97,10,108,6],[97,17,108,13],[97,21,108,17],[98,8,109,4],[99,8,111,4],[99,12,111,10,"data"],[99,16,111,14],[99,25,111,23,"response"],[99,33,111,31],[99,34,111,32,"json"],[99,38,111,36],[99,39,111,37],[99,40,111,38],[100,8,112,4],[100,12,112,10,"addr"],[100,16,112,14],[100,19,112,17,"data"],[100,23,112,21],[100,24,112,22,"address"],[100,31,112,29],[100,35,112,33],[100,36,112,34],[100,37,112,35],[101,8,114,4],[101,15,114,11],[102,10,115,6,"displayName"],[102,21,115,17],[102,23,115,19,"data"],[102,27,115,23],[102,28,115,24,"display_name"],[102,40,115,36],[103,10,116,6,"street"],[103,16,116,12],[103,18,116,14,"addr"],[103,22,116,18],[103,23,116,19,"road"],[103,27,116,23],[103,31,116,27,"addr"],[103,35,116,31],[103,36,116,32,"pedestrian"],[103,46,116,42],[103,50,116,46,"undefined"],[103,59,116,55],[104,10,117,6,"postalCode"],[104,20,117,16],[104,22,117,18,"addr"],[104,26,117,22],[104,27,117,23,"postcode"],[104,35,117,31],[104,39,117,35,"undefined"],[104,48,117,44],[105,10,118,6,"city"],[105,14,118,10],[105,16,118,12,"addr"],[105,20,118,16],[105,21,118,17,"city"],[105,25,118,21],[105,29,118,25,"addr"],[105,33,118,29],[105,34,118,30,"town"],[105,38,118,34],[105,42,118,38,"addr"],[105,46,118,42],[105,47,118,43,"village"],[105,54,118,50],[105,58,118,54,"undefined"],[105,67,118,63],[106,10,119,6,"lat"],[106,13,119,9],[106,15,119,11,"parseFloat"],[106,25,119,21],[106,26,119,22,"data"],[106,30,119,26],[106,31,119,27,"lat"],[106,34,119,30],[106,35,119,31],[107,10,120,6,"lon"],[107,13,120,9],[107,15,120,11,"parseFloat"],[107,25,120,21],[107,26,120,22,"data"],[107,30,120,26],[107,31,120,27,"lon"],[107,34,120,30],[108,8,121,4],[108,9,121,5],[109,6,122,2],[109,7,122,3],[109,8,122,4],[109,15,122,11,"error"],[109,20,122,16],[109,22,122,18],[110,8,123,4,"console"],[110,15,123,11],[110,16,123,12,"error"],[110,21,123,17],[110,22,123,18],[110,45,123,41],[110,47,123,43,"error"],[110,52,123,48],[110,53,123,49],[111,8,124,4],[111,15,124,11],[111,19,124,15],[112,6,125,2],[113,4,126,0],[113,5,126,1],[114,4,126,1],[114,11,126,1,"_reverseGeocode"],[114,26,126,1],[114,27,126,1,"apply"],[114,32,126,1],[114,39,126,1,"arguments"],[114,48,126,1],[115,2,126,1],[116,0,126,1],[116,3]],"functionMap":{"names":["<global>","searchAddress","data.map$argument_0","reverseGeocode"],"mappings":"AAA;OCqB;sDC0C;KDW;CDO;OGQ;CHoC"},"hasCjsExports":false},"type":"js/module"}]}