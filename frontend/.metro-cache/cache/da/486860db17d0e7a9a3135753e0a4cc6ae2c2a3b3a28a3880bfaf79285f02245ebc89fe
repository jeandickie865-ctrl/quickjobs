{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":44,"column":40,"index":1917}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"expo-modules-core","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":59,"index":59}}],"key":"ka0FS6s7ZmvhJq+hEjGkLLrGpyo="}},{"name":"./PushTokenManager","data":{"asyncType":null,"locs":[{"start":{"line":2,"column":0,"index":60},"end":{"line":2,"column":50,"index":110}}],"key":"4WsWLH2djqKrsxyXA3Qeudr3B1s="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.addPushTokenListener = addPushTokenListener;\n  exports.removePushTokenSubscription = removePushTokenSubscription;\n  var _expoModulesCore = require(_dependencyMap[1], \"expo-modules-core\");\n  var _PushTokenManager = _interopRequireDefault(require(_dependencyMap[2], \"./PushTokenManager\"));\n  // Web uses SyntheticEventEmitter\n  const tokenEmitter = new _expoModulesCore.EventEmitter(_PushTokenManager.default);\n  const newTokenEventName = 'onDevicePushToken';\n  /**\n   * In rare situations, a push token may be changed by the push notification service while the app is running.\n   * When a token is rolled, the old one becomes invalid and sending notifications to it will fail.\n   * A push token listener will let you handle this situation gracefully by registering the new token with your backend right away.\n   * @param listener A function accepting a push token as an argument, it will be called whenever the push token changes.\n   * @return A [`Subscription`](#subscription) object represents the subscription of the provided listener.\n   * @header fetch\n   * @example Registering a push token listener using a React hook.\n   * ```jsx\n   * import React from 'react';\n   * import * as Notifications from 'expo-notifications';\n   *\n   * import { registerDevicePushTokenAsync } from '../api';\n   *\n   * export default function App() {\n   *   React.useEffect(() => {\n   *     const subscription = Notifications.addPushTokenListener(registerDevicePushTokenAsync);\n   *     return () => subscription.remove();\n   *   }, []);\n   *\n   *   return (\n   *     // Your app content\n   *   );\n   * }\n   * ```\n   */\n  function addPushTokenListener(listener) {\n    const wrappingListener = ({\n      devicePushToken\n    }) => listener({\n      data: devicePushToken,\n      type: _expoModulesCore.Platform.OS\n    });\n    return tokenEmitter.addListener(newTokenEventName, wrappingListener);\n  }\n  /**\n   * Removes a push token subscription returned by an `addPushTokenListener` call.\n   * @param subscription A subscription returned by `addPushTokenListener` method.\n   * @header fetch\n   */\n  function removePushTokenSubscription(subscription) {\n    tokenEmitter.removeSubscription(subscription);\n  }\n});","lineCount":56,"map":[[8,2,1,0],[8,6,1,0,"_expoModulesCore"],[8,22,1,0],[8,25,1,0,"require"],[8,32,1,0],[8,33,1,0,"_dependencyMap"],[8,47,1,0],[9,2,2,0],[9,6,2,0,"_PushTokenManager"],[9,23,2,0],[9,26,2,0,"_interopRequireDefault"],[9,48,2,0],[9,49,2,0,"require"],[9,56,2,0],[9,57,2,0,"_dependencyMap"],[9,71,2,0],[10,2,3,0],[11,2,4,0],[11,8,4,6,"tokenEmitter"],[11,20,4,18],[11,23,4,21],[11,27,4,25,"EventEmitter"],[11,56,4,37],[11,57,4,38,"PushTokenManager"],[11,82,4,54],[11,83,4,55],[12,2,5,0],[12,8,5,6,"newTokenEventName"],[12,25,5,23],[12,28,5,26],[12,47,5,45],[13,2,6,0],[14,0,7,0],[15,0,8,0],[16,0,9,0],[17,0,10,0],[18,0,11,0],[19,0,12,0],[20,0,13,0],[21,0,14,0],[22,0,15,0],[23,0,16,0],[24,0,17,0],[25,0,18,0],[26,0,19,0],[27,0,20,0],[28,0,21,0],[29,0,22,0],[30,0,23,0],[31,0,24,0],[32,0,25,0],[33,0,26,0],[34,0,27,0],[35,0,28,0],[36,0,29,0],[37,0,30,0],[38,0,31,0],[39,2,32,7],[39,11,32,16,"addPushTokenListener"],[39,31,32,36,"addPushTokenListener"],[39,32,32,37,"listener"],[39,40,32,45],[39,42,32,47],[40,4,33,4],[40,10,33,10,"wrappingListener"],[40,26,33,26],[40,29,33,29,"wrappingListener"],[40,30,33,30],[41,6,33,32,"devicePushToken"],[42,4,33,48],[42,5,33,49],[42,10,33,54,"listener"],[42,18,33,62],[42,19,33,63],[43,6,33,65,"data"],[43,10,33,69],[43,12,33,71,"devicePushToken"],[43,27,33,86],[44,6,33,88,"type"],[44,10,33,92],[44,12,33,94,"Platform"],[44,37,33,102],[44,38,33,103,"OS"],[45,4,33,106],[45,5,33,107],[45,6,33,108],[46,4,34,4],[46,11,34,11,"tokenEmitter"],[46,23,34,23],[46,24,34,24,"addListener"],[46,35,34,35],[46,36,34,36,"newTokenEventName"],[46,53,34,53],[46,55,34,55,"wrappingListener"],[46,71,34,71],[46,72,34,72],[47,2,35,0],[48,2,36,0],[49,0,37,0],[50,0,38,0],[51,0,39,0],[52,0,40,0],[53,2,41,7],[53,11,41,16,"removePushTokenSubscription"],[53,38,41,43,"removePushTokenSubscription"],[53,39,41,44,"subscription"],[53,51,41,56],[53,53,41,58],[54,4,42,4,"tokenEmitter"],[54,16,42,16],[54,17,42,17,"removeSubscription"],[54,35,42,35],[54,36,42,36,"subscription"],[54,48,42,48],[54,49,42,49],[55,2,43,0],[56,0,43,1]],"functionMap":{"names":["<global>","addPushTokenListener","wrappingListener","removePushTokenSubscription"],"mappings":"AAA;OC+B;6BCC,+ED;CDE;OGM;CHE"}},"type":"js/module"}]}