{"dependencies":[{"name":"./api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":52},"end":{"line":2,"column":49,"index":101}}],"key":"FbKPDeRJ9TF3vg1eKYKz12urgic=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.getReviewsForWorker = getReviewsForWorker;\n  exports.getReviewsForEmployer = getReviewsForEmployer;\n  exports.addReview = addReview;\n  exports.calculateAverageRating = calculateAverageRating;\n  var _api = require(_dependencyMap[0], \"./api\");\n  // utils/reviewStore.ts - Review Store (REFACTORED)\n\n  // ===== GET REVIEWS FOR WORKER =====\n  async function getReviewsForWorker(workerId) {\n    console.log('ðŸ” getReviewsForWorker: Fetching reviews for worker', workerId);\n    try {\n      const headers = await (0, _api.getAuthHeaders)();\n      const response = await fetch(`${_api.API_BASE}/reviews/worker/${workerId}`, {\n        method: 'GET',\n        headers\n      });\n      if (!response.ok) {\n        const error = await response.text();\n        console.error('âŒ getReviewsForWorker: Failed', response.status, error);\n        throw new Error(`Failed to fetch reviews: ${response.status}`);\n      }\n      const reviews = await response.json();\n      console.log('âœ… getReviewsForWorker: Found', reviews.length, 'reviews');\n      return reviews;\n    } catch (error) {\n      console.error('âŒ getReviewsForWorker: Error', error);\n      throw error;\n    }\n  }\n\n  // ===== GET REVIEWS FOR EMPLOYER =====\n  async function getReviewsForEmployer(employerId) {\n    console.log('ðŸ” getReviewsForEmployer: Fetching reviews for employer', employerId);\n    try {\n      const headers = await (0, _api.getAuthHeaders)();\n      const response = await fetch(`${_api.API_BASE}/reviews/employer/${employerId}`, {\n        method: 'GET',\n        headers\n      });\n      if (!response.ok) {\n        const error = await response.text();\n        console.error('âŒ getReviewsForEmployer: Failed', response.status, error);\n        throw new Error(`Failed to fetch reviews: ${response.status}`);\n      }\n      const reviews = await response.json();\n      console.log('âœ… getReviewsForEmployer: Found', reviews.length, 'reviews');\n      return reviews;\n    } catch (error) {\n      console.error('âŒ getReviewsForEmployer: Error', error);\n      throw error;\n    }\n  }\n\n  // ===== ADD REVIEW =====\n  async function addReview(review) {\n    console.log('âž• addReview: Creating review');\n    try {\n      const headers = await (0, _api.getAuthHeaders)();\n      const response = await fetch(`${_api.API_BASE}/reviews`, {\n        method: 'POST',\n        headers,\n        body: JSON.stringify(review)\n      });\n      if (!response.ok) {\n        const error = await response.text();\n        console.error('âŒ addReview: Failed', response.status, error);\n        throw new Error(`Failed to create review: ${response.status}`);\n      }\n      const createdReview = await response.json();\n      console.log('âœ… addReview: Review created');\n      return createdReview;\n    } catch (error) {\n      console.error('âŒ addReview: Error', error);\n      throw error;\n    }\n  }\n\n  // ===== CALCULATE AVERAGE RATING =====\n  function calculateAverageRating(reviews) {\n    if (reviews.length === 0) return 0;\n    const sum = reviews.reduce((acc, review) => acc + review.rating, 0);\n    return sum / reviews.length;\n  }\n});","lineCount":90,"map":[[7,2,15,0,"exports"],[7,9,15,0],[7,10,15,0,"getReviewsForWorker"],[7,29,15,0],[7,32,15,0,"getReviewsForWorker"],[7,51,15,0],[8,2,42,0,"exports"],[8,9,42,0],[8,10,42,0,"getReviewsForEmployer"],[8,31,42,0],[8,34,42,0,"getReviewsForEmployer"],[8,55,42,0],[9,2,69,0,"exports"],[9,9,69,0],[9,10,69,0,"addReview"],[9,19,69,0],[9,22,69,0,"addReview"],[9,31,69,0],[10,2,97,0,"exports"],[10,9,97,0],[10,10,97,0,"calculateAverageRating"],[10,32,97,0],[10,35,97,0,"calculateAverageRating"],[10,57,97,0],[11,2,2,0],[11,6,2,0,"_api"],[11,10,2,0],[11,13,2,0,"require"],[11,20,2,0],[11,21,2,0,"_dependencyMap"],[11,35,2,0],[12,2,1,0],[14,2,14,0],[15,2,15,7],[15,17,15,22,"getReviewsForWorker"],[15,36,15,41,"getReviewsForWorker"],[15,37,15,42,"workerId"],[15,45,15,58],[15,47,15,79],[16,4,16,2,"console"],[16,11,16,9],[16,12,16,10,"log"],[16,15,16,13],[16,16,16,14],[16,69,16,67],[16,71,16,69,"workerId"],[16,79,16,77],[16,80,16,78],[17,4,18,2],[17,8,18,6],[18,6,19,4],[18,12,19,10,"headers"],[18,19,19,17],[18,22,19,20],[18,28,19,26],[18,32,19,26,"getAuthHeaders"],[18,36,19,40],[18,37,19,40,"getAuthHeaders"],[18,51,19,40],[18,53,19,41],[18,54,19,42],[19,6,21,4],[19,12,21,10,"response"],[19,20,21,18],[19,23,21,21],[19,29,21,27,"fetch"],[19,34,21,32],[19,35,21,33],[19,38,21,36,"API_BASE"],[19,42,21,44],[19,43,21,44,"API_BASE"],[19,51,21,44],[19,70,21,63,"workerId"],[19,78,21,71],[19,80,21,73],[19,82,21,75],[20,8,22,6,"method"],[20,14,22,12],[20,16,22,14],[20,21,22,19],[21,8,23,6,"headers"],[22,6,24,4],[22,7,24,5],[22,8,24,6],[23,6,26,4],[23,10,26,8],[23,11,26,9,"response"],[23,19,26,17],[23,20,26,18,"ok"],[23,22,26,20],[23,24,26,22],[24,8,27,6],[24,14,27,12,"error"],[24,19,27,17],[24,22,27,20],[24,28,27,26,"response"],[24,36,27,34],[24,37,27,35,"text"],[24,41,27,39],[24,42,27,40],[24,43,27,41],[25,8,28,6,"console"],[25,15,28,13],[25,16,28,14,"error"],[25,21,28,19],[25,22,28,20],[25,53,28,51],[25,55,28,53,"response"],[25,63,28,61],[25,64,28,62,"status"],[25,70,28,68],[25,72,28,70,"error"],[25,77,28,75],[25,78,28,76],[26,8,29,6],[26,14,29,12],[26,18,29,16,"Error"],[26,23,29,21],[26,24,29,22],[26,52,29,50,"response"],[26,60,29,58],[26,61,29,59,"status"],[26,67,29,65],[26,69,29,67],[26,70,29,68],[27,6,30,4],[28,6,32,4],[28,12,32,10,"reviews"],[28,19,32,17],[28,22,32,20],[28,28,32,26,"response"],[28,36,32,34],[28,37,32,35,"json"],[28,41,32,39],[28,42,32,40],[28,43,32,41],[29,6,33,4,"console"],[29,13,33,11],[29,14,33,12,"log"],[29,17,33,15],[29,18,33,16],[29,48,33,46],[29,50,33,48,"reviews"],[29,57,33,55],[29,58,33,56,"length"],[29,64,33,62],[29,66,33,64],[29,75,33,73],[29,76,33,74],[30,6,34,4],[30,13,34,11,"reviews"],[30,20,34,18],[31,4,35,2],[31,5,35,3],[31,6,35,4],[31,13,35,11,"error"],[31,18,35,16],[31,20,35,18],[32,6,36,4,"console"],[32,13,36,11],[32,14,36,12,"error"],[32,19,36,17],[32,20,36,18],[32,50,36,48],[32,52,36,50,"error"],[32,57,36,55],[32,58,36,56],[33,6,37,4],[33,12,37,10,"error"],[33,17,37,15],[34,4,38,2],[35,2,39,0],[37,2,41,0],[38,2,42,7],[38,17,42,22,"getReviewsForEmployer"],[38,38,42,43,"getReviewsForEmployer"],[38,39,42,44,"employerId"],[38,49,42,62],[38,51,42,83],[39,4,43,2,"console"],[39,11,43,9],[39,12,43,10,"log"],[39,15,43,13],[39,16,43,14],[39,73,43,71],[39,75,43,73,"employerId"],[39,85,43,83],[39,86,43,84],[40,4,45,2],[40,8,45,6],[41,6,46,4],[41,12,46,10,"headers"],[41,19,46,17],[41,22,46,20],[41,28,46,26],[41,32,46,26,"getAuthHeaders"],[41,36,46,40],[41,37,46,40,"getAuthHeaders"],[41,51,46,40],[41,53,46,41],[41,54,46,42],[42,6,48,4],[42,12,48,10,"response"],[42,20,48,18],[42,23,48,21],[42,29,48,27,"fetch"],[42,34,48,32],[42,35,48,33],[42,38,48,36,"API_BASE"],[42,42,48,44],[42,43,48,44,"API_BASE"],[42,51,48,44],[42,72,48,65,"employerId"],[42,82,48,75],[42,84,48,77],[42,86,48,79],[43,8,49,6,"method"],[43,14,49,12],[43,16,49,14],[43,21,49,19],[44,8,50,6,"headers"],[45,6,51,4],[45,7,51,5],[45,8,51,6],[46,6,53,4],[46,10,53,8],[46,11,53,9,"response"],[46,19,53,17],[46,20,53,18,"ok"],[46,22,53,20],[46,24,53,22],[47,8,54,6],[47,14,54,12,"error"],[47,19,54,17],[47,22,54,20],[47,28,54,26,"response"],[47,36,54,34],[47,37,54,35,"text"],[47,41,54,39],[47,42,54,40],[47,43,54,41],[48,8,55,6,"console"],[48,15,55,13],[48,16,55,14,"error"],[48,21,55,19],[48,22,55,20],[48,55,55,53],[48,57,55,55,"response"],[48,65,55,63],[48,66,55,64,"status"],[48,72,55,70],[48,74,55,72,"error"],[48,79,55,77],[48,80,55,78],[49,8,56,6],[49,14,56,12],[49,18,56,16,"Error"],[49,23,56,21],[49,24,56,22],[49,52,56,50,"response"],[49,60,56,58],[49,61,56,59,"status"],[49,67,56,65],[49,69,56,67],[49,70,56,68],[50,6,57,4],[51,6,59,4],[51,12,59,10,"reviews"],[51,19,59,17],[51,22,59,20],[51,28,59,26,"response"],[51,36,59,34],[51,37,59,35,"json"],[51,41,59,39],[51,42,59,40],[51,43,59,41],[52,6,60,4,"console"],[52,13,60,11],[52,14,60,12,"log"],[52,17,60,15],[52,18,60,16],[52,50,60,48],[52,52,60,50,"reviews"],[52,59,60,57],[52,60,60,58,"length"],[52,66,60,64],[52,68,60,66],[52,77,60,75],[52,78,60,76],[53,6,61,4],[53,13,61,11,"reviews"],[53,20,61,18],[54,4,62,2],[54,5,62,3],[54,6,62,4],[54,13,62,11,"error"],[54,18,62,16],[54,20,62,18],[55,6,63,4,"console"],[55,13,63,11],[55,14,63,12,"error"],[55,19,63,17],[55,20,63,18],[55,52,63,50],[55,54,63,52,"error"],[55,59,63,57],[55,60,63,58],[56,6,64,4],[56,12,64,10,"error"],[56,17,64,15],[57,4,65,2],[58,2,66,0],[60,2,68,0],[61,2,69,7],[61,17,69,22,"addReview"],[61,26,69,31,"addReview"],[61,27,69,32,"review"],[61,33,69,72],[61,35,69,91],[62,4,70,2,"console"],[62,11,70,9],[62,12,70,10,"log"],[62,15,70,13],[62,16,70,14],[62,46,70,44],[62,47,70,45],[63,4,72,2],[63,8,72,6],[64,6,73,4],[64,12,73,10,"headers"],[64,19,73,17],[64,22,73,20],[64,28,73,26],[64,32,73,26,"getAuthHeaders"],[64,36,73,40],[64,37,73,40,"getAuthHeaders"],[64,51,73,40],[64,53,73,41],[64,54,73,42],[65,6,75,4],[65,12,75,10,"response"],[65,20,75,18],[65,23,75,21],[65,29,75,27,"fetch"],[65,34,75,32],[65,35,75,33],[65,38,75,36,"API_BASE"],[65,42,75,44],[65,43,75,44,"API_BASE"],[65,51,75,44],[65,61,75,54],[65,63,75,56],[66,8,76,6,"method"],[66,14,76,12],[66,16,76,14],[66,22,76,20],[67,8,77,6,"headers"],[67,15,77,13],[68,8,78,6,"body"],[68,12,78,10],[68,14,78,12,"JSON"],[68,18,78,16],[68,19,78,17,"stringify"],[68,28,78,26],[68,29,78,27,"review"],[68,35,78,33],[69,6,79,4],[69,7,79,5],[69,8,79,6],[70,6,81,4],[70,10,81,8],[70,11,81,9,"response"],[70,19,81,17],[70,20,81,18,"ok"],[70,22,81,20],[70,24,81,22],[71,8,82,6],[71,14,82,12,"error"],[71,19,82,17],[71,22,82,20],[71,28,82,26,"response"],[71,36,82,34],[71,37,82,35,"text"],[71,41,82,39],[71,42,82,40],[71,43,82,41],[72,8,83,6,"console"],[72,15,83,13],[72,16,83,14,"error"],[72,21,83,19],[72,22,83,20],[72,43,83,41],[72,45,83,43,"response"],[72,53,83,51],[72,54,83,52,"status"],[72,60,83,58],[72,62,83,60,"error"],[72,67,83,65],[72,68,83,66],[73,8,84,6],[73,14,84,12],[73,18,84,16,"Error"],[73,23,84,21],[73,24,84,22],[73,52,84,50,"response"],[73,60,84,58],[73,61,84,59,"status"],[73,67,84,65],[73,69,84,67],[73,70,84,68],[74,6,85,4],[75,6,87,4],[75,12,87,10,"createdReview"],[75,25,87,23],[75,28,87,26],[75,34,87,32,"response"],[75,42,87,40],[75,43,87,41,"json"],[75,47,87,45],[75,48,87,46],[75,49,87,47],[76,6,88,4,"console"],[76,13,88,11],[76,14,88,12,"log"],[76,17,88,15],[76,18,88,16],[76,47,88,45],[76,48,88,46],[77,6,89,4],[77,13,89,11,"createdReview"],[77,26,89,24],[78,4,90,2],[78,5,90,3],[78,6,90,4],[78,13,90,11,"error"],[78,18,90,16],[78,20,90,18],[79,6,91,4,"console"],[79,13,91,11],[79,14,91,12,"error"],[79,19,91,17],[79,20,91,18],[79,40,91,38],[79,42,91,40,"error"],[79,47,91,45],[79,48,91,46],[80,6,92,4],[80,12,92,10,"error"],[80,17,92,15],[81,4,93,2],[82,2,94,0],[84,2,96,0],[85,2,97,7],[85,11,97,16,"calculateAverageRating"],[85,33,97,38,"calculateAverageRating"],[85,34,97,39,"reviews"],[85,41,97,56],[85,43,97,66],[86,4,98,2],[86,8,98,6,"reviews"],[86,15,98,13],[86,16,98,14,"length"],[86,22,98,20],[86,27,98,25],[86,28,98,26],[86,30,98,28],[86,37,98,35],[86,38,98,36],[87,4,99,2],[87,10,99,8,"sum"],[87,13,99,11],[87,16,99,14,"reviews"],[87,23,99,21],[87,24,99,22,"reduce"],[87,30,99,28],[87,31,99,29],[87,32,99,30,"acc"],[87,35,99,33],[87,37,99,35,"review"],[87,43,99,41],[87,48,99,46,"acc"],[87,51,99,49],[87,54,99,52,"review"],[87,60,99,58],[87,61,99,59,"rating"],[87,67,99,65],[87,69,99,67],[87,70,99,68],[87,71,99,69],[88,4,100,2],[88,11,100,9,"sum"],[88,14,100,12],[88,17,100,15,"reviews"],[88,24,100,22],[88,25,100,23,"length"],[88,31,100,29],[89,2,101,0],[90,0,101,1],[90,3]],"functionMap":{"names":["<global>","getReviewsForWorker","getReviewsForEmployer","addReview","calculateAverageRating","reviews.reduce$argument_0"],"mappings":"AAA;OCc;CDwB;OEG;CFwB;OGG;CHyB;OIG;6BCE,oCD;CJE"},"hasCjsExports":false},"type":"js/module"}]}