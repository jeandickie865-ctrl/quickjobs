{"dependencies":[{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return getActionFromState;\n    }\n  });\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[0], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  function getActionFromState(state, options) {\n    var _state$index, _normalizedConfig$scr;\n    // Create a normalized configs object which will be easier to use\n    var normalizedConfig = options ? createNormalizedConfigItem(options) : {};\n    var routes = state.index != null ? state.routes.slice(0, state.index + 1) : state.routes;\n    if (routes.length === 0) {\n      return undefined;\n    }\n    if (!(routes.length === 1 && routes[0].key === undefined || routes.length === 2 && routes[0].key === undefined && routes[0].name === (normalizedConfig == null ? void 0 : normalizedConfig.initialRouteName) && routes[1].key === undefined)) {\n      return {\n        type: 'RESET',\n        payload: state\n      };\n    }\n    var route = state.routes[(_state$index = state.index) != null ? _state$index : state.routes.length - 1];\n    var current = route == null ? void 0 : route.state;\n    var config = normalizedConfig == null || (_normalizedConfig$scr = normalizedConfig.screens) == null ? void 0 : _normalizedConfig$scr[route == null ? void 0 : route.name];\n    var params = Object.assign({}, route.params);\n    var payload = route ? {\n      name: route.name,\n      path: route.path,\n      params: params\n    } : undefined;\n    while (current) {\n      var _config, _config2;\n      if (current.routes.length === 0) {\n        return undefined;\n      }\n      var _routes = current.index != null ? current.routes.slice(0, current.index + 1) : current.routes;\n      var _route = _routes[_routes.length - 1];\n\n      // Explicitly set to override existing value when merging params\n      Object.assign(params, {\n        initial: undefined,\n        screen: undefined,\n        params: undefined,\n        state: undefined\n      });\n      if (_routes.length === 1 && _routes[0].key === undefined) {\n        params.initial = true;\n        params.screen = _route.name;\n      } else if (_routes.length === 2 && _routes[0].key === undefined && _routes[0].name === ((_config = config) == null ? void 0 : _config.initialRouteName) && _routes[1].key === undefined) {\n        params.initial = false;\n        params.screen = _route.name;\n      } else {\n        params.state = current;\n        break;\n      }\n      if (_route.state) {\n        params.params = Object.assign({}, _route.params);\n        params = params.params;\n      } else {\n        params.path = _route.path;\n        params.params = _route.params;\n      }\n      current = _route.state;\n      config = (_config2 = config) == null || (_config2 = _config2.screens) == null ? void 0 : _config2[_route.name];\n    }\n    if (!payload) {\n      return;\n    }\n\n    // Try to construct payload for a `NAVIGATE` action from the state\n    // This lets us preserve the navigation state and not lose it\n    return {\n      type: 'NAVIGATE',\n      payload: payload\n    };\n  }\n  var createNormalizedConfigItem = function createNormalizedConfigItem(config) {\n    return typeof config === 'object' && config != null ? {\n      initialRouteName: config.initialRouteName,\n      screens: config.screens != null ? createNormalizedConfigs(config.screens) : undefined\n    } : {};\n  };\n  var createNormalizedConfigs = function createNormalizedConfigs(options) {\n    return Object.entries(options).reduce(function (acc, _ref) {\n      var _ref2 = (0, _slicedToArray.default)(_ref, 2),\n        k = _ref2[0],\n        v = _ref2[1];\n      acc[k] = createNormalizedConfigItem(v);\n      return acc;\n    }, {});\n  };\n});","lineCount":104,"map":[[12,2,31,15,"Object"],[12,8,31,15],[12,9,31,15,"defineProperty"],[12,23,31,15],[12,24,31,15,"exports"],[12,31,31,15],[13,4,31,15,"enumerable"],[13,14,31,15],[14,4,31,15,"get"],[14,7,31,15],[14,18,31,15,"get"],[14,19,31,15],[15,6,31,15],[15,13,31,15,"getActionFromState"],[15,31,31,15],[16,4,31,15],[17,2,31,15],[18,2,137,1],[18,6,137,1,"_babelRuntimeHelpersSlicedToArray"],[18,39,137,1],[18,42,137,1,"require"],[18,49,137,1],[18,50,137,1,"_dependencyMap"],[18,64,137,1],[19,2,137,1],[19,6,137,1,"_slicedToArray"],[19,20,137,1],[19,23,137,1,"_interopDefault"],[19,38,137,1],[19,39,137,1,"_babelRuntimeHelpersSlicedToArray"],[19,72,137,1],[20,2,31,15],[20,11,31,24,"getActionFromState"],[20,29,31,42,"getActionFromState"],[20,30,32,2,"state"],[20,35,32,38],[20,37,33,2,"options"],[20,44,33,19],[20,46,34,70],[21,4,34,70],[21,8,34,70,"_state$index"],[21,20,34,70],[21,22,34,70,"_normalizedConfig$scr"],[21,43,34,70],[22,4,35,2],[23,4,36,2],[23,8,36,8,"normalizedConfig"],[23,24,36,24],[23,27,36,27,"options"],[23,34,36,34],[23,37,37,6,"createNormalizedConfigItem"],[23,63,37,32],[23,64,37,33,"options"],[23,71,37,71],[23,72,37,72],[23,75,38,6],[23,76,38,7],[23,77,38,8],[24,4,40,2],[24,8,40,8,"routes"],[24,14,40,14],[24,17,41,4,"state"],[24,22,41,9],[24,23,41,10,"index"],[24,28,41,15],[24,32,41,19],[24,36,41,23],[24,39,41,26,"state"],[24,44,41,31],[24,45,41,32,"routes"],[24,51,41,38],[24,52,41,39,"slice"],[24,57,41,44],[24,58,41,45],[24,59,41,46],[24,61,41,48,"state"],[24,66,41,53],[24,67,41,54,"index"],[24,72,41,59],[24,75,41,62],[24,76,41,63],[24,77,41,64],[24,80,41,67,"state"],[24,85,41,72],[24,86,41,73,"routes"],[24,92,41,79],[25,4,43,2],[25,8,43,6,"routes"],[25,14,43,12],[25,15,43,13,"length"],[25,21,43,19],[25,26,43,24],[25,27,43,25],[25,29,43,27],[26,6,44,4],[26,13,44,11,"undefined"],[26,22,44,20],[27,4,45,2],[28,4,47,2],[28,8,48,4],[28,10,49,7,"routes"],[28,16,49,13],[28,17,49,14,"length"],[28,23,49,20],[28,28,49,25],[28,29,49,26],[28,33,49,30,"routes"],[28,39,49,36],[28,40,49,37],[28,41,49,38],[28,42,49,39],[28,43,49,40,"key"],[28,46,49,43],[28,51,49,48,"undefined"],[28,60,49,57],[28,64,50,7,"routes"],[28,70,50,13],[28,71,50,14,"length"],[28,77,50,20],[28,82,50,25],[28,83,50,26],[28,87,51,8,"routes"],[28,93,51,14],[28,94,51,15],[28,95,51,16],[28,96,51,17],[28,97,51,18,"key"],[28,100,51,21],[28,105,51,26,"undefined"],[28,114,51,35],[28,118,52,8,"routes"],[28,124,52,14],[28,125,52,15],[28,126,52,16],[28,127,52,17],[28,128,52,18,"name"],[28,132,52,22],[28,138,52,27,"normalizedConfig"],[28,154,52,43],[28,174,52,27,"normalizedConfig"],[28,190,52,43],[28,191,52,45,"initialRouteName"],[28,207,52,61],[28,212,53,8,"routes"],[28,218,53,14],[28,219,53,15],[28,220,53,16],[28,221,53,17],[28,222,53,18,"key"],[28,225,53,21],[28,230,53,26,"undefined"],[28,239,53,36],[28,240,54,5],[28,242,55,4],[29,6,56,4],[29,13,56,11],[30,8,57,6,"type"],[30,12,57,10],[30,14,57,12],[30,21,57,19],[31,8,58,6,"payload"],[31,15,58,13],[31,17,58,15,"state"],[32,6,59,4],[32,7,59,5],[33,4,60,2],[34,4,62,2],[34,8,62,8,"route"],[34,13,62,13],[34,16,62,16,"state"],[34,21,62,21],[34,22,62,22,"routes"],[34,28,62,28],[34,30,62,28,"_state$index"],[34,42,62,28],[34,45,62,29,"state"],[34,50,62,34],[34,51,62,35,"index"],[34,56,62,40],[34,68,62,40,"_state$index"],[34,80,62,40],[34,83,62,44,"state"],[34,88,62,49],[34,89,62,50,"routes"],[34,95,62,56],[34,96,62,57,"length"],[34,102,62,63],[34,105,62,66],[34,106,62,67],[34,107,62,68],[35,4,64,2],[35,8,64,6,"current"],[35,15,64,56],[35,18,64,59,"route"],[35,23,64,64],[35,43,64,59,"route"],[35,48,64,64],[35,49,64,66,"state"],[35,54,64,71],[36,4,65,2],[36,8,65,6,"config"],[36,14,65,36],[36,17,65,39,"normalizedConfig"],[36,33,65,55],[36,46,65,55,"_normalizedConfig$scr"],[36,67,65,55],[36,70,65,39,"normalizedConfig"],[36,86,65,55],[36,87,65,57,"screens"],[36,94,65,64],[36,115,65,39,"_normalizedConfig$scr"],[36,136,65,39],[36,137,65,67,"route"],[36,142,65,72],[36,162,65,67,"route"],[36,167,65,72],[36,168,65,74,"name"],[36,172,65,78],[36,173,65,79],[37,4,66,2],[37,8,66,6,"params"],[37,14,66,12],[37,17,66,12,"Object"],[37,23,66,12],[37,24,66,12,"assign"],[37,30,66,12],[37,35,66,20,"route"],[37,40,66,25],[37,41,66,26,"params"],[37,47,66,32],[37,48,69,3],[38,4,71,2],[38,8,71,6,"payload"],[38,15,71,13],[38,18,71,16,"route"],[38,23,71,21],[38,26,72,6],[39,6,72,8,"name"],[39,10,72,12],[39,12,72,14,"route"],[39,17,72,19],[39,18,72,20,"name"],[39,22,72,24],[40,6,72,26,"path"],[40,10,72,30],[40,12,72,32,"route"],[40,17,72,37],[40,18,72,38,"path"],[40,22,72,42],[41,6,72,44,"params"],[41,12,72,50],[41,14,72,44,"params"],[42,4,72,51],[42,5,72,52],[42,8,73,6,"undefined"],[42,17,73,15],[43,4,75,2],[43,11,75,9,"current"],[43,18,75,16],[43,20,75,18],[44,6,75,18],[44,10,75,18,"_config"],[44,17,75,18],[44,19,75,18,"_config2"],[44,27,75,18],[45,6,76,4],[45,10,76,8,"current"],[45,17,76,15],[45,18,76,16,"routes"],[45,24,76,22],[45,25,76,23,"length"],[45,31,76,29],[45,36,76,34],[45,37,76,35],[45,39,76,37],[46,8,77,6],[46,15,77,13,"undefined"],[46,24,77,22],[47,6,78,4],[48,6,80,4],[48,10,80,10,"routes"],[48,17,80,16],[48,20,81,6,"current"],[48,27,81,13],[48,28,81,14,"index"],[48,33,81,19],[48,37,81,23],[48,41,81,27],[48,44,82,10,"current"],[48,51,82,17],[48,52,82,18,"routes"],[48,58,82,24],[48,59,82,25,"slice"],[48,64,82,30],[48,65,82,31],[48,66,82,32],[48,68,82,34,"current"],[48,75,82,41],[48,76,82,42,"index"],[48,81,82,47],[48,84,82,50],[48,85,82,51],[48,86,82,52],[48,89,83,10,"current"],[48,96,83,17],[48,97,83,18,"routes"],[48,103,83,24],[49,6,85,4],[49,10,85,10,"route"],[49,16,85,60],[49,19,86,6,"routes"],[49,26,86,12],[49,27,86,13,"routes"],[49,34,86,19],[49,35,86,20,"length"],[49,41,86,26],[49,44,86,29],[49,45,86,30],[49,46,86,31],[51,6,88,4],[52,6,89,4,"Object"],[52,12,89,10],[52,13,89,11,"assign"],[52,19,89,17],[52,20,89,18,"params"],[52,26,89,24],[52,28,89,26],[53,8,90,6,"initial"],[53,15,90,13],[53,17,90,15,"undefined"],[53,26,90,24],[54,8,91,6,"screen"],[54,14,91,12],[54,16,91,14,"undefined"],[54,25,91,23],[55,8,92,6,"params"],[55,14,92,12],[55,16,92,14,"undefined"],[55,25,92,23],[56,8,93,6,"state"],[56,13,93,11],[56,15,93,13,"undefined"],[57,6,94,4],[57,7,94,5],[57,8,94,6],[58,6,96,4],[58,10,96,8,"routes"],[58,17,96,14],[58,18,96,15,"length"],[58,24,96,21],[58,29,96,26],[58,30,96,27],[58,34,96,31,"routes"],[58,41,96,37],[58,42,96,38],[58,43,96,39],[58,44,96,40],[58,45,96,41,"key"],[58,48,96,44],[58,53,96,49,"undefined"],[58,62,96,58],[58,64,96,60],[59,8,97,6,"params"],[59,14,97,12],[59,15,97,13,"initial"],[59,22,97,20],[59,25,97,23],[59,29,97,27],[60,8,98,6,"params"],[60,14,98,12],[60,15,98,13,"screen"],[60,21,98,19],[60,24,98,22,"route"],[60,30,98,27],[60,31,98,28,"name"],[60,35,98,32],[61,6,99,4],[61,7,99,5],[61,13,99,11],[61,17,100,6,"routes"],[61,24,100,12],[61,25,100,13,"length"],[61,31,100,19],[61,36,100,24],[61,37,100,25],[61,41,101,6,"routes"],[61,48,101,12],[61,49,101,13],[61,50,101,14],[61,51,101,15],[61,52,101,16,"key"],[61,55,101,19],[61,60,101,24,"undefined"],[61,69,101,33],[61,73,102,6,"routes"],[61,80,102,12],[61,81,102,13],[61,82,102,14],[61,83,102,15],[61,84,102,16,"name"],[61,88,102,20],[61,95,102,20,"_config"],[61,102,102,20],[61,105,102,25,"config"],[61,111,102,31],[61,132,102,25,"_config"],[61,139,102,25],[61,140,102,33,"initialRouteName"],[61,156,102,49],[61,161,103,6,"routes"],[61,168,103,12],[61,169,103,13],[61,170,103,14],[61,171,103,15],[61,172,103,16,"key"],[61,175,103,19],[61,180,103,24,"undefined"],[61,189,103,33],[61,191,104,6],[62,8,105,6,"params"],[62,14,105,12],[62,15,105,13,"initial"],[62,22,105,20],[62,25,105,23],[62,30,105,28],[63,8,106,6,"params"],[63,14,106,12],[63,15,106,13,"screen"],[63,21,106,19],[63,24,106,22,"route"],[63,30,106,27],[63,31,106,28,"name"],[63,35,106,32],[64,6,107,4],[64,7,107,5],[64,13,107,11],[65,8,108,6,"params"],[65,14,108,12],[65,15,108,13,"state"],[65,20,108,18],[65,23,108,21,"current"],[65,30,108,28],[66,8,109,6],[67,6,110,4],[68,6,112,4],[68,10,112,8,"route"],[68,16,112,13],[68,17,112,14,"state"],[68,22,112,19],[68,24,112,21],[69,8,113,6,"params"],[69,14,113,12],[69,15,113,13,"params"],[69,21,113,19],[69,24,113,19,"Object"],[69,30,113,19],[69,31,113,19,"assign"],[69,37,113,19],[69,42,113,27,"route"],[69,48,113,32],[69,49,113,33,"params"],[69,55,113,39],[69,56,113,41],[70,8,114,6,"params"],[70,14,114,12],[70,17,114,15,"params"],[70,23,114,21],[70,24,114,22,"params"],[70,30,117,7],[71,6,118,4],[71,7,118,5],[71,13,118,11],[72,8,119,6,"params"],[72,14,119,12],[72,15,119,13,"path"],[72,19,119,17],[72,22,119,20,"route"],[72,28,119,25],[72,29,119,26,"path"],[72,33,119,30],[73,8,120,6,"params"],[73,14,120,12],[73,15,120,13,"params"],[73,21,120,19],[73,24,120,22,"route"],[73,30,120,27],[73,31,120,28,"params"],[73,37,120,34],[74,6,121,4],[75,6,123,4,"current"],[75,13,123,11],[75,16,123,14,"route"],[75,22,123,19],[75,23,123,20,"state"],[75,28,123,25],[76,6,124,4,"config"],[76,12,124,10],[76,16,124,10,"_config2"],[76,24,124,10],[76,27,124,13,"config"],[76,33,124,19],[76,47,124,19,"_config2"],[76,55,124,19],[76,58,124,13,"_config2"],[76,66,124,13],[76,67,124,21,"screens"],[76,74,124,28],[76,95,124,13,"_config2"],[76,103,124,13],[76,104,124,31,"route"],[76,110,124,36],[76,111,124,37,"name"],[76,115,124,41],[76,116,124,42],[77,4,125,2],[78,4,127,2],[78,8,127,6],[78,9,127,7,"payload"],[78,16,127,14],[78,18,127,16],[79,6,128,4],[80,4,129,2],[82,4,131,2],[83,4,132,2],[84,4,133,2],[84,11,133,9],[85,6,134,4,"type"],[85,10,134,8],[85,12,134,10],[85,22,134,20],[86,6,135,4,"payload"],[86,13,135,11],[86,15,135,4,"payload"],[87,4,136,2],[87,5,136,3],[88,2,137,0],[89,2,139,0],[89,6,139,6,"createNormalizedConfigItem"],[89,32,139,32],[89,35,139,35],[89,44,139,6,"createNormalizedConfigItem"],[89,70,139,32,"createNormalizedConfigItem"],[89,71,139,36,"config"],[89,77,139,71],[90,4,139,71],[90,11,140,2],[90,18,140,9,"config"],[90,24,140,15],[90,29,140,20],[90,37,140,28],[90,41,140,32,"config"],[90,47,140,38],[90,51,140,42],[90,55,140,46],[90,58,141,6],[91,6,142,8,"initialRouteName"],[91,22,142,24],[91,24,142,26,"config"],[91,30,142,32],[91,31,142,33,"initialRouteName"],[91,47,142,49],[92,6,143,8,"screens"],[92,13,143,15],[92,15,144,10,"config"],[92,21,144,16],[92,22,144,17,"screens"],[92,29,144,24],[92,33,144,28],[92,37,144,32],[92,40,145,14,"createNormalizedConfigs"],[92,63,145,37],[92,64,145,38,"config"],[92,70,145,44],[92,71,145,45,"screens"],[92,78,145,52],[92,79,145,53],[92,82,146,14,"undefined"],[93,4,147,6],[93,5,147,7],[93,8,148,6],[93,9,148,7],[93,10,148,8],[94,2,148,8],[95,2,150,0],[95,6,150,6,"createNormalizedConfigs"],[95,29,150,29],[95,32,150,32],[95,41,150,6,"createNormalizedConfigs"],[95,64,150,29,"createNormalizedConfigs"],[95,65,150,33,"options"],[95,72,150,63],[96,4,150,63],[96,11,151,2,"Object"],[96,17,151,8],[96,18,151,9,"entries"],[96,25,151,16],[96,26,151,17,"options"],[96,33,151,24],[96,34,151,25],[96,35,151,26,"reduce"],[96,41,151,32],[96,42,151,61],[96,52,151,62,"acc"],[96,55,151,65],[96,57,151,65,"_ref"],[96,61,151,65],[96,63,151,78],[97,6,151,78],[97,10,151,78,"_ref2"],[97,15,151,78],[97,22,151,78,"_slicedToArray"],[97,36,151,78],[97,37,151,78,"default"],[97,44,151,78],[97,46,151,78,"_ref"],[97,50,151,78],[98,8,151,68,"k"],[98,9,151,69],[98,12,151,69,"_ref2"],[98,17,151,69],[99,8,151,71,"v"],[99,9,151,72],[99,12,151,72,"_ref2"],[99,17,151,72],[100,6,152,4,"acc"],[100,9,152,7],[100,10,152,8,"k"],[100,11,152,9],[100,12,152,10],[100,15,152,13,"createNormalizedConfigItem"],[100,41,152,39],[100,42,152,40,"v"],[100,43,152,41],[100,44,152,42],[101,6,153,4],[101,13,153,11,"acc"],[101,16,153,14],[102,4,154,2],[102,5,154,3],[102,7,154,5],[102,8,154,6],[102,9,154,7],[102,10,154,8],[103,2,154,8],[104,0,154,9],[104,3]],"functionMap":{"names":["<global>","getActionFromState","createNormalizedConfigItem","createNormalizedConfigs","Object.entries.reduce$argument_0"],"mappings":"AAA;eC8B;CD0G;mCEE;QFS;gCGE;6DCC;GDG,KH"},"hasCjsExports":false},"type":"js/module"}]}