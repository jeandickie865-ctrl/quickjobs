{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../config","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":36,"index":185}}],"key":"pHqFJJBAh3HI9ZCkK8fFRwPv3x0=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _config = require(_dependencyMap[2], \"../config\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)({\n    user: null,\n    token: null,\n    loading: true,\n    login: async () => false,\n    logout: async () => {}\n  });\n  function AuthProvider({\n    children\n  }) {\n    _s();\n    const [token, setToken] = (0, _react.useState)(null);\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    async function loadSession() {\n      const storedToken = await AsyncStorage.default.getItem(\"token\");\n      if (storedToken) {\n        setToken(storedToken);\n        const me = await fetch(`${_config.API_URL}/auth/me`, {\n          headers: {\n            Authorization: `Bearer ${storedToken}`\n          }\n        });\n        const data = await me.json();\n        setUser(data);\n      }\n      setLoading(false);\n    }\n    (0, _react.useEffect)(() => {\n      loadSession();\n    }, []);\n    async function login(email, password) {\n      const res = await fetch(`${_config.API_URL}/auth/login`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          email,\n          password\n        })\n      });\n      if (!res.ok) return false;\n      const data = await res.json();\n      await AsyncStorage.default.setItem(\"token\", data.token);\n      setToken(data.token);\n      const me = await fetch(`${_config.API_URL}/auth/me`, {\n        headers: {\n          Authorization: `Bearer ${data.token}`\n        }\n      });\n      const user = await me.json();\n      setUser(user);\n      return true;\n    }\n    async function logout() {\n      await AsyncStorage.default.removeItem(\"token\");\n      setUser(null);\n      setToken(null);\n    }\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        loading,\n        login,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }, this);\n  }\n  _s(AuthProvider, \"BJLYEWtx1XAvvNbKDl/BNSvb+Nw=\");\n  _c = AuthProvider;\n  function useAuth() {\n    _s2();\n    return (0, _react.useContext)(AuthContext);\n  }\n  _s2(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":106,"map":[[15,2,21,0,"exports"],[15,9,21,0],[15,10,21,0,"AuthProvider"],[15,22,21,0],[15,25,21,0,"AuthProvider"],[15,37,21,0],[16,2,80,0,"exports"],[16,9,80,0],[16,10,80,0,"useAuth"],[16,17,80,0],[16,20,80,0,"useAuth"],[16,27,80,0],[17,2,1,0],[17,6,1,0,"_react"],[17,12,1,0],[17,15,1,0,"require"],[17,22,1,0],[17,23,1,0,"_dependencyMap"],[17,37,1,0],[18,2,2,0],[18,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[18,42,2,0],[18,45,2,0,"require"],[18,52,2,0],[18,53,2,0,"_dependencyMap"],[18,67,2,0],[19,2,2,0],[19,6,2,0,"AsyncStorage"],[19,18,2,0],[19,21,2,0,"_interopDefault"],[19,36,2,0],[19,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,73,2,0],[20,2,3,0],[20,6,3,0,"_config"],[20,13,3,0],[20,16,3,0,"require"],[20,23,3,0],[20,24,3,0,"_dependencyMap"],[20,38,3,0],[21,2,3,36],[21,6,3,36,"_reactJsxDevRuntime"],[21,25,3,36],[21,28,3,36,"require"],[21,35,3,36],[21,36,3,36,"_dependencyMap"],[21,50,3,36],[22,2,13,0],[22,8,13,6,"AuthContext"],[22,19,13,17],[22,35,13,20],[22,39,13,20,"createContext"],[22,45,13,33],[22,46,13,33,"createContext"],[22,59,13,33],[22,61,13,52],[23,4,14,2,"user"],[23,8,14,6],[23,10,14,8],[23,14,14,12],[24,4,15,2,"token"],[24,9,15,7],[24,11,15,9],[24,15,15,13],[25,4,16,2,"loading"],[25,11,16,9],[25,13,16,11],[25,17,16,15],[26,4,17,2,"login"],[26,9,17,7],[26,11,17,9],[26,17,17,9,"login"],[26,18,17,9],[26,23,17,21],[26,28,17,26],[27,4,18,2,"logout"],[27,10,18,8],[27,12,18,10],[27,18,18,10,"logout"],[27,19,18,10],[27,24,18,22],[27,25,18,23],[28,2,19,0],[28,3,19,1],[28,4,19,2],[29,2,21,7],[29,11,21,16,"AuthProvider"],[29,23,21,28,"AuthProvider"],[29,24,21,29],[30,4,21,31,"children"],[31,2,21,40],[31,3,21,41],[31,5,21,43],[32,4,21,43,"_s"],[32,6,21,43],[33,4,22,2],[33,10,22,8],[33,11,22,9,"token"],[33,16,22,14],[33,18,22,16,"setToken"],[33,26,22,24],[33,27,22,25],[33,30,22,28],[33,34,22,28,"useState"],[33,40,22,36],[33,41,22,36,"useState"],[33,49,22,36],[33,51,22,52],[33,55,22,56],[33,56,22,57],[34,4,23,2],[34,10,23,8],[34,11,23,9,"user"],[34,15,23,13],[34,17,23,15,"setUser"],[34,24,23,22],[34,25,23,23],[34,28,23,26],[34,32,23,26,"useState"],[34,38,23,34],[34,39,23,34,"useState"],[34,47,23,34],[34,49,23,40],[34,53,23,44],[34,54,23,45],[35,4,24,2],[35,10,24,8],[35,11,24,9,"loading"],[35,18,24,16],[35,20,24,18,"setLoading"],[35,30,24,28],[35,31,24,29],[35,34,24,32],[35,38,24,32,"useState"],[35,44,24,40],[35,45,24,40,"useState"],[35,53,24,40],[35,55,24,41],[35,59,24,45],[35,60,24,46],[36,4,26,2],[36,19,26,17,"loadSession"],[36,30,26,28,"loadSession"],[36,31,26,28],[36,33,26,31],[37,6,27,4],[37,12,27,10,"storedToken"],[37,23,27,21],[37,26,27,24],[37,32,27,30,"AsyncStorage"],[37,44,27,42],[37,45,27,42,"default"],[37,52,27,42],[37,53,27,43,"getItem"],[37,60,27,50],[37,61,27,51],[37,68,27,58],[37,69,27,59],[38,6,29,4],[38,10,29,8,"storedToken"],[38,21,29,19],[38,23,29,21],[39,8,30,6,"setToken"],[39,16,30,14],[39,17,30,15,"storedToken"],[39,28,30,26],[39,29,30,27],[40,8,31,6],[40,14,31,12,"me"],[40,16,31,14],[40,19,31,17],[40,25,31,23,"fetch"],[40,30,31,28],[40,31,31,29],[40,34,31,32,"API_URL"],[40,41,31,39],[40,42,31,39,"API_URL"],[40,49,31,39],[40,59,31,49],[40,61,31,51],[41,10,32,8,"headers"],[41,17,32,15],[41,19,32,17],[42,12,32,19,"Authorization"],[42,25,32,32],[42,27,32,34],[42,37,32,44,"storedToken"],[42,48,32,55],[43,10,32,58],[44,8,33,6],[44,9,33,7],[44,10,33,8],[45,8,34,6],[45,14,34,12,"data"],[45,18,34,16],[45,21,34,19],[45,27,34,25,"me"],[45,29,34,27],[45,30,34,28,"json"],[45,34,34,32],[45,35,34,33],[45,36,34,34],[46,8,35,6,"setUser"],[46,15,35,13],[46,16,35,14,"data"],[46,20,35,18],[46,21,35,19],[47,6,36,4],[48,6,38,4,"setLoading"],[48,16,38,14],[48,17,38,15],[48,22,38,20],[48,23,38,21],[49,4,39,2],[50,4,41,2],[50,8,41,2,"useEffect"],[50,14,41,11],[50,15,41,11,"useEffect"],[50,24,41,11],[50,26,41,12],[50,32,41,18],[51,6,42,4,"loadSession"],[51,17,42,15],[51,18,42,16],[51,19,42,17],[52,4,43,2],[52,5,43,3],[52,7,43,5],[52,9,43,7],[52,10,43,8],[53,4,45,2],[53,19,45,17,"login"],[53,24,45,22,"login"],[53,25,45,23,"email"],[53,30,45,36],[53,32,45,38,"password"],[53,40,45,54],[53,42,45,56],[54,6,46,4],[54,12,46,10,"res"],[54,15,46,13],[54,18,46,16],[54,24,46,22,"fetch"],[54,29,46,27],[54,30,46,28],[54,33,46,31,"API_URL"],[54,40,46,38],[54,41,46,38,"API_URL"],[54,48,46,38],[54,61,46,51],[54,63,46,53],[55,8,47,6,"method"],[55,14,47,12],[55,16,47,14],[55,22,47,20],[56,8,48,6,"headers"],[56,15,48,13],[56,17,48,15],[57,10,48,17],[57,24,48,31],[57,26,48,33],[58,8,48,52],[58,9,48,53],[59,8,49,6,"body"],[59,12,49,10],[59,14,49,12,"JSON"],[59,18,49,16],[59,19,49,17,"stringify"],[59,28,49,26],[59,29,49,27],[60,10,49,29,"email"],[60,15,49,34],[61,10,49,36,"password"],[62,8,49,45],[62,9,49,46],[63,6,50,4],[63,7,50,5],[63,8,50,6],[64,6,52,4],[64,10,52,8],[64,11,52,9,"res"],[64,14,52,12],[64,15,52,13,"ok"],[64,17,52,15],[64,19,52,17],[64,26,52,24],[64,31,52,29],[65,6,54,4],[65,12,54,10,"data"],[65,16,54,14],[65,19,54,17],[65,25,54,23,"res"],[65,28,54,26],[65,29,54,27,"json"],[65,33,54,31],[65,34,54,32],[65,35,54,33],[66,6,55,4],[66,12,55,10,"AsyncStorage"],[66,24,55,22],[66,25,55,22,"default"],[66,32,55,22],[66,33,55,23,"setItem"],[66,40,55,30],[66,41,55,31],[66,48,55,38],[66,50,55,40,"data"],[66,54,55,44],[66,55,55,45,"token"],[66,60,55,50],[66,61,55,51],[67,6,56,4,"setToken"],[67,14,56,12],[67,15,56,13,"data"],[67,19,56,17],[67,20,56,18,"token"],[67,25,56,23],[67,26,56,24],[68,6,58,4],[68,12,58,10,"me"],[68,14,58,12],[68,17,58,15],[68,23,58,21,"fetch"],[68,28,58,26],[68,29,58,27],[68,32,58,30,"API_URL"],[68,39,58,37],[68,40,58,37,"API_URL"],[68,47,58,37],[68,57,58,47],[68,59,58,49],[69,8,59,6,"headers"],[69,15,59,13],[69,17,59,15],[70,10,59,17,"Authorization"],[70,23,59,30],[70,25,59,32],[70,35,59,42,"data"],[70,39,59,46],[70,40,59,47,"token"],[70,45,59,52],[71,8,59,55],[72,6,60,4],[72,7,60,5],[72,8,60,6],[73,6,61,4],[73,12,61,10,"user"],[73,16,61,14],[73,19,61,17],[73,25,61,23,"me"],[73,27,61,25],[73,28,61,26,"json"],[73,32,61,30],[73,33,61,31],[73,34,61,32],[74,6,63,4,"setUser"],[74,13,63,11],[74,14,63,12,"user"],[74,18,63,16],[74,19,63,17],[75,6,64,4],[75,13,64,11],[75,17,64,15],[76,4,65,2],[77,4,67,2],[77,19,67,17,"logout"],[77,25,67,23,"logout"],[77,26,67,23],[77,28,67,26],[78,6,68,4],[78,12,68,10,"AsyncStorage"],[78,24,68,22],[78,25,68,22,"default"],[78,32,68,22],[78,33,68,23,"removeItem"],[78,43,68,33],[78,44,68,34],[78,51,68,41],[78,52,68,42],[79,6,69,4,"setUser"],[79,13,69,11],[79,14,69,12],[79,18,69,16],[79,19,69,17],[80,6,70,4,"setToken"],[80,14,70,12],[80,15,70,13],[80,19,70,17],[80,20,70,18],[81,4,71,2],[82,4,73,2],[82,24,74,4],[82,28,74,4,"_reactJsxDevRuntime"],[82,47,74,4],[82,48,74,4,"jsxDEV"],[82,54,74,4],[82,56,74,5,"AuthContext"],[82,67,74,16],[82,68,74,17,"Provider"],[82,76,74,25],[83,6,74,26,"value"],[83,11,74,31],[83,13,74,33],[84,8,74,35,"user"],[84,12,74,39],[85,8,74,41,"token"],[85,13,74,46],[86,8,74,48,"loading"],[86,15,74,55],[87,8,74,57,"login"],[87,13,74,62],[88,8,74,64,"logout"],[89,6,74,71],[89,7,74,73],[90,6,74,73,"children"],[90,14,74,73],[90,16,75,7,"children"],[91,4,75,15],[92,6,75,15,"fileName"],[92,14,75,15],[92,16,75,15,"_jsxFileName"],[92,28,75,15],[93,6,75,15,"lineNumber"],[93,16,75,15],[94,6,75,15,"columnNumber"],[94,18,75,15],[95,4,75,15],[95,11,76,26],[95,12,76,27],[96,2,78,0],[97,2,78,1,"_s"],[97,4,78,1],[97,5,21,16,"AuthProvider"],[97,17,21,28],[98,2,21,28,"_c"],[98,4,21,28],[98,7,21,16,"AuthProvider"],[98,19,21,28],[99,2,80,7],[99,11,80,16,"useAuth"],[99,18,80,23,"useAuth"],[99,19,80,23],[99,21,80,26],[100,4,80,26,"_s2"],[100,7,80,26],[101,4,81,2],[101,11,81,9],[101,15,81,9,"useContext"],[101,21,81,19],[101,22,81,19,"useContext"],[101,32,81,19],[101,34,81,20,"AuthContext"],[101,45,81,31],[101,46,81,32],[102,2,82,0],[103,2,82,1,"_s2"],[103,5,82,1],[103,6,80,16,"useAuth"],[103,13,80,23],[104,2,80,23],[104,6,80,23,"_c"],[104,8,80,23],[105,2,80,23,"$RefreshReg$"],[105,14,80,23],[105,15,80,23,"_c"],[105,17,80,23],[106,0,80,23],[106,3]],"functionMap":{"names":["<global>","createContext$argument_0.login","createContext$argument_0.logout","AuthProvider","loadSession","useEffect$argument_0","login","logout","useAuth"],"mappings":"AAA;SCgB,iBD;UEC,cF;OGG;ECK;GDa;YEE;GFE;EGE;GHoB;EIE;GJI;CHO;OQE;CRE"},"hasCjsExports":false},"type":"js/module"}]}