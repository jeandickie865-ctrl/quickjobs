{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":64},"end":{"line":2,"column":31,"index":95}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"./NavigationBuilderContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":97},"end":{"line":4,"column":66,"index":163}}],"key":"KFIEweWhugyJmWZL0YQ42pa68TE=","exportNames":["*"],"imports":1}},{"name":"./NavigationStateContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":164},"end":{"line":5,"column":62,"index":226}}],"key":"bwI9wPNIrE00l9yVZPhbBS/R6kI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return useOptionsGetters;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var React = _interopNamespace(_react);\n  var _NavigationBuilderContext = require(_dependencyMap[1], \"./NavigationBuilderContext\");\n  var NavigationBuilderContext = _interopDefault(_NavigationBuilderContext);\n  var _NavigationStateContext = require(_dependencyMap[2], \"./NavigationStateContext\");\n  var NavigationStateContext = _interopDefault(_NavigationStateContext);\n  function useOptionsGetters(_ref) {\n    var key = _ref.key,\n      options = _ref.options,\n      navigation = _ref.navigation;\n    var optionsRef = React.useRef(options);\n    var optionsGettersFromChildRef = React.useRef({});\n    var _React$useContext = React.useContext(NavigationBuilderContext.default),\n      onOptionsChange = _React$useContext.onOptionsChange;\n    var _React$useContext2 = React.useContext(NavigationStateContext.default),\n      parentAddOptionsGetter = _React$useContext2.addOptionsGetter;\n    var optionsChangeListener = React.useCallback(function () {\n      var _navigation$isFocused;\n      var isFocused = (_navigation$isFocused = navigation == null ? void 0 : navigation.isFocused()) != null ? _navigation$isFocused : true;\n      var hasChildren = Object.keys(optionsGettersFromChildRef.current).length;\n      if (isFocused && !hasChildren) {\n        var _optionsRef$current;\n        onOptionsChange((_optionsRef$current = optionsRef.current) != null ? _optionsRef$current : {});\n      }\n    }, [navigation, onOptionsChange]);\n    React.useEffect(function () {\n      optionsRef.current = options;\n      optionsChangeListener();\n      return navigation == null ? void 0 : navigation.addListener('focus', optionsChangeListener);\n    }, [navigation, options, optionsChangeListener]);\n    var getOptionsFromListener = React.useCallback(function () {\n      for (var _key in optionsGettersFromChildRef.current) {\n        if (optionsGettersFromChildRef.current.hasOwnProperty(_key)) {\n          var _optionsGettersFromCh, _optionsGettersFromCh2;\n          var result = (_optionsGettersFromCh = (_optionsGettersFromCh2 = optionsGettersFromChildRef.current)[_key]) == null ? void 0 : _optionsGettersFromCh.call(_optionsGettersFromCh2);\n\n          // null means unfocused route\n          if (result !== null) {\n            return result;\n          }\n        }\n      }\n      return null;\n    }, []);\n    var getCurrentOptions = React.useCallback(function () {\n      var _navigation$isFocused2;\n      var isFocused = (_navigation$isFocused2 = navigation == null ? void 0 : navigation.isFocused()) != null ? _navigation$isFocused2 : true;\n      if (!isFocused) {\n        return null;\n      }\n      var optionsFromListener = getOptionsFromListener();\n      if (optionsFromListener !== null) {\n        return optionsFromListener;\n      }\n      return optionsRef.current;\n    }, [navigation, getOptionsFromListener]);\n    React.useEffect(function () {\n      return parentAddOptionsGetter == null ? void 0 : parentAddOptionsGetter(key, getCurrentOptions);\n    }, [getCurrentOptions, parentAddOptionsGetter, key]);\n    var addOptionsGetter = React.useCallback(function (key, getter) {\n      optionsGettersFromChildRef.current[key] = getter;\n      optionsChangeListener();\n      return function () {\n        // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n        delete optionsGettersFromChildRef.current[key];\n        optionsChangeListener();\n      };\n    }, [optionsChangeListener]);\n    return {\n      addOptionsGetter: addOptionsGetter,\n      getCurrentOptions: getCurrentOptions\n    };\n  }\n});","lineCount":106,"map":[[27,2,14,15,"Object"],[27,8,14,15],[27,9,14,15,"defineProperty"],[27,23,14,15],[27,24,14,15,"exports"],[27,31,14,15],[28,4,14,15,"enumerable"],[28,14,14,15],[29,4,14,15,"get"],[29,7,14,15],[29,18,14,15,"get"],[29,19,14,15],[30,6,14,15],[30,13,14,15,"useOptionsGetters"],[30,30,14,15],[31,4,14,15],[32,2,14,15],[33,2,2,0],[33,6,2,0,"_react"],[33,12,2,0],[33,15,2,0,"require"],[33,22,2,0],[33,23,2,0,"_dependencyMap"],[33,37,2,0],[34,2,2,0],[34,6,2,0,"React"],[34,11,2,0],[34,14,2,0,"_interopNamespace"],[34,31,2,0],[34,32,2,0,"_react"],[34,38,2,0],[35,2,4,0],[35,6,4,0,"_NavigationBuilderContext"],[35,31,4,0],[35,34,4,0,"require"],[35,41,4,0],[35,42,4,0,"_dependencyMap"],[35,56,4,0],[36,2,4,0],[36,6,4,0,"NavigationBuilderContext"],[36,30,4,0],[36,33,4,0,"_interopDefault"],[36,48,4,0],[36,49,4,0,"_NavigationBuilderContext"],[36,74,4,0],[37,2,5,0],[37,6,5,0,"_NavigationStateContext"],[37,29,5,0],[37,32,5,0,"require"],[37,39,5,0],[37,40,5,0,"_dependencyMap"],[37,54,5,0],[38,2,5,0],[38,6,5,0,"NavigationStateContext"],[38,28,5,0],[38,31,5,0,"_interopDefault"],[38,46,5,0],[38,47,5,0,"_NavigationStateContext"],[38,70,5,0],[39,2,14,15],[39,11,14,24,"useOptionsGetters"],[39,28,14,41,"useOptionsGetters"],[39,29,14,41,"_ref"],[39,33,14,41],[39,35,18,12],[40,4,18,12],[40,8,15,2,"key"],[40,11,15,5],[40,14,15,5,"_ref"],[40,18,15,5],[40,19,15,2,"key"],[40,22,15,5],[41,6,16,2,"options"],[41,13,16,9],[41,16,16,9,"_ref"],[41,20,16,9],[41,21,16,2,"options"],[41,28,16,9],[42,6,17,2,"navigation"],[42,16,17,12],[42,19,17,12,"_ref"],[42,23,17,12],[42,24,17,2,"navigation"],[42,34,17,12],[43,4,19,2],[43,8,19,8,"optionsRef"],[43,18,19,18],[43,21,19,21,"React"],[43,26,19,26],[43,27,19,27,"useRef"],[43,33,19,33],[43,34,19,54,"options"],[43,41,19,61],[43,42,19,62],[44,4,20,2],[44,8,20,8,"optionsGettersFromChildRef"],[44,34,20,34],[44,37,20,37,"React"],[44,42,20,42],[44,43,20,43,"useRef"],[44,49,20,49],[44,50,22,4],[44,51,22,5],[44,52,22,6],[44,53,22,7],[45,4,24,2],[45,8,24,2,"_React$useContext"],[45,25,24,2],[45,28,24,30,"React"],[45,33,24,35],[45,34,24,36,"useContext"],[45,44,24,46],[45,45,24,47,"NavigationBuilderContext"],[45,69,24,71],[45,70,24,71,"default"],[45,77,24,71],[45,78,24,72],[46,6,24,10,"onOptionsChange"],[46,21,24,25],[46,24,24,25,"_React$useContext"],[46,41,24,25],[46,42,24,10,"onOptionsChange"],[46,57,24,25],[47,4,25,2],[47,8,25,2,"_React$useContext2"],[47,26,25,2],[47,29,25,55,"React"],[47,34,25,60],[47,35,25,61,"useContext"],[47,45,25,71],[47,46,26,4,"NavigationStateContext"],[47,68,26,26],[47,69,26,26,"default"],[47,76,27,2],[47,77,27,3],[48,6,25,28,"parentAddOptionsGetter"],[48,28,25,50],[48,31,25,50,"_React$useContext2"],[48,49,25,50],[48,50,25,10,"addOptionsGetter"],[48,66,25,26],[49,4,29,2],[49,8,29,8,"optionsChangeListener"],[49,29,29,29],[49,32,29,32,"React"],[49,37,29,37],[49,38,29,38,"useCallback"],[49,49,29,49],[49,50,29,50],[49,62,29,56],[50,6,29,56],[50,10,29,56,"_navigation$isFocused"],[50,31,29,56],[51,6,30,4],[51,10,30,10,"isFocused"],[51,19,30,19],[51,23,30,19,"_navigation$isFocused"],[51,44,30,19],[51,47,30,22,"navigation"],[51,57,30,32],[51,77,30,22,"navigation"],[51,87,30,32],[51,88,30,34,"isFocused"],[51,97,30,43],[51,98,30,44],[51,99,30,45],[51,111,30,45,"_navigation$isFocused"],[51,132,30,45],[51,135,30,49],[51,139,30,53],[52,6,31,4],[52,10,31,10,"hasChildren"],[52,21,31,21],[52,24,31,24,"Object"],[52,30,31,30],[52,31,31,31,"keys"],[52,35,31,35],[52,36,31,36,"optionsGettersFromChildRef"],[52,62,31,62],[52,63,31,63,"current"],[52,70,31,70],[52,71,31,71],[52,72,31,72,"length"],[52,78,31,78],[53,6,33,4],[53,10,33,8,"isFocused"],[53,19,33,17],[53,23,33,21],[53,24,33,22,"hasChildren"],[53,35,33,33],[53,37,33,35],[54,8,33,35],[54,12,33,35,"_optionsRef$current"],[54,31,33,35],[55,8,34,6,"onOptionsChange"],[55,23,34,21],[55,25,34,21,"_optionsRef$current"],[55,44,34,21],[55,47,34,22,"optionsRef"],[55,57,34,32],[55,58,34,33,"current"],[55,65,34,40],[55,77,34,40,"_optionsRef$current"],[55,96,34,40],[55,99,34,44],[55,100,34,45],[55,101,34,46],[55,102,34,47],[56,6,35,4],[57,4,36,2],[57,5,36,3],[57,7,36,5],[57,8,36,6,"navigation"],[57,18,36,16],[57,20,36,18,"onOptionsChange"],[57,35,36,33],[57,36,36,34],[57,37,36,35],[58,4,38,2,"React"],[58,9,38,7],[58,10,38,8,"useEffect"],[58,19,38,17],[58,20,38,18],[58,32,38,24],[59,6,39,4,"optionsRef"],[59,16,39,14],[59,17,39,15,"current"],[59,24,39,22],[59,27,39,25,"options"],[59,34,39,32],[60,6,40,4,"optionsChangeListener"],[60,27,40,25],[60,28,40,26],[60,29,40,27],[61,6,42,4],[61,13,42,11,"navigation"],[61,23,42,21],[61,43,42,11,"navigation"],[61,53,42,21],[61,54,42,23,"addListener"],[61,65,42,34],[61,66,42,35],[61,73,42,42],[61,75,42,44,"optionsChangeListener"],[61,96,42,65],[61,97,42,66],[62,4,43,2],[62,5,43,3],[62,7,43,5],[62,8,43,6,"navigation"],[62,18,43,16],[62,20,43,18,"options"],[62,27,43,25],[62,29,43,27,"optionsChangeListener"],[62,50,43,48],[62,51,43,49],[62,52,43,50],[63,4,45,2],[63,8,45,8,"getOptionsFromListener"],[63,30,45,30],[63,33,45,33,"React"],[63,38,45,38],[63,39,45,39,"useCallback"],[63,50,45,50],[63,51,45,51],[63,63,45,57],[64,6,46,4],[64,11,46,9],[64,15,46,13,"key"],[64,19,46,16],[64,23,46,20,"optionsGettersFromChildRef"],[64,49,46,46],[64,50,46,47,"current"],[64,57,46,54],[64,59,46,56],[65,8,47,6],[65,12,47,10,"optionsGettersFromChildRef"],[65,38,47,36],[65,39,47,37,"current"],[65,46,47,44],[65,47,47,45,"hasOwnProperty"],[65,61,47,59],[65,62,47,60,"key"],[65,66,47,63],[65,67,47,64],[65,69,47,66],[66,10,47,66],[66,14,47,66,"_optionsGettersFromCh"],[66,35,47,66],[66,37,47,66,"_optionsGettersFromCh2"],[66,59,47,66],[67,10,48,8],[67,14,48,14,"result"],[67,20,48,20],[67,24,48,20,"_optionsGettersFromCh"],[67,45,48,20],[67,48,48,23],[67,49,48,23,"_optionsGettersFromCh2"],[67,71,48,23],[67,74,48,23,"optionsGettersFromChildRef"],[67,100,48,49],[67,101,48,50,"current"],[67,108,48,57],[67,110,48,58,"key"],[67,114,48,61],[67,115,48,62],[67,136,48,23,"_optionsGettersFromCh"],[67,157,48,23],[67,158,48,23,"call"],[67,162,48,23],[67,163,48,23,"_optionsGettersFromCh2"],[67,185,48,65],[67,186,48,66],[69,10,50,8],[70,10,51,8],[70,14,51,12,"result"],[70,20,51,18],[70,25,51,23],[70,29,51,27],[70,31,51,29],[71,12,52,10],[71,19,52,17,"result"],[71,25,52,23],[72,10,53,8],[73,8,54,6],[74,6,55,4],[75,6,57,4],[75,13,57,11],[75,17,57,15],[76,4,58,2],[76,5,58,3],[76,7,58,5],[76,9,58,7],[76,10,58,8],[77,4,60,2],[77,8,60,8,"getCurrentOptions"],[77,25,60,25],[77,28,60,28,"React"],[77,33,60,33],[77,34,60,34,"useCallback"],[77,45,60,45],[77,46,60,46],[77,58,60,52],[78,6,60,52],[78,10,60,52,"_navigation$isFocused2"],[78,32,60,52],[79,6,61,4],[79,10,61,10,"isFocused"],[79,19,61,19],[79,23,61,19,"_navigation$isFocused2"],[79,45,61,19],[79,48,61,22,"navigation"],[79,58,61,32],[79,78,61,22,"navigation"],[79,88,61,32],[79,89,61,34,"isFocused"],[79,98,61,43],[79,99,61,44],[79,100,61,45],[79,112,61,45,"_navigation$isFocused2"],[79,134,61,45],[79,137,61,49],[79,141,61,53],[80,6,63,4],[80,10,63,8],[80,11,63,9,"isFocused"],[80,20,63,18],[80,22,63,20],[81,8,64,6],[81,15,64,13],[81,19,64,17],[82,6,65,4],[83,6,67,4],[83,10,67,10,"optionsFromListener"],[83,29,67,29],[83,32,67,32,"getOptionsFromListener"],[83,54,67,54],[83,55,67,55],[83,56,67,56],[84,6,69,4],[84,10,69,8,"optionsFromListener"],[84,29,69,27],[84,34,69,32],[84,38,69,36],[84,40,69,38],[85,8,70,6],[85,15,70,13,"optionsFromListener"],[85,34,70,32],[86,6,71,4],[87,6,73,4],[87,13,73,11,"optionsRef"],[87,23,73,21],[87,24,73,22,"current"],[87,31,73,29],[88,4,74,2],[88,5,74,3],[88,7,74,5],[88,8,74,6,"navigation"],[88,18,74,16],[88,20,74,18,"getOptionsFromListener"],[88,42,74,40],[88,43,74,41],[88,44,74,42],[89,4,76,2,"React"],[89,9,76,7],[89,10,76,8,"useEffect"],[89,19,76,17],[89,20,76,18],[89,32,76,24],[90,6,77,4],[90,13,77,11,"parentAddOptionsGetter"],[90,35,77,33],[90,55,77,11,"parentAddOptionsGetter"],[90,77,77,33],[90,78,77,36,"key"],[90,81,77,39],[90,83,77,42,"getCurrentOptions"],[90,100,77,59],[90,101,77,60],[91,4,78,2],[91,5,78,3],[91,7,78,5],[91,8,78,6,"getCurrentOptions"],[91,25,78,23],[91,27,78,25,"parentAddOptionsGetter"],[91,49,78,47],[91,51,78,49,"key"],[91,54,78,52],[91,55,78,53],[91,56,78,54],[92,4,80,2],[92,8,80,8,"addOptionsGetter"],[92,24,80,24],[92,27,80,27,"React"],[92,32,80,32],[92,33,80,33,"useCallback"],[92,44,80,44],[92,45,81,4],[92,55,81,5,"key"],[92,58,81,16],[92,60,81,18,"getter"],[92,66,81,57],[92,68,81,62],[93,6,82,6,"optionsGettersFromChildRef"],[93,32,82,32],[93,33,82,33,"current"],[93,40,82,40],[93,41,82,41,"key"],[93,44,82,44],[93,45,82,45],[93,48,82,48,"getter"],[93,54,82,54],[94,6,83,6,"optionsChangeListener"],[94,27,83,27],[94,28,83,28],[94,29,83,29],[95,6,85,6],[95,13,85,13],[95,25,85,19],[96,8,86,8],[97,8,87,8],[97,15,87,15,"optionsGettersFromChildRef"],[97,41,87,41],[97,42,87,42,"current"],[97,49,87,49],[97,50,87,50,"key"],[97,53,87,53],[97,54,87,54],[98,8,88,8,"optionsChangeListener"],[98,29,88,29],[98,30,88,30],[98,31,88,31],[99,6,89,6],[99,7,89,7],[100,4,90,4],[100,5,90,5],[100,7,91,4],[100,8,91,5,"optionsChangeListener"],[100,29,91,26],[100,30,92,2],[100,31,92,3],[101,4,94,2],[101,11,94,9],[102,6,95,4,"addOptionsGetter"],[102,22,95,20],[102,24,95,4,"addOptionsGetter"],[102,40,95,20],[103,6,96,4,"getCurrentOptions"],[103,23,96,21],[103,25,96,4,"getCurrentOptions"],[104,4,97,2],[104,5,97,3],[105,2,98,0],[106,0,98,1],[106,3]],"functionMap":{"names":["<global>","useOptionsGetters","optionsChangeListener","React.useEffect$argument_0","getOptionsFromListener","getCurrentOptions","addOptionsGetter","<anonymous>"],"mappings":"AAA;eCa;kDCe;GDO;kBEE;GFK;mDGE;GHa;8CIE;GJc;kBEE;GFE;IKG;aCI;ODI;KLC;CDQ"},"hasCjsExports":false},"type":"js/module"}]}