{"dependencies":[{"name":"./storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":57,"index":57}}],"key":"3rLtLV8J3gSw9c8Ep8Wpc3w/Yxg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.addJob = addJob;\n  exports.getJobs = getJobs;\n  exports.updateJob = updateJob;\n  exports.clearJobs = clearJobs;\n  exports.getAllJobs = getAllJobs;\n  exports.saveJob = saveJob;\n  exports.getEmployerJobs = getEmployerJobs;\n  exports.getOpenJobs = getOpenJobs;\n  exports.getJobById = getJobById;\n  exports.deleteJob = deleteJob;\n  var _storage = require(_dependencyMap[0], \"./storage\");\n  const JOBS_KEY = '@shiftmatch:jobs';\n\n  // Internal helper: Load all jobs from storage\n  async function loadJobs() {\n    const stored = await (0, _storage.getItem)(JOBS_KEY);\n    return stored ?? [];\n  }\n\n  // Internal helper: Save all jobs to storage\n  async function saveJobsInternal(jobs) {\n    await (0, _storage.setItem)(JOBS_KEY, jobs);\n  }\n  async function addJob(job) {\n    const jobs = await loadJobs();\n    await saveJobsInternal([...jobs, job]);\n  }\n  async function getJobs() {\n    return await loadJobs();\n  }\n  async function updateJob(id, patch) {\n    const jobs = await loadJobs();\n    const next = jobs.map(j => j.id === id ? Object.assign({}, j, patch) : j);\n    await saveJobsInternal(next);\n  }\n  async function clearJobs() {\n    await (0, _storage.removeItem)(JOBS_KEY);\n  }\n\n  // Legacy/convenience functions\n  async function getAllJobs() {\n    return await getJobs();\n  }\n  async function saveJob(job) {\n    const all = await loadJobs();\n    const existing = all.findIndex(j => j.id === job.id);\n    if (existing >= 0) {\n      await updateJob(job.id, job);\n    } else {\n      await addJob(job);\n    }\n  }\n  async function getEmployerJobs(employerId) {\n    const all = await loadJobs();\n    return all.filter(j => j.employerId === employerId);\n  }\n  async function getOpenJobs() {\n    const all = await loadJobs();\n    return all.filter(j => j.status === 'open');\n  }\n  async function getJobById(id) {\n    const all = await loadJobs();\n    return all.find(j => j.id === id) || null;\n  }\n  async function deleteJob(id) {\n    const jobs = await loadJobs();\n    const next = jobs.filter(j => j.id !== id);\n    await saveJobsInternal(next);\n  }\n});","lineCount":76,"map":[[7,2,17,0,"exports"],[7,9,17,0],[7,10,17,0,"addJob"],[7,16,17,0],[7,19,17,0,"addJob"],[7,25,17,0],[8,2,22,0,"exports"],[8,9,22,0],[8,10,22,0,"getJobs"],[8,17,22,0],[8,20,22,0,"getJobs"],[8,27,22,0],[9,2,26,0,"exports"],[9,9,26,0],[9,10,26,0,"updateJob"],[9,19,26,0],[9,22,26,0,"updateJob"],[9,31,26,0],[10,2,32,0,"exports"],[10,9,32,0],[10,10,32,0,"clearJobs"],[10,19,32,0],[10,22,32,0,"clearJobs"],[10,31,32,0],[11,2,37,0,"exports"],[11,9,37,0],[11,10,37,0,"getAllJobs"],[11,20,37,0],[11,23,37,0,"getAllJobs"],[11,33,37,0],[12,2,41,0,"exports"],[12,9,41,0],[12,10,41,0,"saveJob"],[12,17,41,0],[12,20,41,0,"saveJob"],[12,27,41,0],[13,2,51,0,"exports"],[13,9,51,0],[13,10,51,0,"getEmployerJobs"],[13,25,51,0],[13,28,51,0,"getEmployerJobs"],[13,43,51,0],[14,2,56,0,"exports"],[14,9,56,0],[14,10,56,0,"getOpenJobs"],[14,21,56,0],[14,24,56,0,"getOpenJobs"],[14,35,56,0],[15,2,61,0,"exports"],[15,9,61,0],[15,10,61,0,"getJobById"],[15,20,61,0],[15,23,61,0,"getJobById"],[15,33,61,0],[16,2,66,0,"exports"],[16,9,66,0],[16,10,66,0,"deleteJob"],[16,19,66,0],[16,22,66,0,"deleteJob"],[16,31,66,0],[17,2,1,0],[17,6,1,0,"_storage"],[17,14,1,0],[17,17,1,0,"require"],[17,24,1,0],[17,25,1,0,"_dependencyMap"],[17,39,1,0],[18,2,4,0],[18,8,4,6,"JOBS_KEY"],[18,16,4,14],[18,19,4,17],[18,37,4,35],[20,2,6,0],[21,2,7,0],[21,17,7,15,"loadJobs"],[21,25,7,23,"loadJobs"],[21,26,7,23],[21,28,7,42],[22,4,8,2],[22,10,8,8,"stored"],[22,16,8,14],[22,19,8,17],[22,25,8,23],[22,29,8,23,"getItem"],[22,37,8,30],[22,38,8,30,"getItem"],[22,45,8,30],[22,47,8,38,"JOBS_KEY"],[22,55,8,46],[22,56,8,47],[23,4,9,2],[23,11,9,9,"stored"],[23,17,9,15],[23,21,9,19],[23,23,9,21],[24,2,10,0],[26,2,12,0],[27,2,13,0],[27,17,13,15,"saveJobsInternal"],[27,33,13,31,"saveJobsInternal"],[27,34,13,32,"jobs"],[27,38,13,43],[27,40,13,60],[28,4,14,2],[28,10,14,8],[28,14,14,8,"setItem"],[28,22,14,15],[28,23,14,15,"setItem"],[28,30,14,15],[28,32,14,23,"JOBS_KEY"],[28,40,14,31],[28,42,14,33,"jobs"],[28,46,14,37],[28,47,14,38],[29,2,15,0],[30,2,17,7],[30,17,17,22,"addJob"],[30,23,17,28,"addJob"],[30,24,17,29,"job"],[30,27,17,37],[30,29,17,54],[31,4,18,2],[31,10,18,8,"jobs"],[31,14,18,12],[31,17,18,15],[31,23,18,21,"loadJobs"],[31,31,18,29],[31,32,18,30],[31,33,18,31],[32,4,19,2],[32,10,19,8,"saveJobsInternal"],[32,26,19,24],[32,27,19,25],[32,28,19,26],[32,31,19,29,"jobs"],[32,35,19,33],[32,37,19,35,"job"],[32,40,19,38],[32,41,19,39],[32,42,19,40],[33,2,20,0],[34,2,22,7],[34,17,22,22,"getJobs"],[34,24,22,29,"getJobs"],[34,25,22,29],[34,27,22,48],[35,4,23,2],[35,11,23,9],[35,17,23,15,"loadJobs"],[35,25,23,23],[35,26,23,24],[35,27,23,25],[36,2,24,0],[37,2,26,7],[37,17,26,22,"updateJob"],[37,26,26,31,"updateJob"],[37,27,26,32,"id"],[37,29,26,42],[37,31,26,44,"patch"],[37,36,26,63],[37,38,26,80],[38,4,27,2],[38,10,27,8,"jobs"],[38,14,27,12],[38,17,27,15],[38,23,27,21,"loadJobs"],[38,31,27,29],[38,32,27,30],[38,33,27,31],[39,4,28,2],[39,10,28,8,"next"],[39,14,28,12],[39,17,28,15,"jobs"],[39,21,28,19],[39,22,28,20,"map"],[39,25,28,23],[39,26,28,24,"j"],[39,27,28,25],[39,31,28,30,"j"],[39,32,28,31],[39,33,28,32,"id"],[39,35,28,34],[39,40,28,39,"id"],[39,42,28,41],[39,45,28,41,"Object"],[39,51,28,41],[39,52,28,41,"assign"],[39,58,28,41],[39,63,28,49,"j"],[39,64,28,50],[39,66,28,55,"patch"],[39,71,28,60],[39,75,28,65,"j"],[39,76,28,67],[39,77,28,68],[40,4,29,2],[40,10,29,8,"saveJobsInternal"],[40,26,29,24],[40,27,29,25,"next"],[40,31,29,29],[40,32,29,30],[41,2,30,0],[42,2,32,7],[42,17,32,22,"clearJobs"],[42,26,32,31,"clearJobs"],[42,27,32,31],[42,29,32,49],[43,4,33,2],[43,10,33,8],[43,14,33,8,"removeItem"],[43,22,33,18],[43,23,33,18,"removeItem"],[43,33,33,18],[43,35,33,19,"JOBS_KEY"],[43,43,33,27],[43,44,33,28],[44,2,34,0],[46,2,36,0],[47,2,37,7],[47,17,37,22,"getAllJobs"],[47,27,37,32,"getAllJobs"],[47,28,37,32],[47,30,37,51],[48,4,38,2],[48,11,38,9],[48,17,38,15,"getJobs"],[48,24,38,22],[48,25,38,23],[48,26,38,24],[49,2,39,0],[50,2,41,7],[50,17,41,22,"saveJob"],[50,24,41,29,"saveJob"],[50,25,41,30,"job"],[50,28,41,38],[50,30,41,55],[51,4,42,2],[51,10,42,8,"all"],[51,13,42,11],[51,16,42,14],[51,22,42,20,"loadJobs"],[51,30,42,28],[51,31,42,29],[51,32,42,30],[52,4,43,2],[52,10,43,8,"existing"],[52,18,43,16],[52,21,43,19,"all"],[52,24,43,22],[52,25,43,23,"findIndex"],[52,34,43,32],[52,35,43,33,"j"],[52,36,43,34],[52,40,43,38,"j"],[52,41,43,39],[52,42,43,40,"id"],[52,44,43,42],[52,49,43,47,"job"],[52,52,43,50],[52,53,43,51,"id"],[52,55,43,53],[52,56,43,54],[53,4,44,2],[53,8,44,6,"existing"],[53,16,44,14],[53,20,44,18],[53,21,44,19],[53,23,44,21],[54,6,45,4],[54,12,45,10,"updateJob"],[54,21,45,19],[54,22,45,20,"job"],[54,25,45,23],[54,26,45,24,"id"],[54,28,45,26],[54,30,45,28,"job"],[54,33,45,31],[54,34,45,32],[55,4,46,2],[55,5,46,3],[55,11,46,9],[56,6,47,4],[56,12,47,10,"addJob"],[56,18,47,16],[56,19,47,17,"job"],[56,22,47,20],[56,23,47,21],[57,4,48,2],[58,2,49,0],[59,2,51,7],[59,17,51,22,"getEmployerJobs"],[59,32,51,37,"getEmployerJobs"],[59,33,51,38,"employerId"],[59,43,51,56],[59,45,51,74],[60,4,52,2],[60,10,52,8,"all"],[60,13,52,11],[60,16,52,14],[60,22,52,20,"loadJobs"],[60,30,52,28],[60,31,52,29],[60,32,52,30],[61,4,53,2],[61,11,53,9,"all"],[61,14,53,12],[61,15,53,13,"filter"],[61,21,53,19],[61,22,53,20,"j"],[61,23,53,21],[61,27,53,25,"j"],[61,28,53,26],[61,29,53,27,"employerId"],[61,39,53,37],[61,44,53,42,"employerId"],[61,54,53,52],[61,55,53,53],[62,2,54,0],[63,2,56,7],[63,17,56,22,"getOpenJobs"],[63,28,56,33,"getOpenJobs"],[63,29,56,33],[63,31,56,52],[64,4,57,2],[64,10,57,8,"all"],[64,13,57,11],[64,16,57,14],[64,22,57,20,"loadJobs"],[64,30,57,28],[64,31,57,29],[64,32,57,30],[65,4,58,2],[65,11,58,9,"all"],[65,14,58,12],[65,15,58,13,"filter"],[65,21,58,19],[65,22,58,20,"j"],[65,23,58,21],[65,27,58,25,"j"],[65,28,58,26],[65,29,58,27,"status"],[65,35,58,33],[65,40,58,38],[65,46,58,44],[65,47,58,45],[66,2,59,0],[67,2,61,7],[67,17,61,22,"getJobById"],[67,27,61,32,"getJobById"],[67,28,61,33,"id"],[67,30,61,43],[67,32,61,66],[68,4,62,2],[68,10,62,8,"all"],[68,13,62,11],[68,16,62,14],[68,22,62,20,"loadJobs"],[68,30,62,28],[68,31,62,29],[68,32,62,30],[69,4,63,2],[69,11,63,9,"all"],[69,14,63,12],[69,15,63,13,"find"],[69,19,63,17],[69,20,63,18,"j"],[69,21,63,19],[69,25,63,23,"j"],[69,26,63,24],[69,27,63,25,"id"],[69,29,63,27],[69,34,63,32,"id"],[69,36,63,34],[69,37,63,35],[69,41,63,39],[69,45,63,43],[70,2,64,0],[71,2,66,7],[71,17,66,22,"deleteJob"],[71,26,66,31,"deleteJob"],[71,27,66,32,"id"],[71,29,66,42],[71,31,66,59],[72,4,67,2],[72,10,67,8,"jobs"],[72,14,67,12],[72,17,67,15],[72,23,67,21,"loadJobs"],[72,31,67,29],[72,32,67,30],[72,33,67,31],[73,4,68,2],[73,10,68,8,"next"],[73,14,68,12],[73,17,68,15,"jobs"],[73,21,68,19],[73,22,68,20,"filter"],[73,28,68,26],[73,29,68,27,"j"],[73,30,68,28],[73,34,68,32,"j"],[73,35,68,33],[73,36,68,34,"id"],[73,38,68,36],[73,43,68,41,"id"],[73,45,68,43],[73,46,68,44],[74,4,69,2],[74,10,69,8,"saveJobsInternal"],[74,26,69,24],[74,27,69,25,"next"],[74,31,69,29],[74,32,69,30],[75,2,70,0],[76,0,70,1],[76,3]],"functionMap":{"names":["<global>","loadJobs","saveJobsInternal","addJob","getJobs","updateJob","jobs.map$argument_0","clearJobs","getAllJobs","saveJob","all.findIndex$argument_0","getEmployerJobs","all.filter$argument_0","getOpenJobs","getJobById","all.find$argument_0","deleteJob","jobs.filter$argument_0"],"mappings":"AAA;ACM;CDG;AEG;CFE;OGE;CHG;OIE;CJE;OKE;wBCE,2CD;CLE;OOE;CPE;OQG;CRE;OSE;iCCE,oBD;CTM;OWE;oBCE,gCD;CXC;OaE;oBDE,wBC;CbC;OcE;kBCE,gBD;CdC;OgBE;2BCE,gBD;ChBE"},"hasCjsExports":false},"type":"js/module"}]}