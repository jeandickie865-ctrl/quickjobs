{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"./api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":123},"end":{"line":3,"column":60,"index":183}}],"key":"FbKPDeRJ9TF3vg1eKYKz12urgic=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.getEmployerProfile = getEmployerProfile;\n  exports.getEmployerProfilePublicView = getEmployerProfilePublicView;\n  exports.saveEmployerProfile = saveEmployerProfile;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _api = require(_dependencyMap[1], \"./api\");\n  // utils/employerProfileStore.ts - Employer Profile Store (REFACTORED)\n  // ===== GET EMPLOYER PROFILE (Own profile) =====\n  function getEmployerProfile(_x) {\n    return _getEmployerProfile.apply(this, arguments);\n  } // ===== GET EMPLOYER PROFILE - PUBLIC VIEW (For workers) =====\n  function _getEmployerProfile() {\n    _getEmployerProfile = (0, _asyncToGenerator.default)(function* (userId) {\n      console.log('üîç getEmployerProfile: Loading profile for user', userId);\n      try {\n        var headers = yield (0, _api.getAuthHeaders)();\n        var response = yield fetch(`${_api.API_BASE}/profiles/employer/${userId}`, {\n          method: 'GET',\n          headers\n        });\n        if (response.status === 404) {\n          console.log('‚ö†Ô∏è getEmployerProfile: Profile not found (404)');\n          return null;\n        }\n        if (!response.ok) {\n          var error = yield response.text();\n          console.error('‚ùå getEmployerProfile: API error', response.status, error);\n          throw new Error(`Failed to fetch profile: ${response.status}`);\n        }\n        var profile = yield response.json();\n        console.log('‚úÖ getEmployerProfile: Profile loaded');\n        return profile;\n      } catch (error) {\n        console.error('‚ùå getEmployerProfile: Error', error);\n        throw error;\n      }\n    });\n    return _getEmployerProfile.apply(this, arguments);\n  }\n  function getEmployerProfilePublicView(_x2) {\n    return _getEmployerProfilePublicView.apply(this, arguments);\n  } // ===== SAVE EMPLOYER PROFILE =====\n  function _getEmployerProfilePublicView() {\n    _getEmployerProfilePublicView = (0, _asyncToGenerator.default)(function* (userId) {\n      console.log('üîç getEmployerProfilePublicView: Loading public profile for user', userId);\n      try {\n        var headers = yield (0, _api.getAuthHeaders)();\n        var response = yield fetch(`${_api.API_BASE}/profiles/employer/${userId}/public-view`, {\n          method: 'GET',\n          headers\n        });\n        if (response.status === 404) {\n          console.log('‚ö†Ô∏è getEmployerProfilePublicView: Profile not found (404)');\n          return null;\n        }\n        if (!response.ok) {\n          var error = yield response.text();\n          console.error('‚ùå getEmployerProfilePublicView: API error', response.status, error);\n          throw new Error(`Failed to fetch profile: ${response.status}`);\n        }\n        var profile = yield response.json();\n        console.log('‚úÖ getEmployerProfilePublicView: Public profile loaded');\n        return profile;\n      } catch (error) {\n        console.error('‚ùå getEmployerProfilePublicView: Error', error);\n        throw error;\n      }\n    });\n    return _getEmployerProfilePublicView.apply(this, arguments);\n  }\n  function saveEmployerProfile(_x3, _x4) {\n    return _saveEmployerProfile.apply(this, arguments);\n  }\n  function _saveEmployerProfile() {\n    _saveEmployerProfile = (0, _asyncToGenerator.default)(function* (userId, profileData) {\n      console.log('üíæ saveEmployerProfile: Saving profile for', userId);\n      try {\n        var headers = yield (0, _api.getAuthHeaders)();\n\n        // Try PUT first (update existing)\n        var response = yield fetch(`${_api.API_BASE}/profiles/employer/${userId}`, {\n          method: 'PUT',\n          headers,\n          body: JSON.stringify(profileData)\n        });\n        console.log('üì• saveEmployerProfile: PUT response status:', response.status);\n\n        // If 404, profile doesn't exist - create with POST\n        if (response.status === 404) {\n          console.log('‚ö†Ô∏è saveEmployerProfile: Profile not found, creating new via POST');\n          response = yield fetch(`${_api.API_BASE}/profiles/employer`, {\n            method: 'POST',\n            headers,\n            body: JSON.stringify(profileData)\n          });\n          console.log('üì• saveEmployerProfile: POST response status:', response.status);\n        }\n        if (!response.ok) {\n          var errorText = yield response.text();\n          console.error('‚ùå saveEmployerProfile: Backend error:', errorText);\n          throw new Error(`Server Error ${response.status}: ${errorText}`);\n        }\n        var result = yield response.json();\n        console.log('‚úÖ saveEmployerProfile: Profile saved successfully');\n      } catch (error) {\n        console.error('‚ùå saveEmployerProfile: Exception:', error.message);\n        throw error;\n      }\n    });\n    return _saveEmployerProfile.apply(this, arguments);\n  }\n});","lineCount":123,"map":[[12,2,6,0,"exports"],[12,9,6,0],[12,10,6,0,"getEmployerProfile"],[12,28,6,0],[12,31,6,0,"getEmployerProfile"],[12,49,6,0],[13,2,38,0,"exports"],[13,9,38,0],[13,10,38,0,"getEmployerProfilePublicView"],[13,38,38,0],[13,41,38,0,"getEmployerProfilePublicView"],[13,69,38,0],[14,2,70,0,"exports"],[14,9,70,0],[14,10,70,0,"saveEmployerProfile"],[14,29,70,0],[14,32,70,0,"saveEmployerProfile"],[14,51,70,0],[15,2,113,1],[15,6,113,1,"_babelRuntimeHelpersAsyncToGenerator"],[15,42,113,1],[15,45,113,1,"require"],[15,52,113,1],[15,53,113,1,"_dependencyMap"],[15,67,113,1],[16,2,113,1],[16,6,113,1,"_asyncToGenerator"],[16,23,113,1],[16,26,113,1,"_interopDefault"],[16,41,113,1],[16,42,113,1,"_babelRuntimeHelpersAsyncToGenerator"],[16,78,113,1],[17,2,3,0],[17,6,3,0,"_api"],[17,10,3,0],[17,13,3,0,"require"],[17,20,3,0],[17,21,3,0,"_dependencyMap"],[17,35,3,0],[18,2,1,0],[19,2,5,0],[20,2,5,0],[20,11,6,22,"getEmployerProfile"],[20,29,6,40,"getEmployerProfile"],[20,30,6,40,"_x"],[20,32,6,40],[21,4,6,40],[21,11,6,40,"_getEmployerProfile"],[21,30,6,40],[21,31,6,40,"apply"],[21,36,6,40],[21,43,6,40,"arguments"],[21,52,6,40],[22,2,6,40],[22,4,37,0],[23,2,37,0],[23,11,37,0,"_getEmployerProfile"],[23,31,37,0],[24,4,37,0,"_getEmployerProfile"],[24,23,37,0],[24,30,37,0,"_asyncToGenerator"],[24,47,37,0],[24,48,37,0,"default"],[24,55,37,0],[24,57,6,7],[24,68,6,41,"userId"],[24,74,6,55],[24,76,6,90],[25,6,7,2,"console"],[25,13,7,9],[25,14,7,10,"log"],[25,17,7,13],[25,18,7,14],[25,67,7,63],[25,69,7,65,"userId"],[25,75,7,71],[25,76,7,72],[26,6,9,2],[26,10,9,6],[27,8,10,4],[27,12,10,10,"headers"],[27,19,10,17],[27,28,10,26],[27,32,10,26,"getAuthHeaders"],[27,36,10,40],[27,37,10,40,"getAuthHeaders"],[27,51,10,40],[27,53,10,41],[27,54,10,42],[28,8,12,4],[28,12,12,10,"response"],[28,20,12,18],[28,29,12,27,"fetch"],[28,34,12,32],[28,35,12,33],[28,38,12,36,"API_BASE"],[28,42,12,44],[28,43,12,44,"API_BASE"],[28,51,12,44],[28,73,12,66,"userId"],[28,79,12,72],[28,81,12,74],[28,83,12,76],[29,10,13,6,"method"],[29,16,13,12],[29,18,13,14],[29,23,13,19],[30,10,14,6,"headers"],[31,8,15,4],[31,9,15,5],[31,10,15,6],[32,8,17,4],[32,12,17,8,"response"],[32,20,17,16],[32,21,17,17,"status"],[32,27,17,23],[32,32,17,28],[32,35,17,31],[32,37,17,33],[33,10,18,6,"console"],[33,17,18,13],[33,18,18,14,"log"],[33,21,18,17],[33,22,18,18],[33,70,18,66],[33,71,18,67],[34,10,19,6],[34,17,19,13],[34,21,19,17],[35,8,20,4],[36,8,22,4],[36,12,22,8],[36,13,22,9,"response"],[36,21,22,17],[36,22,22,18,"ok"],[36,24,22,20],[36,26,22,22],[37,10,23,6],[37,14,23,12,"error"],[37,19,23,17],[37,28,23,26,"response"],[37,36,23,34],[37,37,23,35,"text"],[37,41,23,39],[37,42,23,40],[37,43,23,41],[38,10,24,6,"console"],[38,17,24,13],[38,18,24,14,"error"],[38,23,24,19],[38,24,24,20],[38,57,24,53],[38,59,24,55,"response"],[38,67,24,63],[38,68,24,64,"status"],[38,74,24,70],[38,76,24,72,"error"],[38,81,24,77],[38,82,24,78],[39,10,25,6],[39,16,25,12],[39,20,25,16,"Error"],[39,25,25,21],[39,26,25,22],[39,54,25,50,"response"],[39,62,25,58],[39,63,25,59,"status"],[39,69,25,65],[39,71,25,67],[39,72,25,68],[40,8,26,4],[41,8,28,4],[41,12,28,10,"profile"],[41,19,28,17],[41,28,28,26,"response"],[41,36,28,34],[41,37,28,35,"json"],[41,41,28,39],[41,42,28,40],[41,43,28,41],[42,8,29,4,"console"],[42,15,29,11],[42,16,29,12,"log"],[42,19,29,15],[42,20,29,16],[42,58,29,54],[42,59,29,55],[43,8,30,4],[43,15,30,11,"profile"],[43,22,30,18],[44,6,31,2],[44,7,31,3],[44,8,31,4],[44,15,31,11,"error"],[44,20,31,16],[44,22,31,18],[45,8,32,4,"console"],[45,15,32,11],[45,16,32,12,"error"],[45,21,32,17],[45,22,32,18],[45,51,32,47],[45,53,32,49,"error"],[45,58,32,54],[45,59,32,55],[46,8,33,4],[46,14,33,10,"error"],[46,19,33,15],[47,6,34,2],[48,4,35,0],[48,5,35,1],[49,4,35,1],[49,11,35,1,"_getEmployerProfile"],[49,30,35,1],[49,31,35,1,"apply"],[49,36,35,1],[49,43,35,1,"arguments"],[49,52,35,1],[50,2,35,1],[51,2,35,1],[51,11,38,22,"getEmployerProfilePublicView"],[51,39,38,50,"getEmployerProfilePublicView"],[51,40,38,50,"_x2"],[51,43,38,50],[52,4,38,50],[52,11,38,50,"_getEmployerProfilePublicView"],[52,40,38,50],[52,41,38,50,"apply"],[52,46,38,50],[52,53,38,50,"arguments"],[52,62,38,50],[53,2,38,50],[53,4,69,0],[54,2,69,0],[54,11,69,0,"_getEmployerProfilePublicView"],[54,41,69,0],[55,4,69,0,"_getEmployerProfilePublicView"],[55,33,69,0],[55,40,69,0,"_asyncToGenerator"],[55,57,69,0],[55,58,69,0,"default"],[55,65,69,0],[55,67,38,7],[55,78,38,51,"userId"],[55,84,38,65],[55,86,38,88],[56,6,39,2,"console"],[56,13,39,9],[56,14,39,10,"log"],[56,17,39,13],[56,18,39,14],[56,84,39,80],[56,86,39,82,"userId"],[56,92,39,88],[56,93,39,89],[57,6,41,2],[57,10,41,6],[58,8,42,4],[58,12,42,10,"headers"],[58,19,42,17],[58,28,42,26],[58,32,42,26,"getAuthHeaders"],[58,36,42,40],[58,37,42,40,"getAuthHeaders"],[58,51,42,40],[58,53,42,41],[58,54,42,42],[59,8,44,4],[59,12,44,10,"response"],[59,20,44,18],[59,29,44,27,"fetch"],[59,34,44,32],[59,35,44,33],[59,38,44,36,"API_BASE"],[59,42,44,44],[59,43,44,44,"API_BASE"],[59,51,44,44],[59,73,44,66,"userId"],[59,79,44,72],[59,93,44,86],[59,95,44,88],[60,10,45,6,"method"],[60,16,45,12],[60,18,45,14],[60,23,45,19],[61,10,46,6,"headers"],[62,8,47,4],[62,9,47,5],[62,10,47,6],[63,8,49,4],[63,12,49,8,"response"],[63,20,49,16],[63,21,49,17,"status"],[63,27,49,23],[63,32,49,28],[63,35,49,31],[63,37,49,33],[64,10,50,6,"console"],[64,17,50,13],[64,18,50,14,"log"],[64,21,50,17],[64,22,50,18],[64,80,50,76],[64,81,50,77],[65,10,51,6],[65,17,51,13],[65,21,51,17],[66,8,52,4],[67,8,54,4],[67,12,54,8],[67,13,54,9,"response"],[67,21,54,17],[67,22,54,18,"ok"],[67,24,54,20],[67,26,54,22],[68,10,55,6],[68,14,55,12,"error"],[68,19,55,17],[68,28,55,26,"response"],[68,36,55,34],[68,37,55,35,"text"],[68,41,55,39],[68,42,55,40],[68,43,55,41],[69,10,56,6,"console"],[69,17,56,13],[69,18,56,14,"error"],[69,23,56,19],[69,24,56,20],[69,67,56,63],[69,69,56,65,"response"],[69,77,56,73],[69,78,56,74,"status"],[69,84,56,80],[69,86,56,82,"error"],[69,91,56,87],[69,92,56,88],[70,10,57,6],[70,16,57,12],[70,20,57,16,"Error"],[70,25,57,21],[70,26,57,22],[70,54,57,50,"response"],[70,62,57,58],[70,63,57,59,"status"],[70,69,57,65],[70,71,57,67],[70,72,57,68],[71,8,58,4],[72,8,60,4],[72,12,60,10,"profile"],[72,19,60,17],[72,28,60,26,"response"],[72,36,60,34],[72,37,60,35,"json"],[72,41,60,39],[72,42,60,40],[72,43,60,41],[73,8,61,4,"console"],[73,15,61,11],[73,16,61,12,"log"],[73,19,61,15],[73,20,61,16],[73,75,61,71],[73,76,61,72],[74,8,62,4],[74,15,62,11,"profile"],[74,22,62,18],[75,6,63,2],[75,7,63,3],[75,8,63,4],[75,15,63,11,"error"],[75,20,63,16],[75,22,63,18],[76,8,64,4,"console"],[76,15,64,11],[76,16,64,12,"error"],[76,21,64,17],[76,22,64,18],[76,61,64,57],[76,63,64,59,"error"],[76,68,64,64],[76,69,64,65],[77,8,65,4],[77,14,65,10,"error"],[77,19,65,15],[78,6,66,2],[79,4,67,0],[79,5,67,1],[80,4,67,1],[80,11,67,1,"_getEmployerProfilePublicView"],[80,40,67,1],[80,41,67,1,"apply"],[80,46,67,1],[80,53,67,1,"arguments"],[80,62,67,1],[81,2,67,1],[82,2,67,1],[82,11,70,22,"saveEmployerProfile"],[82,30,70,41,"saveEmployerProfile"],[82,31,70,41,"_x3"],[82,34,70,41],[82,36,70,41,"_x4"],[82,39,70,41],[83,4,70,41],[83,11,70,41,"_saveEmployerProfile"],[83,31,70,41],[83,32,70,41,"apply"],[83,37,70,41],[83,44,70,41,"arguments"],[83,53,70,41],[84,2,70,41],[85,2,70,41],[85,11,70,41,"_saveEmployerProfile"],[85,32,70,41],[86,4,70,41,"_saveEmployerProfile"],[86,24,70,41],[86,31,70,41,"_asyncToGenerator"],[86,48,70,41],[86,49,70,41,"default"],[86,56,70,41],[86,58,70,7],[86,69,71,2,"userId"],[86,75,71,16],[86,77,72,2,"profileData"],[86,88,72,39],[86,90,73,17],[87,6,74,2,"console"],[87,13,74,9],[87,14,74,10,"log"],[87,17,74,13],[87,18,74,14],[87,62,74,58],[87,64,74,60,"userId"],[87,70,74,66],[87,71,74,67],[88,6,76,2],[88,10,76,6],[89,8,77,4],[89,12,77,10,"headers"],[89,19,77,17],[89,28,77,26],[89,32,77,26,"getAuthHeaders"],[89,36,77,40],[89,37,77,40,"getAuthHeaders"],[89,51,77,40],[89,53,77,41],[89,54,77,42],[91,8,79,4],[92,8,80,4],[92,12,80,8,"response"],[92,20,80,16],[92,29,80,25,"fetch"],[92,34,80,30],[92,35,80,31],[92,38,80,34,"API_BASE"],[92,42,80,42],[92,43,80,42,"API_BASE"],[92,51,80,42],[92,73,80,64,"userId"],[92,79,80,70],[92,81,80,72],[92,83,80,74],[93,10,81,6,"method"],[93,16,81,12],[93,18,81,14],[93,23,81,19],[94,10,82,6,"headers"],[94,17,82,13],[95,10,83,6,"body"],[95,14,83,10],[95,16,83,12,"JSON"],[95,20,83,16],[95,21,83,17,"stringify"],[95,30,83,26],[95,31,83,27,"profileData"],[95,42,83,38],[96,8,84,4],[96,9,84,5],[96,10,84,6],[97,8,86,4,"console"],[97,15,86,11],[97,16,86,12,"log"],[97,19,86,15],[97,20,86,16],[97,66,86,62],[97,68,86,64,"response"],[97,76,86,72],[97,77,86,73,"status"],[97,83,86,79],[97,84,86,80],[99,8,88,4],[100,8,89,4],[100,12,89,8,"response"],[100,20,89,16],[100,21,89,17,"status"],[100,27,89,23],[100,32,89,28],[100,35,89,31],[100,37,89,33],[101,10,90,6,"console"],[101,17,90,13],[101,18,90,14,"log"],[101,21,90,17],[101,22,90,18],[101,88,90,84],[101,89,90,85],[102,10,92,6,"response"],[102,18,92,14],[102,27,92,23,"fetch"],[102,32,92,28],[102,33,92,29],[102,36,92,32,"API_BASE"],[102,40,92,40],[102,41,92,40,"API_BASE"],[102,49,92,40],[102,69,92,60],[102,71,92,62],[103,12,93,8,"method"],[103,18,93,14],[103,20,93,16],[103,26,93,22],[104,12,94,8,"headers"],[104,19,94,15],[105,12,95,8,"body"],[105,16,95,12],[105,18,95,14,"JSON"],[105,22,95,18],[105,23,95,19,"stringify"],[105,32,95,28],[105,33,95,29,"profileData"],[105,44,95,40],[106,10,96,6],[106,11,96,7],[106,12,96,8],[107,10,98,6,"console"],[107,17,98,13],[107,18,98,14,"log"],[107,21,98,17],[107,22,98,18],[107,69,98,65],[107,71,98,67,"response"],[107,79,98,75],[107,80,98,76,"status"],[107,86,98,82],[107,87,98,83],[108,8,99,4],[109,8,101,4],[109,12,101,8],[109,13,101,9,"response"],[109,21,101,17],[109,22,101,18,"ok"],[109,24,101,20],[109,26,101,22],[110,10,102,6],[110,14,102,12,"errorText"],[110,23,102,21],[110,32,102,30,"response"],[110,40,102,38],[110,41,102,39,"text"],[110,45,102,43],[110,46,102,44],[110,47,102,45],[111,10,103,6,"console"],[111,17,103,13],[111,18,103,14,"error"],[111,23,103,19],[111,24,103,20],[111,63,103,59],[111,65,103,61,"errorText"],[111,74,103,70],[111,75,103,71],[112,10,104,6],[112,16,104,12],[112,20,104,16,"Error"],[112,25,104,21],[112,26,104,22],[112,42,104,38,"response"],[112,50,104,46],[112,51,104,47,"status"],[112,57,104,53],[112,62,104,58,"errorText"],[112,71,104,67],[112,73,104,69],[112,74,104,70],[113,8,105,4],[114,8,107,4],[114,12,107,10,"result"],[114,18,107,16],[114,27,107,25,"response"],[114,35,107,33],[114,36,107,34,"json"],[114,40,107,38],[114,41,107,39],[114,42,107,40],[115,8,108,4,"console"],[115,15,108,11],[115,16,108,12,"log"],[115,19,108,15],[115,20,108,16],[115,71,108,67],[115,72,108,68],[116,6,109,2],[116,7,109,3],[116,8,109,4],[116,15,109,11,"error"],[116,20,109,21],[116,22,109,23],[117,8,110,4,"console"],[117,15,110,11],[117,16,110,12,"error"],[117,21,110,17],[117,22,110,18],[117,57,110,53],[117,59,110,55,"error"],[117,64,110,60],[117,65,110,61,"message"],[117,72,110,68],[117,73,110,69],[118,8,111,4],[118,14,111,10,"error"],[118,19,111,15],[119,6,112,2],[120,4,113,0],[120,5,113,1],[121,4,113,1],[121,11,113,1,"_saveEmployerProfile"],[121,31,113,1],[121,32,113,1,"apply"],[121,37,113,1],[121,44,113,1,"arguments"],[121,53,113,1],[122,2,113,1],[123,0,113,1],[123,3]],"functionMap":{"names":["<global>","getEmployerProfile","getEmployerProfilePublicView","saveEmployerProfile"],"mappings":"AAA;OCK;CD6B;OEG;CF6B;OGG;CH2C"},"hasCjsExports":false},"type":"js/module"}]}