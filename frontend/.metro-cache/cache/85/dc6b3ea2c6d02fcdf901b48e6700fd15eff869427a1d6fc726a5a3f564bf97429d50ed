{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"./storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":24},"end":{"line":2,"column":45,"index":69}}],"key":"3rLtLV8J3gSw9c8Ep8Wpc3w/Yxg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.getReviews = getReviews;\n  exports.addReview = addReview;\n  exports.getReviewsForWorker = getReviewsForWorker;\n  exports.getReviewForJob = getReviewForJob;\n  exports.getReviewsForEmployer = getReviewsForEmployer;\n  exports.calculateAverageRating = calculateAverageRating;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _storage = require(_dependencyMap[1], \"./storage\");\n  // utils/reviewStore.ts\n\n  var REVIEW_KEY = '@shiftmatch:reviews';\n\n  /**\n   * Alle Reviews aus AsyncStorage laden\n   */\n  function getReviews() {\n    return _getReviews.apply(this, arguments);\n  }\n  /**\n   * Neue Review hinzufügen\n   * Verhindert Duplikate: Wenn bereits eine Review für jobId + workerId + employerId existiert,\n   * wird diese überschrieben\n   */\n  function _getReviews() {\n    _getReviews = (0, _asyncToGenerator.default)(function* () {\n      var reviews = yield (0, _storage.getItem)(REVIEW_KEY);\n      return reviews != null ? reviews : [];\n    });\n    return _getReviews.apply(this, arguments);\n  }\n  function addReview(_x) {\n    return _addReview.apply(this, arguments);\n  }\n  /**\n   * Alle Reviews für einen bestimmten Worker laden\n   */\n  function _addReview() {\n    _addReview = (0, _asyncToGenerator.default)(function* (review) {\n      var reviews = yield getReviews();\n\n      // Prüfen ob bereits eine Review für diesen Job + Worker + Employer existiert\n      var existingIndex = reviews.findIndex(function (r) {\n        return r.jobId === review.jobId && r.workerId === review.workerId && r.employerId === review.employerId;\n      });\n      if (existingIndex >= 0) {\n        // Existierende Review überschreiben\n        console.log('⚠️ Review existiert bereits, wird überschrieben');\n        reviews[existingIndex] = review;\n      } else {\n        // Neue Review hinzufügen\n        reviews.push(review);\n      }\n      yield (0, _storage.setItem)(REVIEW_KEY, reviews);\n      console.log('✅ Review gespeichert:', review);\n    });\n    return _addReview.apply(this, arguments);\n  }\n  function getReviewsForWorker(_x2) {\n    return _getReviewsForWorker.apply(this, arguments);\n  }\n  /**\n   * Prüfen ob für einen Job bereits eine Review existiert\n   */\n  function _getReviewsForWorker() {\n    _getReviewsForWorker = (0, _asyncToGenerator.default)(function* (workerId) {\n      var reviews = yield getReviews();\n      return reviews.filter(function (r) {\n        return r.workerId === workerId;\n      });\n    });\n    return _getReviewsForWorker.apply(this, arguments);\n  }\n  function getReviewForJob(_x3, _x4, _x5) {\n    return _getReviewForJob.apply(this, arguments);\n  }\n  /**\n   * Alle Reviews für einen bestimmten Employer laden\n   */\n  function _getReviewForJob() {\n    _getReviewForJob = (0, _asyncToGenerator.default)(function* (jobId, workerId, employerId) {\n      var reviews = yield getReviews();\n      return reviews.find(function (r) {\n        return r.jobId === jobId && r.workerId === workerId && r.employerId === employerId;\n      });\n    });\n    return _getReviewForJob.apply(this, arguments);\n  }\n  function getReviewsForEmployer(_x6) {\n    return _getReviewsForEmployer.apply(this, arguments);\n  }\n  /**\n   * Durchschnittliche Bewertung für einen Worker berechnen\n   */\n  function _getReviewsForEmployer() {\n    _getReviewsForEmployer = (0, _asyncToGenerator.default)(function* (employerId) {\n      var reviews = yield getReviews();\n      return reviews.filter(function (r) {\n        return r.employerId === employerId;\n      });\n    });\n    return _getReviewsForEmployer.apply(this, arguments);\n  }\n  function calculateAverageRating(reviews) {\n    if (reviews.length === 0) return 0;\n    var sum = reviews.reduce(function (acc, r) {\n      return acc + r.rating;\n    }, 0);\n    return sum / reviews.length;\n  }\n});","lineCount":122,"map":[[12,2,10,0,"exports"],[12,9,10,0],[12,10,10,0,"getReviews"],[12,20,10,0],[12,23,10,0,"getReviews"],[12,33,10,0],[13,2,20,0,"exports"],[13,9,20,0],[13,10,20,0,"addReview"],[13,19,20,0],[13,22,20,0,"addReview"],[13,31,20,0],[14,2,47,0,"exports"],[14,9,47,0],[14,10,47,0,"getReviewsForWorker"],[14,29,47,0],[14,32,47,0,"getReviewsForWorker"],[14,51,47,0],[15,2,55,0,"exports"],[15,9,55,0],[15,10,55,0,"getReviewForJob"],[15,25,55,0],[15,28,55,0,"getReviewForJob"],[15,43,55,0],[16,2,72,0,"exports"],[16,9,72,0],[16,10,72,0,"getReviewsForEmployer"],[16,31,72,0],[16,34,72,0,"getReviewsForEmployer"],[16,55,72,0],[17,2,80,0,"exports"],[17,9,80,0],[17,10,80,0,"calculateAverageRating"],[17,32,80,0],[17,35,80,0,"calculateAverageRating"],[17,57,80,0],[18,2,84,1],[18,6,84,1,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,84,1],[18,45,84,1,"require"],[18,52,84,1],[18,53,84,1,"_dependencyMap"],[18,67,84,1],[19,2,84,1],[19,6,84,1,"_asyncToGenerator"],[19,23,84,1],[19,26,84,1,"_interopDefault"],[19,41,84,1],[19,42,84,1,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,84,1],[20,2,2,0],[20,6,2,0,"_storage"],[20,14,2,0],[20,17,2,0,"require"],[20,24,2,0],[20,25,2,0,"_dependencyMap"],[20,39,2,0],[21,2,1,0],[23,2,5,0],[23,6,5,6,"REVIEW_KEY"],[23,16,5,16],[23,19,5,19],[23,40,5,40],[25,2,7,0],[26,0,8,0],[27,0,9,0],[28,2,7,0],[28,11,10,22,"getReviews"],[28,21,10,32,"getReviews"],[28,22,10,32],[29,4,10,32],[29,11,10,32,"_getReviews"],[29,22,10,32],[29,23,10,32,"apply"],[29,28,10,32],[29,35,10,32,"arguments"],[29,44,10,32],[30,2,10,32],[31,2,15,0],[32,0,16,0],[33,0,17,0],[34,0,18,0],[35,0,19,0],[36,2,15,0],[36,11,15,0,"_getReviews"],[36,23,15,0],[37,4,15,0,"_getReviews"],[37,15,15,0],[37,22,15,0,"_asyncToGenerator"],[37,39,15,0],[37,40,15,0,"default"],[37,47,15,0],[37,49,10,7],[37,62,10,54],[38,6,11,2],[38,10,11,8,"reviews"],[38,17,11,15],[38,26,11,24],[38,30,11,24,"getItem"],[38,38,11,31],[38,39,11,31,"getItem"],[38,46,11,31],[38,48,11,42,"REVIEW_KEY"],[38,58,11,52],[38,59,11,53],[39,6,12,2],[39,13,12,9,"reviews"],[39,20,12,16],[39,31,12,9,"reviews"],[39,38,12,16],[39,41,12,20],[39,43,12,22],[40,4,13,0],[40,5,13,1],[41,4,13,1],[41,11,13,1,"_getReviews"],[41,22,13,1],[41,23,13,1,"apply"],[41,28,13,1],[41,35,13,1,"arguments"],[41,44,13,1],[42,2,13,1],[43,2,13,1],[43,11,20,22,"addReview"],[43,20,20,31,"addReview"],[43,21,20,31,"_x"],[43,23,20,31],[44,4,20,31],[44,11,20,31,"_addReview"],[44,21,20,31],[44,22,20,31,"apply"],[44,27,20,31],[44,34,20,31,"arguments"],[44,43,20,31],[45,2,20,31],[46,2,44,0],[47,0,45,0],[48,0,46,0],[49,2,44,0],[49,11,44,0,"_addReview"],[49,22,44,0],[50,4,44,0,"_addReview"],[50,14,44,0],[50,21,44,0,"_asyncToGenerator"],[50,38,44,0],[50,39,44,0,"default"],[50,46,44,0],[50,48,20,7],[50,59,20,32,"review"],[50,65,20,46],[50,67,20,63],[51,6,21,2],[51,10,21,8,"reviews"],[51,17,21,15],[51,26,21,24,"getReviews"],[51,36,21,34],[51,37,21,35],[51,38,21,36],[53,6,23,2],[54,6,24,2],[54,10,24,8,"existingIndex"],[54,23,24,21],[54,26,24,24,"reviews"],[54,33,24,31],[54,34,24,32,"findIndex"],[54,43,24,41],[54,44,25,4],[54,54,25,5,"r"],[54,55,25,6],[55,8,25,6],[55,15,26,6,"r"],[55,16,26,7],[55,17,26,8,"jobId"],[55,22,26,13],[55,27,26,18,"review"],[55,33,26,24],[55,34,26,25,"jobId"],[55,39,26,30],[55,43,27,6,"r"],[55,44,27,7],[55,45,27,8,"workerId"],[55,53,27,16],[55,58,27,21,"review"],[55,64,27,27],[55,65,27,28,"workerId"],[55,73,27,36],[55,77,28,6,"r"],[55,78,28,7],[55,79,28,8,"employerId"],[55,89,28,18],[55,94,28,23,"review"],[55,100,28,29],[55,101,28,30,"employerId"],[55,111,28,40],[56,6,28,40],[56,7,29,2],[56,8,29,3],[57,6,31,2],[57,10,31,6,"existingIndex"],[57,23,31,19],[57,27,31,23],[57,28,31,24],[57,30,31,26],[58,8,32,4],[59,8,33,4,"console"],[59,15,33,11],[59,16,33,12,"log"],[59,19,33,15],[59,20,33,16],[59,69,33,65],[59,70,33,66],[60,8,34,4,"reviews"],[60,15,34,11],[60,16,34,12,"existingIndex"],[60,29,34,25],[60,30,34,26],[60,33,34,29,"review"],[60,39,34,35],[61,6,35,2],[61,7,35,3],[61,13,35,9],[62,8,36,4],[63,8,37,4,"reviews"],[63,15,37,11],[63,16,37,12,"push"],[63,20,37,16],[63,21,37,17,"review"],[63,27,37,23],[63,28,37,24],[64,6,38,2],[65,6,40,2],[65,12,40,8],[65,16,40,8,"setItem"],[65,24,40,15],[65,25,40,15,"setItem"],[65,32,40,15],[65,34,40,16,"REVIEW_KEY"],[65,44,40,26],[65,46,40,28,"reviews"],[65,53,40,35],[65,54,40,36],[66,6,41,2,"console"],[66,13,41,9],[66,14,41,10,"log"],[66,17,41,13],[66,18,41,14],[66,41,41,37],[66,43,41,39,"review"],[66,49,41,45],[66,50,41,46],[67,4,42,0],[67,5,42,1],[68,4,42,1],[68,11,42,1,"_addReview"],[68,21,42,1],[68,22,42,1,"apply"],[68,27,42,1],[68,34,42,1,"arguments"],[68,43,42,1],[69,2,42,1],[70,2,42,1],[70,11,47,22,"getReviewsForWorker"],[70,30,47,41,"getReviewsForWorker"],[70,31,47,41,"_x2"],[70,34,47,41],[71,4,47,41],[71,11,47,41,"_getReviewsForWorker"],[71,31,47,41],[71,32,47,41,"apply"],[71,37,47,41],[71,44,47,41,"arguments"],[71,53,47,41],[72,2,47,41],[73,2,52,0],[74,0,53,0],[75,0,54,0],[76,2,52,0],[76,11,52,0,"_getReviewsForWorker"],[76,32,52,0],[77,4,52,0,"_getReviewsForWorker"],[77,24,52,0],[77,31,52,0,"_asyncToGenerator"],[77,48,52,0],[77,49,52,0,"default"],[77,56,52,0],[77,58,47,7],[77,69,47,42,"workerId"],[77,77,47,58],[77,79,47,79],[78,6,48,2],[78,10,48,8,"reviews"],[78,17,48,15],[78,26,48,24,"getReviews"],[78,36,48,34],[78,37,48,35],[78,38,48,36],[79,6,49,2],[79,13,49,9,"reviews"],[79,20,49,16],[79,21,49,17,"filter"],[79,27,49,23],[79,28,49,24],[79,38,49,25,"r"],[79,39,49,26],[80,8,49,26],[80,15,49,31,"r"],[80,16,49,32],[80,17,49,33,"workerId"],[80,25,49,41],[80,30,49,46,"workerId"],[80,38,49,54],[81,6,49,54],[81,8,49,55],[82,4,50,0],[82,5,50,1],[83,4,50,1],[83,11,50,1,"_getReviewsForWorker"],[83,31,50,1],[83,32,50,1,"apply"],[83,37,50,1],[83,44,50,1,"arguments"],[83,53,50,1],[84,2,50,1],[85,2,50,1],[85,11,55,22,"getReviewForJob"],[85,26,55,37,"getReviewForJob"],[85,27,55,37,"_x3"],[85,30,55,37],[85,32,55,37,"_x4"],[85,35,55,37],[85,37,55,37,"_x5"],[85,40,55,37],[86,4,55,37],[86,11,55,37,"_getReviewForJob"],[86,27,55,37],[86,28,55,37,"apply"],[86,33,55,37],[86,40,55,37,"arguments"],[86,49,55,37],[87,2,55,37],[88,2,69,0],[89,0,70,0],[90,0,71,0],[91,2,69,0],[91,11,69,0,"_getReviewForJob"],[91,28,69,0],[92,4,69,0,"_getReviewForJob"],[92,20,69,0],[92,27,69,0,"_asyncToGenerator"],[92,44,69,0],[92,45,69,0,"default"],[92,52,69,0],[92,54,55,7],[92,65,56,2,"jobId"],[92,70,56,15],[92,72,57,2,"workerId"],[92,80,57,18],[92,82,58,2,"employerId"],[92,92,58,20],[92,94,59,31],[93,6,60,2],[93,10,60,8,"reviews"],[93,17,60,15],[93,26,60,24,"getReviews"],[93,36,60,34],[93,37,60,35],[93,38,60,36],[94,6,61,2],[94,13,61,9,"reviews"],[94,20,61,16],[94,21,61,17,"find"],[94,25,61,21],[94,26,62,4],[94,36,62,5,"r"],[94,37,62,6],[95,8,62,6],[95,15,63,6,"r"],[95,16,63,7],[95,17,63,8,"jobId"],[95,22,63,13],[95,27,63,18,"jobId"],[95,32,63,23],[95,36,64,6,"r"],[95,37,64,7],[95,38,64,8,"workerId"],[95,46,64,16],[95,51,64,21,"workerId"],[95,59,64,29],[95,63,65,6,"r"],[95,64,65,7],[95,65,65,8,"employerId"],[95,75,65,18],[95,80,65,23,"employerId"],[95,90,65,33],[96,6,65,33],[96,7,66,2],[96,8,66,3],[97,4,67,0],[97,5,67,1],[98,4,67,1],[98,11,67,1,"_getReviewForJob"],[98,27,67,1],[98,28,67,1,"apply"],[98,33,67,1],[98,40,67,1,"arguments"],[98,49,67,1],[99,2,67,1],[100,2,67,1],[100,11,72,22,"getReviewsForEmployer"],[100,32,72,43,"getReviewsForEmployer"],[100,33,72,43,"_x6"],[100,36,72,43],[101,4,72,43],[101,11,72,43,"_getReviewsForEmployer"],[101,33,72,43],[101,34,72,43,"apply"],[101,39,72,43],[101,46,72,43,"arguments"],[101,55,72,43],[102,2,72,43],[103,2,77,0],[104,0,78,0],[105,0,79,0],[106,2,77,0],[106,11,77,0,"_getReviewsForEmployer"],[106,34,77,0],[107,4,77,0,"_getReviewsForEmployer"],[107,26,77,0],[107,33,77,0,"_asyncToGenerator"],[107,50,77,0],[107,51,77,0,"default"],[107,58,77,0],[107,60,72,7],[107,71,72,44,"employerId"],[107,81,72,62],[107,83,72,83],[108,6,73,2],[108,10,73,8,"reviews"],[108,17,73,15],[108,26,73,24,"getReviews"],[108,36,73,34],[108,37,73,35],[108,38,73,36],[109,6,74,2],[109,13,74,9,"reviews"],[109,20,74,16],[109,21,74,17,"filter"],[109,27,74,23],[109,28,74,24],[109,38,74,25,"r"],[109,39,74,26],[110,8,74,26],[110,15,74,31,"r"],[110,16,74,32],[110,17,74,33,"employerId"],[110,27,74,43],[110,32,74,48,"employerId"],[110,42,74,58],[111,6,74,58],[111,8,74,59],[112,4,75,0],[112,5,75,1],[113,4,75,1],[113,11,75,1,"_getReviewsForEmployer"],[113,33,75,1],[113,34,75,1,"apply"],[113,39,75,1],[113,46,75,1,"arguments"],[113,55,75,1],[114,2,75,1],[115,2,80,7],[115,11,80,16,"calculateAverageRating"],[115,33,80,38,"calculateAverageRating"],[115,34,80,39,"reviews"],[115,41,80,56],[115,43,80,66],[116,4,81,2],[116,8,81,6,"reviews"],[116,15,81,13],[116,16,81,14,"length"],[116,22,81,20],[116,27,81,25],[116,28,81,26],[116,30,81,28],[116,37,81,35],[116,38,81,36],[117,4,82,2],[117,8,82,8,"sum"],[117,11,82,11],[117,14,82,14,"reviews"],[117,21,82,21],[117,22,82,22,"reduce"],[117,28,82,28],[117,29,82,29],[117,39,82,30,"acc"],[117,42,82,33],[117,44,82,35,"r"],[117,45,82,36],[118,6,82,36],[118,13,82,41,"acc"],[118,16,82,44],[118,19,82,47,"r"],[118,20,82,48],[118,21,82,49,"rating"],[118,27,82,55],[119,4,82,55],[119,7,82,57],[119,8,82,58],[119,9,82,59],[120,4,83,2],[120,11,83,9,"sum"],[120,14,83,12],[120,17,83,15,"reviews"],[120,24,83,22],[120,25,83,23,"length"],[120,31,83,29],[121,2,84,0],[122,0,84,1],[122,3]],"functionMap":{"names":["<global>","getReviews","addReview","reviews.findIndex$argument_0","getReviewsForWorker","reviews.filter$argument_0","getReviewForJob","reviews.find$argument_0","getReviewsForEmployer","calculateAverageRating","reviews.reduce$argument_0"],"mappings":"AAA;OCS;CDG;OEO;ICK;wCDG;CFc;OIK;wBCE,8BD;CJC;OMK;ICO;iCDG;CNE;OQK;wBHE,kCG;CRC;OSK;6BCE,0BD;CTE"},"hasCjsExports":false},"type":"js/module"}]}