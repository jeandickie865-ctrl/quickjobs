{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"./api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":52},"end":{"line":2,"column":49,"index":101}}],"key":"FbKPDeRJ9TF3vg1eKYKz12urgic=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.getReviewsForWorker = getReviewsForWorker;\n  exports.getReviewsForEmployer = getReviewsForEmployer;\n  exports.addReview = addReview;\n  exports.calculateAverageRating = calculateAverageRating;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _api = require(_dependencyMap[1], \"./api\");\n  // utils/reviewStore.ts - Review Store (REFACTORED)\n  // ===== GET REVIEWS FOR WORKER =====\n  function getReviewsForWorker(_x) {\n    return _getReviewsForWorker.apply(this, arguments);\n  } // ===== GET REVIEWS FOR EMPLOYER =====\n  function _getReviewsForWorker() {\n    _getReviewsForWorker = (0, _asyncToGenerator.default)(function* (workerId) {\n      console.log('üîç getReviewsForWorker: Fetching reviews for worker', workerId);\n      try {\n        var headers = yield (0, _api.getAuthHeaders)();\n        var response = yield fetch(`${_api.API_BASE}/reviews/worker/${workerId}`, {\n          method: 'GET',\n          headers: headers\n        });\n        if (!response.ok) {\n          var error = yield response.text();\n          console.error('‚ùå getReviewsForWorker: Failed', response.status, error);\n          throw new Error(`Failed to fetch reviews: ${response.status}`);\n        }\n        var reviews = yield response.json();\n        console.log('‚úÖ getReviewsForWorker: Found', reviews.length, 'reviews');\n        return reviews;\n      } catch (error) {\n        console.error('‚ùå getReviewsForWorker: Error', error);\n        throw error;\n      }\n    });\n    return _getReviewsForWorker.apply(this, arguments);\n  }\n  function getReviewsForEmployer(_x2) {\n    return _getReviewsForEmployer.apply(this, arguments);\n  } // ===== ADD REVIEW =====\n  function _getReviewsForEmployer() {\n    _getReviewsForEmployer = (0, _asyncToGenerator.default)(function* (employerId) {\n      console.log('üîç getReviewsForEmployer: Fetching reviews for employer', employerId);\n      try {\n        var headers = yield (0, _api.getAuthHeaders)();\n        var response = yield fetch(`${_api.API_BASE}/reviews/employer/${employerId}`, {\n          method: 'GET',\n          headers: headers\n        });\n        if (!response.ok) {\n          var error = yield response.text();\n          console.error('‚ùå getReviewsForEmployer: Failed', response.status, error);\n          throw new Error(`Failed to fetch reviews: ${response.status}`);\n        }\n        var reviews = yield response.json();\n        console.log('‚úÖ getReviewsForEmployer: Found', reviews.length, 'reviews');\n        return reviews;\n      } catch (error) {\n        console.error('‚ùå getReviewsForEmployer: Error', error);\n        throw error;\n      }\n    });\n    return _getReviewsForEmployer.apply(this, arguments);\n  }\n  function addReview(_x3) {\n    return _addReview.apply(this, arguments);\n  } // ===== CALCULATE AVERAGE RATING =====\n  function _addReview() {\n    _addReview = (0, _asyncToGenerator.default)(function* (review) {\n      console.log('‚ûï addReview: Creating review');\n      try {\n        var headers = yield (0, _api.getAuthHeaders)();\n        var response = yield fetch(`${_api.API_BASE}/reviews`, {\n          method: 'POST',\n          headers: headers,\n          body: JSON.stringify(review)\n        });\n        if (!response.ok) {\n          var error = yield response.text();\n          console.error('‚ùå addReview: Failed', response.status, error);\n          throw new Error(`Failed to create review: ${response.status}`);\n        }\n        var createdReview = yield response.json();\n        console.log('‚úÖ addReview: Review created');\n        return createdReview;\n      } catch (error) {\n        console.error('‚ùå addReview: Error', error);\n        throw error;\n      }\n    });\n    return _addReview.apply(this, arguments);\n  }\n  function calculateAverageRating(reviews) {\n    if (reviews.length === 0) return 0;\n    var sum = reviews.reduce(function (acc, review) {\n      return acc + review.rating;\n    }, 0);\n    return sum / reviews.length;\n  }\n});","lineCount":110,"map":[[12,2,15,0,"exports"],[12,9,15,0],[12,10,15,0,"getReviewsForWorker"],[12,29,15,0],[12,32,15,0,"getReviewsForWorker"],[12,51,15,0],[13,2,42,0,"exports"],[13,9,42,0],[13,10,42,0,"getReviewsForEmployer"],[13,31,42,0],[13,34,42,0,"getReviewsForEmployer"],[13,55,42,0],[14,2,69,0,"exports"],[14,9,69,0],[14,10,69,0,"addReview"],[14,19,69,0],[14,22,69,0,"addReview"],[14,31,69,0],[15,2,97,0,"exports"],[15,9,97,0],[15,10,97,0,"calculateAverageRating"],[15,32,97,0],[15,35,97,0,"calculateAverageRating"],[15,57,97,0],[16,2,101,1],[16,6,101,1,"_babelRuntimeHelpersAsyncToGenerator"],[16,42,101,1],[16,45,101,1,"require"],[16,52,101,1],[16,53,101,1,"_dependencyMap"],[16,67,101,1],[17,2,101,1],[17,6,101,1,"_asyncToGenerator"],[17,23,101,1],[17,26,101,1,"_interopDefault"],[17,41,101,1],[17,42,101,1,"_babelRuntimeHelpersAsyncToGenerator"],[17,78,101,1],[18,2,2,0],[18,6,2,0,"_api"],[18,10,2,0],[18,13,2,0,"require"],[18,20,2,0],[18,21,2,0,"_dependencyMap"],[18,35,2,0],[19,2,1,0],[20,2,14,0],[21,2,14,0],[21,11,15,22,"getReviewsForWorker"],[21,30,15,41,"getReviewsForWorker"],[21,31,15,41,"_x"],[21,33,15,41],[22,4,15,41],[22,11,15,41,"_getReviewsForWorker"],[22,31,15,41],[22,32,15,41,"apply"],[22,37,15,41],[22,44,15,41,"arguments"],[22,53,15,41],[23,2,15,41],[23,4,41,0],[24,2,41,0],[24,11,41,0,"_getReviewsForWorker"],[24,32,41,0],[25,4,41,0,"_getReviewsForWorker"],[25,24,41,0],[25,31,41,0,"_asyncToGenerator"],[25,48,41,0],[25,49,41,0,"default"],[25,56,41,0],[25,58,15,7],[25,69,15,42,"workerId"],[25,77,15,58],[25,79,15,79],[26,6,16,2,"console"],[26,13,16,9],[26,14,16,10,"log"],[26,17,16,13],[26,18,16,14],[26,71,16,67],[26,73,16,69,"workerId"],[26,81,16,77],[26,82,16,78],[27,6,18,2],[27,10,18,6],[28,8,19,4],[28,12,19,10,"headers"],[28,19,19,17],[28,28,19,26],[28,32,19,26,"getAuthHeaders"],[28,36,19,40],[28,37,19,40,"getAuthHeaders"],[28,51,19,40],[28,53,19,41],[28,54,19,42],[29,8,21,4],[29,12,21,10,"response"],[29,20,21,18],[29,29,21,27,"fetch"],[29,34,21,32],[29,35,21,33],[29,38,21,36,"API_BASE"],[29,42,21,44],[29,43,21,44,"API_BASE"],[29,51,21,44],[29,70,21,63,"workerId"],[29,78,21,71],[29,80,21,73],[29,82,21,75],[30,10,22,6,"method"],[30,16,22,12],[30,18,22,14],[30,23,22,19],[31,10,23,6,"headers"],[31,17,23,13],[31,19,23,6,"headers"],[32,8,24,4],[32,9,24,5],[32,10,24,6],[33,8,26,4],[33,12,26,8],[33,13,26,9,"response"],[33,21,26,17],[33,22,26,18,"ok"],[33,24,26,20],[33,26,26,22],[34,10,27,6],[34,14,27,12,"error"],[34,19,27,17],[34,28,27,26,"response"],[34,36,27,34],[34,37,27,35,"text"],[34,41,27,39],[34,42,27,40],[34,43,27,41],[35,10,28,6,"console"],[35,17,28,13],[35,18,28,14,"error"],[35,23,28,19],[35,24,28,20],[35,55,28,51],[35,57,28,53,"response"],[35,65,28,61],[35,66,28,62,"status"],[35,72,28,68],[35,74,28,70,"error"],[35,79,28,75],[35,80,28,76],[36,10,29,6],[36,16,29,12],[36,20,29,16,"Error"],[36,25,29,21],[36,26,29,22],[36,54,29,50,"response"],[36,62,29,58],[36,63,29,59,"status"],[36,69,29,65],[36,71,29,67],[36,72,29,68],[37,8,30,4],[38,8,32,4],[38,12,32,10,"reviews"],[38,19,32,17],[38,28,32,26,"response"],[38,36,32,34],[38,37,32,35,"json"],[38,41,32,39],[38,42,32,40],[38,43,32,41],[39,8,33,4,"console"],[39,15,33,11],[39,16,33,12,"log"],[39,19,33,15],[39,20,33,16],[39,50,33,46],[39,52,33,48,"reviews"],[39,59,33,55],[39,60,33,56,"length"],[39,66,33,62],[39,68,33,64],[39,77,33,73],[39,78,33,74],[40,8,34,4],[40,15,34,11,"reviews"],[40,22,34,18],[41,6,35,2],[41,7,35,3],[41,8,35,4],[41,15,35,11,"error"],[41,20,35,16],[41,22,35,18],[42,8,36,4,"console"],[42,15,36,11],[42,16,36,12,"error"],[42,21,36,17],[42,22,36,18],[42,52,36,48],[42,54,36,50,"error"],[42,59,36,55],[42,60,36,56],[43,8,37,4],[43,14,37,10,"error"],[43,19,37,15],[44,6,38,2],[45,4,39,0],[45,5,39,1],[46,4,39,1],[46,11,39,1,"_getReviewsForWorker"],[46,31,39,1],[46,32,39,1,"apply"],[46,37,39,1],[46,44,39,1,"arguments"],[46,53,39,1],[47,2,39,1],[48,2,39,1],[48,11,42,22,"getReviewsForEmployer"],[48,32,42,43,"getReviewsForEmployer"],[48,33,42,43,"_x2"],[48,36,42,43],[49,4,42,43],[49,11,42,43,"_getReviewsForEmployer"],[49,33,42,43],[49,34,42,43,"apply"],[49,39,42,43],[49,46,42,43,"arguments"],[49,55,42,43],[50,2,42,43],[50,4,68,0],[51,2,68,0],[51,11,68,0,"_getReviewsForEmployer"],[51,34,68,0],[52,4,68,0,"_getReviewsForEmployer"],[52,26,68,0],[52,33,68,0,"_asyncToGenerator"],[52,50,68,0],[52,51,68,0,"default"],[52,58,68,0],[52,60,42,7],[52,71,42,44,"employerId"],[52,81,42,62],[52,83,42,83],[53,6,43,2,"console"],[53,13,43,9],[53,14,43,10,"log"],[53,17,43,13],[53,18,43,14],[53,75,43,71],[53,77,43,73,"employerId"],[53,87,43,83],[53,88,43,84],[54,6,45,2],[54,10,45,6],[55,8,46,4],[55,12,46,10,"headers"],[55,19,46,17],[55,28,46,26],[55,32,46,26,"getAuthHeaders"],[55,36,46,40],[55,37,46,40,"getAuthHeaders"],[55,51,46,40],[55,53,46,41],[55,54,46,42],[56,8,48,4],[56,12,48,10,"response"],[56,20,48,18],[56,29,48,27,"fetch"],[56,34,48,32],[56,35,48,33],[56,38,48,36,"API_BASE"],[56,42,48,44],[56,43,48,44,"API_BASE"],[56,51,48,44],[56,72,48,65,"employerId"],[56,82,48,75],[56,84,48,77],[56,86,48,79],[57,10,49,6,"method"],[57,16,49,12],[57,18,49,14],[57,23,49,19],[58,10,50,6,"headers"],[58,17,50,13],[58,19,50,6,"headers"],[59,8,51,4],[59,9,51,5],[59,10,51,6],[60,8,53,4],[60,12,53,8],[60,13,53,9,"response"],[60,21,53,17],[60,22,53,18,"ok"],[60,24,53,20],[60,26,53,22],[61,10,54,6],[61,14,54,12,"error"],[61,19,54,17],[61,28,54,26,"response"],[61,36,54,34],[61,37,54,35,"text"],[61,41,54,39],[61,42,54,40],[61,43,54,41],[62,10,55,6,"console"],[62,17,55,13],[62,18,55,14,"error"],[62,23,55,19],[62,24,55,20],[62,57,55,53],[62,59,55,55,"response"],[62,67,55,63],[62,68,55,64,"status"],[62,74,55,70],[62,76,55,72,"error"],[62,81,55,77],[62,82,55,78],[63,10,56,6],[63,16,56,12],[63,20,56,16,"Error"],[63,25,56,21],[63,26,56,22],[63,54,56,50,"response"],[63,62,56,58],[63,63,56,59,"status"],[63,69,56,65],[63,71,56,67],[63,72,56,68],[64,8,57,4],[65,8,59,4],[65,12,59,10,"reviews"],[65,19,59,17],[65,28,59,26,"response"],[65,36,59,34],[65,37,59,35,"json"],[65,41,59,39],[65,42,59,40],[65,43,59,41],[66,8,60,4,"console"],[66,15,60,11],[66,16,60,12,"log"],[66,19,60,15],[66,20,60,16],[66,52,60,48],[66,54,60,50,"reviews"],[66,61,60,57],[66,62,60,58,"length"],[66,68,60,64],[66,70,60,66],[66,79,60,75],[66,80,60,76],[67,8,61,4],[67,15,61,11,"reviews"],[67,22,61,18],[68,6,62,2],[68,7,62,3],[68,8,62,4],[68,15,62,11,"error"],[68,20,62,16],[68,22,62,18],[69,8,63,4,"console"],[69,15,63,11],[69,16,63,12,"error"],[69,21,63,17],[69,22,63,18],[69,54,63,50],[69,56,63,52,"error"],[69,61,63,57],[69,62,63,58],[70,8,64,4],[70,14,64,10,"error"],[70,19,64,15],[71,6,65,2],[72,4,66,0],[72,5,66,1],[73,4,66,1],[73,11,66,1,"_getReviewsForEmployer"],[73,33,66,1],[73,34,66,1,"apply"],[73,39,66,1],[73,46,66,1,"arguments"],[73,55,66,1],[74,2,66,1],[75,2,66,1],[75,11,69,22,"addReview"],[75,20,69,31,"addReview"],[75,21,69,31,"_x3"],[75,24,69,31],[76,4,69,31],[76,11,69,31,"_addReview"],[76,21,69,31],[76,22,69,31,"apply"],[76,27,69,31],[76,34,69,31,"arguments"],[76,43,69,31],[77,2,69,31],[77,4,96,0],[78,2,96,0],[78,11,96,0,"_addReview"],[78,22,96,0],[79,4,96,0,"_addReview"],[79,14,96,0],[79,21,96,0,"_asyncToGenerator"],[79,38,96,0],[79,39,96,0,"default"],[79,46,96,0],[79,48,69,7],[79,59,69,32,"review"],[79,65,69,72],[79,67,69,91],[80,6,70,2,"console"],[80,13,70,9],[80,14,70,10,"log"],[80,17,70,13],[80,18,70,14],[80,48,70,44],[80,49,70,45],[81,6,72,2],[81,10,72,6],[82,8,73,4],[82,12,73,10,"headers"],[82,19,73,17],[82,28,73,26],[82,32,73,26,"getAuthHeaders"],[82,36,73,40],[82,37,73,40,"getAuthHeaders"],[82,51,73,40],[82,53,73,41],[82,54,73,42],[83,8,75,4],[83,12,75,10,"response"],[83,20,75,18],[83,29,75,27,"fetch"],[83,34,75,32],[83,35,75,33],[83,38,75,36,"API_BASE"],[83,42,75,44],[83,43,75,44,"API_BASE"],[83,51,75,44],[83,61,75,54],[83,63,75,56],[84,10,76,6,"method"],[84,16,76,12],[84,18,76,14],[84,24,76,20],[85,10,77,6,"headers"],[85,17,77,13],[85,19,77,6,"headers"],[85,26,77,13],[86,10,78,6,"body"],[86,14,78,10],[86,16,78,12,"JSON"],[86,20,78,16],[86,21,78,17,"stringify"],[86,30,78,26],[86,31,78,27,"review"],[86,37,78,33],[87,8,79,4],[87,9,79,5],[87,10,79,6],[88,8,81,4],[88,12,81,8],[88,13,81,9,"response"],[88,21,81,17],[88,22,81,18,"ok"],[88,24,81,20],[88,26,81,22],[89,10,82,6],[89,14,82,12,"error"],[89,19,82,17],[89,28,82,26,"response"],[89,36,82,34],[89,37,82,35,"text"],[89,41,82,39],[89,42,82,40],[89,43,82,41],[90,10,83,6,"console"],[90,17,83,13],[90,18,83,14,"error"],[90,23,83,19],[90,24,83,20],[90,45,83,41],[90,47,83,43,"response"],[90,55,83,51],[90,56,83,52,"status"],[90,62,83,58],[90,64,83,60,"error"],[90,69,83,65],[90,70,83,66],[91,10,84,6],[91,16,84,12],[91,20,84,16,"Error"],[91,25,84,21],[91,26,84,22],[91,54,84,50,"response"],[91,62,84,58],[91,63,84,59,"status"],[91,69,84,65],[91,71,84,67],[91,72,84,68],[92,8,85,4],[93,8,87,4],[93,12,87,10,"createdReview"],[93,25,87,23],[93,34,87,32,"response"],[93,42,87,40],[93,43,87,41,"json"],[93,47,87,45],[93,48,87,46],[93,49,87,47],[94,8,88,4,"console"],[94,15,88,11],[94,16,88,12,"log"],[94,19,88,15],[94,20,88,16],[94,49,88,45],[94,50,88,46],[95,8,89,4],[95,15,89,11,"createdReview"],[95,28,89,24],[96,6,90,2],[96,7,90,3],[96,8,90,4],[96,15,90,11,"error"],[96,20,90,16],[96,22,90,18],[97,8,91,4,"console"],[97,15,91,11],[97,16,91,12,"error"],[97,21,91,17],[97,22,91,18],[97,42,91,38],[97,44,91,40,"error"],[97,49,91,45],[97,50,91,46],[98,8,92,4],[98,14,92,10,"error"],[98,19,92,15],[99,6,93,2],[100,4,94,0],[100,5,94,1],[101,4,94,1],[101,11,94,1,"_addReview"],[101,21,94,1],[101,22,94,1,"apply"],[101,27,94,1],[101,34,94,1,"arguments"],[101,43,94,1],[102,2,94,1],[103,2,97,7],[103,11,97,16,"calculateAverageRating"],[103,33,97,38,"calculateAverageRating"],[103,34,97,39,"reviews"],[103,41,97,56],[103,43,97,66],[104,4,98,2],[104,8,98,6,"reviews"],[104,15,98,13],[104,16,98,14,"length"],[104,22,98,20],[104,27,98,25],[104,28,98,26],[104,30,98,28],[104,37,98,35],[104,38,98,36],[105,4,99,2],[105,8,99,8,"sum"],[105,11,99,11],[105,14,99,14,"reviews"],[105,21,99,21],[105,22,99,22,"reduce"],[105,28,99,28],[105,29,99,29],[105,39,99,30,"acc"],[105,42,99,33],[105,44,99,35,"review"],[105,50,99,41],[106,6,99,41],[106,13,99,46,"acc"],[106,16,99,49],[106,19,99,52,"review"],[106,25,99,58],[106,26,99,59,"rating"],[106,32,99,65],[107,4,99,65],[107,7,99,67],[107,8,99,68],[107,9,99,69],[108,4,100,2],[108,11,100,9,"sum"],[108,14,100,12],[108,17,100,15,"reviews"],[108,24,100,22],[108,25,100,23,"length"],[108,31,100,29],[109,2,101,0],[110,0,101,1],[110,3]],"functionMap":{"names":["<global>","getReviewsForWorker","getReviewsForEmployer","addReview","calculateAverageRating","reviews.reduce$argument_0"],"mappings":"AAA;OCc;CDwB;OEG;CFwB;OGG;CHyB;OIG;6BCE,oCD;CJE"},"hasCjsExports":false},"type":"js/module"}]}