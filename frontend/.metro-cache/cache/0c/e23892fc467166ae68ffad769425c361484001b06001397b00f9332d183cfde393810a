{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.isMatch = isMatch;\n  exports.calculateDistance = calculateDistance;\n  exports.filterMatchingJobs = filterMatchingJobs;\n  exports.calculateMatchScore = calculateMatchScore;\n  exports.sortJobsByMatch = sortJobsByMatch;\n  function haversineKm(lat1, lon1, lat2, lon2) {\n    const R = 6371;\n    const dLat = (lat2 - lat1) * Math.PI / 180;\n    const dLon = (lon2 - lon1) * Math.PI / 180;\n    const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * Math.sin(dLon / 2) * Math.sin(dLon / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    return R * c;\n  }\n\n  /**\n   * Check if a job matches a worker's profile\n   * \n   * Matching criteria:\n   * 1. Job category must be in worker's selected categories\n   * 2. Job location must be within worker's search radius\n   * 3. Worker must have ALL tags from required_all_tags\n   * 4. Worker must have AT LEAST ONE tag from required_any_tags (if any are specified)\n   */\n  function isMatch(job, profile) {\n    // Check category\n    if (!profile.categories.includes(job.category)) return false;\n\n    // Check required_all_tags\n    const have = new Set(profile.tags);\n    if (!job.required_all_tags.every(t => have.has(t))) return false;\n\n    // Check required_any_tags\n    if (job.required_any_tags.length > 0 && !job.required_any_tags.some(t => have.has(t))) return false;\n\n    // Check distance\n    const dist = haversineKm(profile.homeLat, profile.homeLon, job.lat, job.lon);\n    if (dist > profile.radiusKm) return false;\n    return true;\n  }\n  function calculateDistance(lat1, lon1, lat2, lon2) {\n    return haversineKm(lat1, lon1, lat2, lon2);\n  }\n\n  /**\n   * Filter jobs that match the worker profile\n   */\n  function filterMatchingJobs(jobs, profile) {\n    return jobs.filter(job => isMatch(job, profile));\n  }\n\n  /**\n   * Calculate match score (0-100) for sorting\n   * Higher score = better match\n   */\n  function calculateMatchScore(job, profile) {\n    let score = 0;\n\n    // Distance score (closer = better): max 40 points\n    const distance = calculateDistance(profile.homeLat, profile.homeLon, job.lat, job.lon);\n    const distanceScore = Math.max(0, 40 * (1 - distance / profile.radiusKm));\n    score += distanceScore;\n\n    // Tag match score: max 40 points\n    const workerTagSet = new Set(profile.tags);\n    const allJobTags = [...job.required_all_tags, ...job.required_any_tags];\n    const matchingTags = allJobTags.filter(tag => workerTagSet.has(tag));\n    if (allJobTags.length > 0) {\n      const tagMatchRatio = matchingTags.length / allJobTags.length;\n      score += 40 * tagMatchRatio;\n    } else {\n      // No specific tags required = bonus\n      score += 20;\n    }\n\n    // Pay score: max 20 points (higher pay = higher score)\n    const payScore = Math.min(20, job.workerAmountCents / 10000 * 20);\n    score += payScore;\n    return Math.round(score);\n  }\n  function sortJobsByMatch(jobs, profile) {\n    return jobs.sort((a, b) => {\n      const scoreA = calculateMatchScore(a, profile);\n      const scoreB = calculateMatchScore(b, profile);\n      return scoreB - scoreA; // Higher score first\n    });\n  }\n});","lineCount":93,"map":[[7,2,25,0,"exports"],[7,9,25,0],[7,10,25,0,"isMatch"],[7,17,25,0],[7,20,25,0,"isMatch"],[7,27,25,0],[8,2,43,0,"exports"],[8,9,43,0],[8,10,43,0,"calculateDistance"],[8,27,43,0],[8,30,43,0,"calculateDistance"],[8,47,43,0],[9,2,50,0,"exports"],[9,9,50,0],[9,10,50,0,"filterMatchingJobs"],[9,28,50,0],[9,31,50,0,"filterMatchingJobs"],[9,49,50,0],[10,2,58,0,"exports"],[10,9,58,0],[10,10,58,0,"calculateMatchScore"],[10,29,58,0],[10,32,58,0,"calculateMatchScore"],[10,51,58,0],[11,2,85,0,"exports"],[11,9,85,0],[11,10,85,0,"sortJobsByMatch"],[11,25,85,0],[11,28,85,0,"sortJobsByMatch"],[11,43,85,0],[12,2,4,0],[12,11,4,9,"haversineKm"],[12,22,4,20,"haversineKm"],[12,23,4,21,"lat1"],[12,27,4,33],[12,29,4,35,"lon1"],[12,33,4,47],[12,35,4,49,"lat2"],[12,39,4,61],[12,41,4,63,"lon2"],[12,45,4,75],[12,47,4,85],[13,4,5,2],[13,10,5,8,"R"],[13,11,5,9],[13,14,5,12],[13,18,5,16],[14,4,6,2],[14,10,6,8,"dLat"],[14,14,6,12],[14,17,6,15],[14,18,6,16,"lat2"],[14,22,6,20],[14,25,6,23,"lat1"],[14,29,6,27],[14,33,6,31,"Math"],[14,37,6,35],[14,38,6,36,"PI"],[14,40,6,38],[14,43,6,41],[14,46,6,44],[15,4,7,2],[15,10,7,8,"dLon"],[15,14,7,12],[15,17,7,15],[15,18,7,16,"lon2"],[15,22,7,20],[15,25,7,23,"lon1"],[15,29,7,27],[15,33,7,31,"Math"],[15,37,7,35],[15,38,7,36,"PI"],[15,40,7,38],[15,43,7,41],[15,46,7,44],[16,4,8,2],[16,10,8,8,"a"],[16,11,8,9],[16,14,9,4,"Math"],[16,18,9,8],[16,19,9,9,"sin"],[16,22,9,12],[16,23,9,13,"dLat"],[16,27,9,17],[16,30,9,20],[16,31,9,21],[16,32,9,22],[16,35,9,25,"Math"],[16,39,9,29],[16,40,9,30,"sin"],[16,43,9,33],[16,44,9,34,"dLat"],[16,48,9,38],[16,51,9,41],[16,52,9,42],[16,53,9,43],[16,56,10,4,"Math"],[16,60,10,8],[16,61,10,9,"cos"],[16,64,10,12],[16,65,10,13,"lat1"],[16,69,10,17],[16,72,10,20,"Math"],[16,76,10,24],[16,77,10,25,"PI"],[16,79,10,27],[16,82,10,30],[16,85,10,33],[16,86,10,34],[16,89,10,37,"Math"],[16,93,10,41],[16,94,10,42,"cos"],[16,97,10,45],[16,98,10,46,"lat2"],[16,102,10,50],[16,105,10,53,"Math"],[16,109,10,57],[16,110,10,58,"PI"],[16,112,10,60],[16,115,10,63],[16,118,10,66],[16,119,10,67],[16,122,11,4,"Math"],[16,126,11,8],[16,127,11,9,"sin"],[16,130,11,12],[16,131,11,13,"dLon"],[16,135,11,17],[16,138,11,20],[16,139,11,21],[16,140,11,22],[16,143,11,25,"Math"],[16,147,11,29],[16,148,11,30,"sin"],[16,151,11,33],[16,152,11,34,"dLon"],[16,156,11,38],[16,159,11,41],[16,160,11,42],[16,161,11,43],[17,4,12,2],[17,10,12,8,"c"],[17,11,12,9],[17,14,12,12],[17,15,12,13],[17,18,12,16,"Math"],[17,22,12,20],[17,23,12,21,"atan2"],[17,28,12,26],[17,29,12,27,"Math"],[17,33,12,31],[17,34,12,32,"sqrt"],[17,38,12,36],[17,39,12,37,"a"],[17,40,12,38],[17,41,12,39],[17,43,12,41,"Math"],[17,47,12,45],[17,48,12,46,"sqrt"],[17,52,12,50],[17,53,12,51],[17,54,12,52],[17,57,12,55,"a"],[17,58,12,56],[17,59,12,57],[17,60,12,58],[18,4,13,2],[18,11,13,9,"R"],[18,12,13,10],[18,15,13,13,"c"],[18,16,13,14],[19,2,14,0],[21,2,16,0],[22,0,17,0],[23,0,18,0],[24,0,19,0],[25,0,20,0],[26,0,21,0],[27,0,22,0],[28,0,23,0],[29,0,24,0],[30,2,25,7],[30,11,25,16,"isMatch"],[30,18,25,23,"isMatch"],[30,19,25,24,"job"],[30,22,25,32],[30,24,25,34,"profile"],[30,31,25,56],[30,33,25,67],[31,4,26,2],[32,4,27,2],[32,8,27,6],[32,9,27,7,"profile"],[32,16,27,14],[32,17,27,15,"categories"],[32,27,27,25],[32,28,27,26,"includes"],[32,36,27,34],[32,37,27,35,"job"],[32,40,27,38],[32,41,27,39,"category"],[32,49,27,47],[32,50,27,48],[32,52,27,50],[32,59,27,57],[32,64,27,62],[34,4,29,2],[35,4,30,2],[35,10,30,8,"have"],[35,14,30,12],[35,17,30,15],[35,21,30,19,"Set"],[35,24,30,22],[35,25,30,23,"profile"],[35,32,30,30],[35,33,30,31,"tags"],[35,37,30,35],[35,38,30,36],[36,4,31,2],[36,8,31,6],[36,9,31,7,"job"],[36,12,31,10],[36,13,31,11,"required_all_tags"],[36,30,31,28],[36,31,31,29,"every"],[36,36,31,34],[36,37,31,35,"t"],[36,38,31,36],[36,42,31,40,"have"],[36,46,31,44],[36,47,31,45,"has"],[36,50,31,48],[36,51,31,49,"t"],[36,52,31,50],[36,53,31,51],[36,54,31,52],[36,56,31,54],[36,63,31,61],[36,68,31,66],[38,4,33,2],[39,4,34,2],[39,8,34,6,"job"],[39,11,34,9],[39,12,34,10,"required_any_tags"],[39,29,34,27],[39,30,34,28,"length"],[39,36,34,34],[39,39,34,37],[39,40,34,38],[39,44,34,42],[39,45,34,43,"job"],[39,48,34,46],[39,49,34,47,"required_any_tags"],[39,66,34,64],[39,67,34,65,"some"],[39,71,34,69],[39,72,34,70,"t"],[39,73,34,71],[39,77,34,75,"have"],[39,81,34,79],[39,82,34,80,"has"],[39,85,34,83],[39,86,34,84,"t"],[39,87,34,85],[39,88,34,86],[39,89,34,87],[39,91,34,89],[39,98,34,96],[39,103,34,101],[41,4,36,2],[42,4,37,2],[42,10,37,8,"dist"],[42,14,37,12],[42,17,37,15,"haversineKm"],[42,28,37,26],[42,29,37,27,"profile"],[42,36,37,34],[42,37,37,35,"homeLat"],[42,44,37,42],[42,46,37,44,"profile"],[42,53,37,51],[42,54,37,52,"homeLon"],[42,61,37,59],[42,63,37,61,"job"],[42,66,37,64],[42,67,37,65,"lat"],[42,70,37,68],[42,72,37,70,"job"],[42,75,37,73],[42,76,37,74,"lon"],[42,79,37,77],[42,80,37,78],[43,4,38,2],[43,8,38,6,"dist"],[43,12,38,10],[43,15,38,13,"profile"],[43,22,38,20],[43,23,38,21,"radiusKm"],[43,31,38,29],[43,33,38,31],[43,40,38,38],[43,45,38,43],[44,4,40,2],[44,11,40,9],[44,15,40,13],[45,2,41,0],[46,2,43,7],[46,11,43,16,"calculateDistance"],[46,28,43,33,"calculateDistance"],[46,29,43,34,"lat1"],[46,33,43,46],[46,35,43,48,"lon1"],[46,39,43,60],[46,41,43,62,"lat2"],[46,45,43,74],[46,47,43,76,"lon2"],[46,51,43,88],[46,53,43,98],[47,4,44,2],[47,11,44,9,"haversineKm"],[47,22,44,20],[47,23,44,21,"lat1"],[47,27,44,25],[47,29,44,27,"lon1"],[47,33,44,31],[47,35,44,33,"lat2"],[47,39,44,37],[47,41,44,39,"lon2"],[47,45,44,43],[47,46,44,44],[48,2,45,0],[50,2,47,0],[51,0,48,0],[52,0,49,0],[53,2,50,7],[53,11,50,16,"filterMatchingJobs"],[53,29,50,34,"filterMatchingJobs"],[53,30,50,35,"jobs"],[53,34,50,46],[53,36,50,48,"profile"],[53,43,50,70],[53,45,50,79],[54,4,51,2],[54,11,51,9,"jobs"],[54,15,51,13],[54,16,51,14,"filter"],[54,22,51,20],[54,23,51,21,"job"],[54,26,51,24],[54,30,51,28,"isMatch"],[54,37,51,35],[54,38,51,36,"job"],[54,41,51,39],[54,43,51,41,"profile"],[54,50,51,48],[54,51,51,49],[54,52,51,50],[55,2,52,0],[57,2,54,0],[58,0,55,0],[59,0,56,0],[60,0,57,0],[61,2,58,7],[61,11,58,16,"calculateMatchScore"],[61,30,58,35,"calculateMatchScore"],[61,31,58,36,"job"],[61,34,58,44],[61,36,58,46,"profile"],[61,43,58,68],[61,45,58,78],[62,4,59,2],[62,8,59,6,"score"],[62,13,59,11],[62,16,59,14],[62,17,59,15],[64,4,61,2],[65,4,62,2],[65,10,62,8,"distance"],[65,18,62,16],[65,21,62,19,"calculateDistance"],[65,38,62,36],[65,39,62,37,"profile"],[65,46,62,44],[65,47,62,45,"homeLat"],[65,54,62,52],[65,56,62,54,"profile"],[65,63,62,61],[65,64,62,62,"homeLon"],[65,71,62,69],[65,73,62,71,"job"],[65,76,62,74],[65,77,62,75,"lat"],[65,80,62,78],[65,82,62,80,"job"],[65,85,62,83],[65,86,62,84,"lon"],[65,89,62,87],[65,90,62,88],[66,4,63,2],[66,10,63,8,"distanceScore"],[66,23,63,21],[66,26,63,24,"Math"],[66,30,63,28],[66,31,63,29,"max"],[66,34,63,32],[66,35,63,33],[66,36,63,34],[66,38,63,36],[66,40,63,38],[66,44,63,42],[66,45,63,43],[66,48,63,46,"distance"],[66,56,63,54],[66,59,63,57,"profile"],[66,66,63,64],[66,67,63,65,"radiusKm"],[66,75,63,73],[66,76,63,74],[66,77,63,75],[67,4,64,2,"score"],[67,9,64,7],[67,13,64,11,"distanceScore"],[67,26,64,24],[69,4,66,2],[70,4,67,2],[70,10,67,8,"workerTagSet"],[70,22,67,20],[70,25,67,23],[70,29,67,27,"Set"],[70,32,67,30],[70,33,67,31,"profile"],[70,40,67,38],[70,41,67,39,"tags"],[70,45,67,43],[70,46,67,44],[71,4,68,2],[71,10,68,8,"allJobTags"],[71,20,68,18],[71,23,68,21],[71,24,68,22],[71,27,68,25,"job"],[71,30,68,28],[71,31,68,29,"required_all_tags"],[71,48,68,46],[71,50,68,48],[71,53,68,51,"job"],[71,56,68,54],[71,57,68,55,"required_any_tags"],[71,74,68,72],[71,75,68,73],[72,4,69,2],[72,10,69,8,"matchingTags"],[72,22,69,20],[72,25,69,23,"allJobTags"],[72,35,69,33],[72,36,69,34,"filter"],[72,42,69,40],[72,43,69,41,"tag"],[72,46,69,44],[72,50,69,48,"workerTagSet"],[72,62,69,60],[72,63,69,61,"has"],[72,66,69,64],[72,67,69,65,"tag"],[72,70,69,68],[72,71,69,69],[72,72,69,70],[73,4,70,2],[73,8,70,6,"allJobTags"],[73,18,70,16],[73,19,70,17,"length"],[73,25,70,23],[73,28,70,26],[73,29,70,27],[73,31,70,29],[74,6,71,4],[74,12,71,10,"tagMatchRatio"],[74,25,71,23],[74,28,71,26,"matchingTags"],[74,40,71,38],[74,41,71,39,"length"],[74,47,71,45],[74,50,71,48,"allJobTags"],[74,60,71,58],[74,61,71,59,"length"],[74,67,71,65],[75,6,72,4,"score"],[75,11,72,9],[75,15,72,13],[75,17,72,15],[75,20,72,18,"tagMatchRatio"],[75,33,72,31],[76,4,73,2],[76,5,73,3],[76,11,73,9],[77,6,74,4],[78,6,75,4,"score"],[78,11,75,9],[78,15,75,13],[78,17,75,15],[79,4,76,2],[81,4,78,2],[82,4,79,2],[82,10,79,8,"payScore"],[82,18,79,16],[82,21,79,19,"Math"],[82,25,79,23],[82,26,79,24,"min"],[82,29,79,27],[82,30,79,28],[82,32,79,30],[82,34,79,33,"job"],[82,37,79,36],[82,38,79,37,"workerAmountCents"],[82,55,79,54],[82,58,79,57],[82,63,79,62],[82,66,79,66],[82,68,79,68],[82,69,79,69],[83,4,80,2,"score"],[83,9,80,7],[83,13,80,11,"payScore"],[83,21,80,19],[84,4,82,2],[84,11,82,9,"Math"],[84,15,82,13],[84,16,82,14,"round"],[84,21,82,19],[84,22,82,20,"score"],[84,27,82,25],[84,28,82,26],[85,2,83,0],[86,2,85,7],[86,11,85,16,"sortJobsByMatch"],[86,26,85,31,"sortJobsByMatch"],[86,27,86,2,"jobs"],[86,31,86,13],[86,33,87,2,"profile"],[86,40,87,24],[86,42,88,9],[87,4,89,2],[87,11,89,9,"jobs"],[87,15,89,13],[87,16,89,14,"sort"],[87,20,89,18],[87,21,89,19],[87,22,89,20,"a"],[87,23,89,21],[87,25,89,23,"b"],[87,26,89,24],[87,31,89,29],[88,6,90,4],[88,12,90,10,"scoreA"],[88,18,90,16],[88,21,90,19,"calculateMatchScore"],[88,40,90,38],[88,41,90,39,"a"],[88,42,90,40],[88,44,90,42,"profile"],[88,51,90,49],[88,52,90,50],[89,6,91,4],[89,12,91,10,"scoreB"],[89,18,91,16],[89,21,91,19,"calculateMatchScore"],[89,40,91,38],[89,41,91,39,"b"],[89,42,91,40],[89,44,91,42,"profile"],[89,51,91,49],[89,52,91,50],[90,6,92,4],[90,13,92,11,"scoreB"],[90,19,92,17],[90,22,92,20,"scoreA"],[90,28,92,26],[90,29,92,27],[90,30,92,28],[91,4,93,2],[91,5,93,3],[91,6,93,4],[92,2,94,0],[93,0,94,1],[93,3]],"functionMap":{"names":["<global>","haversineKm","isMatch","job.required_all_tags.every$argument_0","job.required_any_tags.some$argument_0","calculateDistance","filterMatchingJobs","jobs.filter$argument_0","calculateMatchScore","allJobTags.filter$argument_0","sortJobsByMatch","jobs.sort$argument_0"],"mappings":"AAA;ACG;CDU;OEW;mCCM,gBD;sEEG,gBF;CFO;OKE;CLE;OMK;qBCC,4BD;CNC;OQM;yCCW,4BD;CRc;OUE;mBCI;GDI"},"hasCjsExports":false},"type":"js/module"}]}