{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":45},"end":{"line":2,"column":69,"index":114}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"API_BASE\", {\n    enumerable: true,\n    get: function () {\n      return API_BASE;\n    }\n  });\n  exports.getAuthToken = getAuthToken;\n  exports.getUserId = getUserId;\n  exports.getUser = getUser;\n  exports.getAuthHeaders = getAuthHeaders;\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  // utils/api.ts - ZENTRALE API-Konfiguration\n\n  // ===== BACKEND URL =====\n  // WICHTIG: Hier die Backend-URL eintragen!\n  const API_BASE = `${_expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL}/api`;\n\n  // ===== STORAGE KEYS =====\n  // WICHTIG: Muss mit AuthContext.tsx Ã¼bereinstimmen!\n  const TOKEN_KEY = 'token';\n  const USER_KEY = '@shiftmatch:user';\n\n  // ===== HELPER: Get Auth Token =====\n  async function getAuthToken() {\n    const token = await AsyncStorage.default.getItem(TOKEN_KEY);\n    if (!token) {\n      throw new Error('Not authenticated - no token found');\n    }\n    return token;\n  }\n\n  // ===== HELPER: Get User ID =====\n  async function getUserId() {\n    const userJson = await AsyncStorage.default.getItem(USER_KEY);\n    if (!userJson) {\n      throw new Error('Not authenticated - no user found');\n    }\n    const user = JSON.parse(userJson);\n    return user.id;\n  }\n\n  // ===== HELPER: Get User Object =====\n  async function getUser() {\n    const userJson = await AsyncStorage.default.getItem(USER_KEY);\n    if (!userJson) {\n      throw new Error('Not authenticated - no user found');\n    }\n    return JSON.parse(userJson);\n  }\n\n  // ===== HELPER: Build Headers =====\n  async function getAuthHeaders() {\n    const token = await getAuthToken();\n    return {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`\n    };\n  }\n});","lineCount":72,"map":[[12,2,6,0,"Object"],[12,8,6,0],[12,9,6,0,"defineProperty"],[12,23,6,0],[12,24,6,0,"exports"],[12,31,6,0],[13,4,6,0,"enumerable"],[13,14,6,0],[14,4,6,0,"get"],[14,7,6,0],[14,18,6,0,"get"],[14,19,6,0],[15,6,6,0],[15,13,6,0,"API_BASE"],[15,21,6,0],[16,4,6,0],[17,2,6,0],[18,2,14,0,"exports"],[18,9,14,0],[18,10,14,0,"getAuthToken"],[18,22,14,0],[18,25,14,0,"getAuthToken"],[18,37,14,0],[19,2,23,0,"exports"],[19,9,23,0],[19,10,23,0,"getUserId"],[19,19,23,0],[19,22,23,0,"getUserId"],[19,31,23,0],[20,2,33,0,"exports"],[20,9,33,0],[20,10,33,0,"getUser"],[20,17,33,0],[20,20,33,0,"getUser"],[20,27,33,0],[21,2,42,0,"exports"],[21,9,42,0],[21,10,42,0,"getAuthHeaders"],[21,24,42,0],[21,27,42,0,"getAuthHeaders"],[21,41,42,0],[22,2,48,1],[22,6,48,1,"_expoVirtualEnv"],[22,21,48,1],[22,24,48,1,"require"],[22,31,48,1],[22,32,48,1,"_dependencyMap"],[22,46,48,1],[23,2,2,0],[23,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[23,42,2,0],[23,45,2,0,"require"],[23,52,2,0],[23,53,2,0,"_dependencyMap"],[23,67,2,0],[24,2,2,0],[24,6,2,0,"AsyncStorage"],[24,18,2,0],[24,21,2,0,"_interopDefault"],[24,36,2,0],[24,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[24,73,2,0],[25,2,1,0],[27,2,4,0],[28,2,5,0],[29,2,6,7],[29,8,6,13,"API_BASE"],[29,16,6,21],[29,19,6,24],[29,22,6,24,"_expoVirtualEnv"],[29,37,6,24],[29,38,6,24,"env"],[29,41,6,24],[29,42,6,24,"EXPO_PUBLIC_BACKEND_URL"],[29,65,6,24],[29,71,6,68],[31,2,8,0],[32,2,9,0],[33,2,10,0],[33,8,10,6,"TOKEN_KEY"],[33,17,10,15],[33,20,10,18],[33,27,10,25],[34,2,11,0],[34,8,11,6,"USER_KEY"],[34,16,11,14],[34,19,11,17],[34,37,11,35],[36,2,13,0],[37,2,14,7],[37,17,14,22,"getAuthToken"],[37,29,14,34,"getAuthToken"],[37,30,14,34],[37,32,14,54],[38,4,15,2],[38,10,15,8,"token"],[38,15,15,13],[38,18,15,16],[38,24,15,22,"AsyncStorage"],[38,36,15,34],[38,37,15,34,"default"],[38,44,15,34],[38,45,15,35,"getItem"],[38,52,15,42],[38,53,15,43,"TOKEN_KEY"],[38,62,15,52],[38,63,15,53],[39,4,16,2],[39,8,16,6],[39,9,16,7,"token"],[39,14,16,12],[39,16,16,14],[40,6,17,4],[40,12,17,10],[40,16,17,14,"Error"],[40,21,17,19],[40,22,17,20],[40,58,17,56],[40,59,17,57],[41,4,18,2],[42,4,19,2],[42,11,19,9,"token"],[42,16,19,14],[43,2,20,0],[45,2,22,0],[46,2,23,7],[46,17,23,22,"getUserId"],[46,26,23,31,"getUserId"],[46,27,23,31],[46,29,23,51],[47,4,24,2],[47,10,24,8,"userJson"],[47,18,24,16],[47,21,24,19],[47,27,24,25,"AsyncStorage"],[47,39,24,37],[47,40,24,37,"default"],[47,47,24,37],[47,48,24,38,"getItem"],[47,55,24,45],[47,56,24,46,"USER_KEY"],[47,64,24,54],[47,65,24,55],[48,4,25,2],[48,8,25,6],[48,9,25,7,"userJson"],[48,17,25,15],[48,19,25,17],[49,6,26,4],[49,12,26,10],[49,16,26,14,"Error"],[49,21,26,19],[49,22,26,20],[49,57,26,55],[49,58,26,56],[50,4,27,2],[51,4,28,2],[51,10,28,8,"user"],[51,14,28,12],[51,17,28,15,"JSON"],[51,21,28,19],[51,22,28,20,"parse"],[51,27,28,25],[51,28,28,26,"userJson"],[51,36,28,34],[51,37,28,35],[52,4,29,2],[52,11,29,9,"user"],[52,15,29,13],[52,16,29,14,"id"],[52,18,29,16],[53,2,30,0],[55,2,32,0],[56,2,33,7],[56,17,33,22,"getUser"],[56,24,33,29,"getUser"],[56,25,33,29],[56,27,33,86],[57,4,34,2],[57,10,34,8,"userJson"],[57,18,34,16],[57,21,34,19],[57,27,34,25,"AsyncStorage"],[57,39,34,37],[57,40,34,37,"default"],[57,47,34,37],[57,48,34,38,"getItem"],[57,55,34,45],[57,56,34,46,"USER_KEY"],[57,64,34,54],[57,65,34,55],[58,4,35,2],[58,8,35,6],[58,9,35,7,"userJson"],[58,17,35,15],[58,19,35,17],[59,6,36,4],[59,12,36,10],[59,16,36,14,"Error"],[59,21,36,19],[59,22,36,20],[59,57,36,55],[59,58,36,56],[60,4,37,2],[61,4,38,2],[61,11,38,9,"JSON"],[61,15,38,13],[61,16,38,14,"parse"],[61,21,38,19],[61,22,38,20,"userJson"],[61,30,38,28],[61,31,38,29],[62,2,39,0],[64,2,41,0],[65,2,42,7],[65,17,42,22,"getAuthHeaders"],[65,31,42,36,"getAuthHeaders"],[65,32,42,36],[65,34,42,72],[66,4,43,2],[66,10,43,8,"token"],[66,15,43,13],[66,18,43,16],[66,24,43,22,"getAuthToken"],[66,36,43,34],[66,37,43,35],[66,38,43,36],[67,4,44,2],[67,11,44,9],[68,6,45,4],[68,20,45,18],[68,22,45,20],[68,40,45,38],[69,6,46,4],[69,21,46,19],[69,23,46,21],[69,33,46,31,"token"],[69,38,46,36],[70,4,47,2],[70,5,47,3],[71,2,48,0],[72,0,48,1],[72,3]],"functionMap":{"names":["<global>","getAuthToken","getUserId","getUser","getAuthHeaders"],"mappings":"AAA;OCa;CDM;OEG;CFO;OGG;CHM;OIG;CJM"},"hasCjsExports":false},"type":"js/module"}]}