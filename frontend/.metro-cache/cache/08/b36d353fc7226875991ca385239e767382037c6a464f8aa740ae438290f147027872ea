{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.searchAddress = searchAddress;\n  exports.reverseGeocode = reverseGeocode;\n  /**\n   * Geocoding Service using Nominatim (OpenStreetMap)\n   * Provides address search and coordinate lookup\n   */\n\n  /**\n   * Search for addresses using Nominatim API\n   * @param street - Street name to search for\n   * @param postalCode - Optional postal code to narrow down results\n   * @param city - Optional city to narrow down results\n   * @returns Array of address suggestions\n   */\n  async function searchAddress(street, postalCode, city) {\n    if (!street || street.trim().length < 3) {\n      return [];\n    }\n    try {\n      // Build search query\n      const parts = [street.trim()];\n      if (postalCode) parts.push(postalCode.trim());\n      if (city) parts.push(city.trim());\n\n      // Add \"Deutschland\" to limit to Germany\n      parts.push('Deutschland');\n      const query = parts.join(', ');\n\n      // Nominatim API call\n      const url = `https://nominatim.openstreetmap.org/search?` + `q=${encodeURIComponent(query)}` + `&format=json` + `&addressdetails=1` + `&limit=5` + `&countrycodes=de`;\n      const response = await fetch(url, {\n        headers: {\n          'User-Agent': 'ShiftMatch-App/1.0'\n        }\n      });\n      if (!response.ok) {\n        console.warn('Nominatim API error:', response.status);\n        return [];\n      }\n      const data = await response.json();\n\n      // Parse results\n      const suggestions = data.map(item => {\n        const addr = item.address || {};\n        return {\n          displayName: item.display_name,\n          street: addr.road || addr.pedestrian || addr.path || undefined,\n          postalCode: addr.postcode || undefined,\n          city: addr.city || addr.town || addr.village || addr.municipality || undefined,\n          lat: parseFloat(item.lat),\n          lon: parseFloat(item.lon)\n        };\n      });\n      return suggestions;\n    } catch (error) {\n      console.error('searchAddress error:', error);\n      return [];\n    }\n  }\n\n  /**\n   * Reverse geocoding: Get address from coordinates\n   * @param lat - Latitude\n   * @param lon - Longitude\n   * @returns Address suggestion or null\n   */\n  async function reverseGeocode(lat, lon) {\n    try {\n      const url = `https://nominatim.openstreetmap.org/reverse?` + `lat=${lat}` + `&lon=${lon}` + `&format=json` + `&addressdetails=1`;\n      const response = await fetch(url, {\n        headers: {\n          'User-Agent': 'ShiftMatch-App/1.0'\n        }\n      });\n      if (!response.ok) {\n        return null;\n      }\n      const data = await response.json();\n      const addr = data.address || {};\n      return {\n        displayName: data.display_name,\n        street: addr.road || addr.pedestrian || undefined,\n        postalCode: addr.postcode || undefined,\n        city: addr.city || addr.town || addr.village || undefined,\n        lat: parseFloat(data.lat),\n        lon: parseFloat(data.lon)\n      };\n    } catch (error) {\n      console.error('reverseGeocode error:', error);\n      return null;\n    }\n  }\n});","lineCount":99,"map":[[7,2,22,0,"exports"],[7,9,22,0],[7,10,22,0,"searchAddress"],[7,23,22,0],[7,26,22,0,"searchAddress"],[7,39,22,0],[8,2,90,0,"exports"],[8,9,90,0],[8,10,90,0,"reverseGeocode"],[8,24,90,0],[8,27,90,0,"reverseGeocode"],[8,41,90,0],[9,2,1,0],[10,0,2,0],[11,0,3,0],[12,0,4,0],[14,2,15,0],[15,0,16,0],[16,0,17,0],[17,0,18,0],[18,0,19,0],[19,0,20,0],[20,0,21,0],[21,2,22,7],[21,17,22,22,"searchAddress"],[21,30,22,35,"searchAddress"],[21,31,23,2,"street"],[21,37,23,16],[21,39,24,2,"postalCode"],[21,49,24,21],[21,51,25,2,"city"],[21,55,25,15],[21,57,26,32],[22,4,27,2],[22,8,27,6],[22,9,27,7,"street"],[22,15,27,13],[22,19,27,17,"street"],[22,25,27,23],[22,26,27,24,"trim"],[22,30,27,28],[22,31,27,29],[22,32,27,30],[22,33,27,31,"length"],[22,39,27,37],[22,42,27,40],[22,43,27,41],[22,45,27,43],[23,6,28,4],[23,13,28,11],[23,15,28,13],[24,4,29,2],[25,4,31,2],[25,8,31,6],[26,6,32,4],[27,6,33,4],[27,12,33,10,"parts"],[27,17,33,15],[27,20,33,18],[27,21,33,19,"street"],[27,27,33,25],[27,28,33,26,"trim"],[27,32,33,30],[27,33,33,31],[27,34,33,32],[27,35,33,33],[28,6,34,4],[28,10,34,8,"postalCode"],[28,20,34,18],[28,22,34,20,"parts"],[28,27,34,25],[28,28,34,26,"push"],[28,32,34,30],[28,33,34,31,"postalCode"],[28,43,34,41],[28,44,34,42,"trim"],[28,48,34,46],[28,49,34,47],[28,50,34,48],[28,51,34,49],[29,6,35,4],[29,10,35,8,"city"],[29,14,35,12],[29,16,35,14,"parts"],[29,21,35,19],[29,22,35,20,"push"],[29,26,35,24],[29,27,35,25,"city"],[29,31,35,29],[29,32,35,30,"trim"],[29,36,35,34],[29,37,35,35],[29,38,35,36],[29,39,35,37],[31,6,37,4],[32,6,38,4,"parts"],[32,11,38,9],[32,12,38,10,"push"],[32,16,38,14],[32,17,38,15],[32,30,38,28],[32,31,38,29],[33,6,40,4],[33,12,40,10,"query"],[33,17,40,15],[33,20,40,18,"parts"],[33,25,40,23],[33,26,40,24,"join"],[33,30,40,28],[33,31,40,29],[33,35,40,33],[33,36,40,34],[35,6,42,4],[36,6,43,4],[36,12,43,10,"url"],[36,15,43,13],[36,18,43,16],[36,63,43,61],[36,66,44,6],[36,71,44,11,"encodeURIComponent"],[36,89,44,29],[36,90,44,30,"query"],[36,95,44,35],[36,96,44,36],[36,98,44,38],[36,101,45,6],[36,115,45,20],[36,118,46,6],[36,137,46,25],[36,140,47,6],[36,150,47,16],[36,153,48,6],[36,171,48,24],[37,6,50,4],[37,12,50,10,"response"],[37,20,50,18],[37,23,50,21],[37,29,50,27,"fetch"],[37,34,50,32],[37,35,50,33,"url"],[37,38,50,36],[37,40,50,38],[38,8,51,6,"headers"],[38,15,51,13],[38,17,51,15],[39,10,52,8],[39,22,52,20],[39,24,52,22],[40,8,53,6],[41,6,54,4],[41,7,54,5],[41,8,54,6],[42,6,56,4],[42,10,56,8],[42,11,56,9,"response"],[42,19,56,17],[42,20,56,18,"ok"],[42,22,56,20],[42,24,56,22],[43,8,57,6,"console"],[43,15,57,13],[43,16,57,14,"warn"],[43,20,57,18],[43,21,57,19],[43,43,57,41],[43,45,57,43,"response"],[43,53,57,51],[43,54,57,52,"status"],[43,60,57,58],[43,61,57,59],[44,8,58,6],[44,15,58,13],[44,17,58,15],[45,6,59,4],[46,6,61,4],[46,12,61,10,"data"],[46,16,61,14],[46,19,61,17],[46,25,61,23,"response"],[46,33,61,31],[46,34,61,32,"json"],[46,38,61,36],[46,39,61,37],[46,40,61,38],[48,6,63,4],[49,6,64,4],[49,12,64,10,"suggestions"],[49,23,64,42],[49,26,64,45,"data"],[49,30,64,49],[49,31,64,50,"map"],[49,34,64,53],[49,35,64,55,"item"],[49,39,64,64],[49,43,64,69],[50,8,65,6],[50,14,65,12,"addr"],[50,18,65,16],[50,21,65,19,"item"],[50,25,65,23],[50,26,65,24,"address"],[50,33,65,31],[50,37,65,35],[50,38,65,36],[50,39,65,37],[51,8,67,6],[51,15,67,13],[52,10,68,8,"displayName"],[52,21,68,19],[52,23,68,21,"item"],[52,27,68,25],[52,28,68,26,"display_name"],[52,40,68,38],[53,10,69,8,"street"],[53,16,69,14],[53,18,69,16,"addr"],[53,22,69,20],[53,23,69,21,"road"],[53,27,69,25],[53,31,69,29,"addr"],[53,35,69,33],[53,36,69,34,"pedestrian"],[53,46,69,44],[53,50,69,48,"addr"],[53,54,69,52],[53,55,69,53,"path"],[53,59,69,57],[53,63,69,61,"undefined"],[53,72,69,70],[54,10,70,8,"postalCode"],[54,20,70,18],[54,22,70,20,"addr"],[54,26,70,24],[54,27,70,25,"postcode"],[54,35,70,33],[54,39,70,37,"undefined"],[54,48,70,46],[55,10,71,8,"city"],[55,14,71,12],[55,16,71,14,"addr"],[55,20,71,18],[55,21,71,19,"city"],[55,25,71,23],[55,29,71,27,"addr"],[55,33,71,31],[55,34,71,32,"town"],[55,38,71,36],[55,42,71,40,"addr"],[55,46,71,44],[55,47,71,45,"village"],[55,54,71,52],[55,58,71,56,"addr"],[55,62,71,60],[55,63,71,61,"municipality"],[55,75,71,73],[55,79,71,77,"undefined"],[55,88,71,86],[56,10,72,8,"lat"],[56,13,72,11],[56,15,72,13,"parseFloat"],[56,25,72,23],[56,26,72,24,"item"],[56,30,72,28],[56,31,72,29,"lat"],[56,34,72,32],[56,35,72,33],[57,10,73,8,"lon"],[57,13,73,11],[57,15,73,13,"parseFloat"],[57,25,73,23],[57,26,73,24,"item"],[57,30,73,28],[57,31,73,29,"lon"],[57,34,73,32],[58,8,74,6],[58,9,74,7],[59,6,75,4],[59,7,75,5],[59,8,75,6],[60,6,77,4],[60,13,77,11,"suggestions"],[60,24,77,22],[61,4,78,2],[61,5,78,3],[61,6,78,4],[61,13,78,11,"error"],[61,18,78,16],[61,20,78,18],[62,6,79,4,"console"],[62,13,79,11],[62,14,79,12,"error"],[62,19,79,17],[62,20,79,18],[62,42,79,40],[62,44,79,42,"error"],[62,49,79,47],[62,50,79,48],[63,6,80,4],[63,13,80,11],[63,15,80,13],[64,4,81,2],[65,2,82,0],[67,2,84,0],[68,0,85,0],[69,0,86,0],[70,0,87,0],[71,0,88,0],[72,0,89,0],[73,2,90,7],[73,17,90,22,"reverseGeocode"],[73,31,90,36,"reverseGeocode"],[73,32,91,2,"lat"],[73,35,91,13],[73,37,92,2,"lon"],[73,40,92,13],[73,42,93,37],[74,4,94,2],[74,8,94,6],[75,6,95,4],[75,12,95,10,"url"],[75,15,95,13],[75,18,95,16],[75,64,95,62],[75,67,96,6],[75,74,96,13,"lat"],[75,77,96,16],[75,79,96,18],[75,82,97,6],[75,90,97,14,"lon"],[75,93,97,17],[75,95,97,19],[75,98,98,6],[75,112,98,20],[75,115,99,6],[75,134,99,25],[76,6,101,4],[76,12,101,10,"response"],[76,20,101,18],[76,23,101,21],[76,29,101,27,"fetch"],[76,34,101,32],[76,35,101,33,"url"],[76,38,101,36],[76,40,101,38],[77,8,102,6,"headers"],[77,15,102,13],[77,17,102,15],[78,10,103,8],[78,22,103,20],[78,24,103,22],[79,8,104,6],[80,6,105,4],[80,7,105,5],[80,8,105,6],[81,6,107,4],[81,10,107,8],[81,11,107,9,"response"],[81,19,107,17],[81,20,107,18,"ok"],[81,22,107,20],[81,24,107,22],[82,8,108,6],[82,15,108,13],[82,19,108,17],[83,6,109,4],[84,6,111,4],[84,12,111,10,"data"],[84,16,111,14],[84,19,111,17],[84,25,111,23,"response"],[84,33,111,31],[84,34,111,32,"json"],[84,38,111,36],[84,39,111,37],[84,40,111,38],[85,6,112,4],[85,12,112,10,"addr"],[85,16,112,14],[85,19,112,17,"data"],[85,23,112,21],[85,24,112,22,"address"],[85,31,112,29],[85,35,112,33],[85,36,112,34],[85,37,112,35],[86,6,114,4],[86,13,114,11],[87,8,115,6,"displayName"],[87,19,115,17],[87,21,115,19,"data"],[87,25,115,23],[87,26,115,24,"display_name"],[87,38,115,36],[88,8,116,6,"street"],[88,14,116,12],[88,16,116,14,"addr"],[88,20,116,18],[88,21,116,19,"road"],[88,25,116,23],[88,29,116,27,"addr"],[88,33,116,31],[88,34,116,32,"pedestrian"],[88,44,116,42],[88,48,116,46,"undefined"],[88,57,116,55],[89,8,117,6,"postalCode"],[89,18,117,16],[89,20,117,18,"addr"],[89,24,117,22],[89,25,117,23,"postcode"],[89,33,117,31],[89,37,117,35,"undefined"],[89,46,117,44],[90,8,118,6,"city"],[90,12,118,10],[90,14,118,12,"addr"],[90,18,118,16],[90,19,118,17,"city"],[90,23,118,21],[90,27,118,25,"addr"],[90,31,118,29],[90,32,118,30,"town"],[90,36,118,34],[90,40,118,38,"addr"],[90,44,118,42],[90,45,118,43,"village"],[90,52,118,50],[90,56,118,54,"undefined"],[90,65,118,63],[91,8,119,6,"lat"],[91,11,119,9],[91,13,119,11,"parseFloat"],[91,23,119,21],[91,24,119,22,"data"],[91,28,119,26],[91,29,119,27,"lat"],[91,32,119,30],[91,33,119,31],[92,8,120,6,"lon"],[92,11,120,9],[92,13,120,11,"parseFloat"],[92,23,120,21],[92,24,120,22,"data"],[92,28,120,26],[92,29,120,27,"lon"],[92,32,120,30],[93,6,121,4],[93,7,121,5],[94,4,122,2],[94,5,122,3],[94,6,122,4],[94,13,122,11,"error"],[94,18,122,16],[94,20,122,18],[95,6,123,4,"console"],[95,13,123,11],[95,14,123,12,"error"],[95,19,123,17],[95,20,123,18],[95,43,123,41],[95,45,123,43,"error"],[95,50,123,48],[95,51,123,49],[96,6,124,4],[96,13,124,11],[96,17,124,15],[97,4,125,2],[98,2,126,0],[99,0,126,1],[99,3]],"functionMap":{"names":["<global>","searchAddress","data.map$argument_0","reverseGeocode"],"mappings":"AAA;OCqB;sDC0C;KDW;CDO;OGQ;CHoC"},"hasCjsExports":false},"type":"js/module"}]}