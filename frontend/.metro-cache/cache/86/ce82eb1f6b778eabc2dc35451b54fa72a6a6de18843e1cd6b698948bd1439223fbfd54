{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"../config","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":76},"end":{"line":4,"column":36,"index":112}}],"key":"pHqFJJBAh3HI9ZCkK8fFRwPv3x0=","exportNames":["*"],"imports":1}},{"name":"./api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":113},"end":{"line":5,"column":39,"index":152}}],"key":"FbKPDeRJ9TF3vg1eKYKz12urgic=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.getMatchedJobs = getMatchedJobs;\n  exports.getJobById = getJobById;\n  exports.getEmployerJobs = getEmployerJobs;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _config = require(_dependencyMap[1], \"../config\");\n  var _api = require(_dependencyMap[2], \"./api\");\n  // app/frontend/utils/jobStore.ts\n  // ===== GET MATCHED JOBS FOR CURRENT WORKER =====\n  function getMatchedJobs() {\n    return _getMatchedJobs.apply(this, arguments);\n  }\n  /**\n   * Lädt einen einzelnen Job per ID vom Backend.\n   * Wird von Matches-Screen genutzt, um Jobdaten zu einer Application zu laden.\n   */\n  function _getMatchedJobs() {\n    _getMatchedJobs = (0, _asyncToGenerator.default)(function* () {\n      var headers = yield (0, _api.getAuthHeaders)();\n      var res = yield fetch(`${_config.API_URL}/jobs/matches/me`, {\n        method: \"GET\",\n        headers: headers\n      });\n      if (res.status === 401) {\n        throw new Error(\"UNAUTHORIZED\");\n      }\n      if (!res.ok) {\n        throw new Error(\"Failed to fetch matched jobs\");\n      }\n      var data = yield res.json();\n      var mappedJobs = data.map(function (job) {\n        var _ref, _job$required_all_tag, _job$required_any_tag;\n        return Object.assign({}, job, {\n          required_all_tags: (_ref = (_job$required_all_tag = job.required_all_tags) != null ? _job$required_all_tag : job.tags) != null ? _ref : [],\n          required_any_tags: (_job$required_any_tag = job.required_any_tags) != null ? _job$required_any_tag : []\n        });\n      });\n      return mappedJobs;\n    });\n    return _getMatchedJobs.apply(this, arguments);\n  }\n  function getJobById(_x) {\n    return _getJobById.apply(this, arguments);\n  }\n  /**\n   * Lädt alle Jobs eines Employers vom Backend.\n   * Wird vom Employer-Dashboard genutzt.\n   */\n  function _getJobById() {\n    _getJobById = (0, _asyncToGenerator.default)(function* (jobId) {\n      var _ref2, _job$required_all_tag2, _job$required_any_tag2;\n      var headers = yield (0, _api.getAuthHeaders)();\n      var res = yield fetch(`${_config.API_URL}/jobs/${jobId}`, {\n        method: \"GET\",\n        headers: headers\n      });\n      if (res.status === 401) {\n        throw new Error(\"UNAUTHORIZED\");\n      }\n      if (res.status === 404) {\n        throw new Error(\"JOB_NOT_FOUND\");\n      }\n      if (!res.ok) {\n        throw new Error(\"Failed to fetch job\");\n      }\n      var job = yield res.json();\n      var mappedJob = Object.assign({}, job, {\n        required_all_tags: (_ref2 = (_job$required_all_tag2 = job.required_all_tags) != null ? _job$required_all_tag2 : job.tags) != null ? _ref2 : [],\n        required_any_tags: (_job$required_any_tag2 = job.required_any_tags) != null ? _job$required_any_tag2 : []\n      });\n      return mappedJob;\n    });\n    return _getJobById.apply(this, arguments);\n  }\n  function getEmployerJobs(_x2) {\n    return _getEmployerJobs.apply(this, arguments);\n  }\n  function _getEmployerJobs() {\n    _getEmployerJobs = (0, _asyncToGenerator.default)(function* (employerId) {\n      var headers = yield (0, _api.getAuthHeaders)();\n      var res = yield fetch(`${_config.API_URL}/jobs/employer/${employerId}`, {\n        method: \"GET\",\n        headers: headers\n      });\n      if (res.status === 401) throw new Error(\"UNAUTHORIZED\");\n      if (!res.ok) throw new Error(\"FAILED_TO_FETCH_EMPLOYER_JOBS\");\n      var data = yield res.json();\n      return data.map(function (job) {\n        var _ref3, _job$required_all_tag3, _job$required_any_tag3;\n        return Object.assign({}, job, {\n          required_all_tags: (_ref3 = (_job$required_all_tag3 = job.required_all_tags) != null ? _job$required_all_tag3 : job.tags) != null ? _ref3 : [],\n          required_any_tags: (_job$required_any_tag3 = job.required_any_tags) != null ? _job$required_any_tag3 : []\n        });\n      });\n    });\n    return _getEmployerJobs.apply(this, arguments);\n  }\n});","lineCount":109,"map":[[12,2,8,0,"exports"],[12,9,8,0],[12,10,8,0,"getMatchedJobs"],[12,24,8,0],[12,27,8,0,"getMatchedJobs"],[12,41,8,0],[13,2,39,0,"exports"],[13,9,39,0],[13,10,39,0,"getJobById"],[13,20,39,0],[13,23,39,0,"getJobById"],[13,33,39,0],[14,2,74,0,"exports"],[14,9,74,0],[14,10,74,0,"getEmployerJobs"],[14,25,74,0],[14,28,74,0,"getEmployerJobs"],[14,43,74,0],[15,2,92,1],[15,6,92,1,"_babelRuntimeHelpersAsyncToGenerator"],[15,42,92,1],[15,45,92,1,"require"],[15,52,92,1],[15,53,92,1,"_dependencyMap"],[15,67,92,1],[16,2,92,1],[16,6,92,1,"_asyncToGenerator"],[16,23,92,1],[16,26,92,1,"_interopDefault"],[16,41,92,1],[16,42,92,1,"_babelRuntimeHelpersAsyncToGenerator"],[16,78,92,1],[17,2,4,0],[17,6,4,0,"_config"],[17,13,4,0],[17,16,4,0,"require"],[17,23,4,0],[17,24,4,0,"_dependencyMap"],[17,38,4,0],[18,2,5,0],[18,6,5,0,"_api"],[18,10,5,0],[18,13,5,0,"require"],[18,20,5,0],[18,21,5,0,"_dependencyMap"],[18,35,5,0],[19,2,1,0],[20,2,7,0],[21,2,7,0],[21,11,8,22,"getMatchedJobs"],[21,25,8,36,"getMatchedJobs"],[21,26,8,36],[22,4,8,36],[22,11,8,36,"_getMatchedJobs"],[22,26,8,36],[22,27,8,36,"apply"],[22,32,8,36],[22,39,8,36,"arguments"],[22,48,8,36],[23,2,8,36],[24,2,35,0],[25,0,36,0],[26,0,37,0],[27,0,38,0],[28,2,35,0],[28,11,35,0,"_getMatchedJobs"],[28,27,35,0],[29,4,35,0,"_getMatchedJobs"],[29,19,35,0],[29,26,35,0,"_asyncToGenerator"],[29,43,35,0],[29,44,35,0,"default"],[29,51,35,0],[29,53,8,7],[29,66,8,55],[30,6,9,2],[30,10,9,8,"headers"],[30,17,9,15],[30,26,9,24],[30,30,9,24,"getAuthHeaders"],[30,34,9,38],[30,35,9,38,"getAuthHeaders"],[30,49,9,38],[30,51,9,39],[30,52,9,40],[31,6,11,2],[31,10,11,8,"res"],[31,13,11,11],[31,22,11,20,"fetch"],[31,27,11,25],[31,28,11,26],[31,31,11,29,"API_URL"],[31,38,11,36],[31,39,11,36,"API_URL"],[31,46,11,36],[31,64,11,54],[31,66,11,56],[32,8,12,4,"method"],[32,14,12,10],[32,16,12,12],[32,21,12,17],[33,8,13,4,"headers"],[33,15,13,11],[33,17,13,4,"headers"],[34,6,14,2],[34,7,14,3],[34,8,14,4],[35,6,16,2],[35,10,16,6,"res"],[35,13,16,9],[35,14,16,10,"status"],[35,20,16,16],[35,25,16,21],[35,28,16,24],[35,30,16,26],[36,8,17,4],[36,14,17,10],[36,18,17,14,"Error"],[36,23,17,19],[36,24,17,20],[36,38,17,34],[36,39,17,35],[37,6,18,2],[38,6,20,2],[38,10,20,6],[38,11,20,7,"res"],[38,14,20,10],[38,15,20,11,"ok"],[38,17,20,13],[38,19,20,15],[39,8,21,4],[39,14,21,10],[39,18,21,14,"Error"],[39,23,21,19],[39,24,21,20],[39,54,21,50],[39,55,21,51],[40,6,22,2],[41,6,24,2],[41,10,24,8,"data"],[41,14,24,12],[41,23,24,21,"res"],[41,26,24,24],[41,27,24,25,"json"],[41,31,24,29],[41,32,24,30],[41,33,24,31],[42,6,26,2],[42,10,26,8,"mappedJobs"],[42,20,26,25],[42,23,26,28,"data"],[42,27,26,32],[42,28,26,33,"map"],[42,31,26,36],[42,32,26,37],[42,42,26,38,"job"],[42,45,26,46],[43,8,26,46],[43,12,26,46,"_ref"],[43,16,26,46],[43,18,26,46,"_job$required_all_tag"],[43,39,26,46],[43,41,26,46,"_job$required_any_tag"],[43,62,26,46],[44,8,26,46],[44,15,26,46,"Object"],[44,21,26,46],[44,22,26,46,"assign"],[44,28,26,46],[44,33,27,7,"job"],[44,36,27,10],[45,10,28,4,"required_all_tags"],[45,27,28,21],[45,30,28,21,"_ref"],[45,34,28,21],[45,38,28,21,"_job$required_all_tag"],[45,59,28,21],[45,62,28,23,"job"],[45,65,28,26],[45,66,28,27,"required_all_tags"],[45,83,28,44],[45,95,28,44,"_job$required_all_tag"],[45,116,28,44],[45,119,28,48,"job"],[45,122,28,51],[45,123,28,52,"tags"],[45,127,28,56],[45,139,28,56,"_ref"],[45,143,28,56],[45,146,28,60],[45,148,28,62],[46,10,29,4,"required_any_tags"],[46,27,29,21],[46,30,29,21,"_job$required_any_tag"],[46,51,29,21],[46,54,29,23,"job"],[46,57,29,26],[46,58,29,27,"required_any_tags"],[46,75,29,44],[46,87,29,44,"_job$required_any_tag"],[46,108,29,44],[46,111,29,48],[47,8,29,50],[48,6,29,50],[48,7,30,4],[48,8,30,5],[49,6,32,2],[49,13,32,9,"mappedJobs"],[49,23,32,19],[50,4,33,0],[50,5,33,1],[51,4,33,1],[51,11,33,1,"_getMatchedJobs"],[51,26,33,1],[51,27,33,1,"apply"],[51,32,33,1],[51,39,33,1,"arguments"],[51,48,33,1],[52,2,33,1],[53,2,33,1],[53,11,39,22,"getJobById"],[53,21,39,32,"getJobById"],[53,22,39,32,"_x"],[53,24,39,32],[54,4,39,32],[54,11,39,32,"_getJobById"],[54,22,39,32],[54,23,39,32,"apply"],[54,28,39,32],[54,35,39,32,"arguments"],[54,44,39,32],[55,2,39,32],[56,2,70,0],[57,0,71,0],[58,0,72,0],[59,0,73,0],[60,2,70,0],[60,11,70,0,"_getJobById"],[60,23,70,0],[61,4,70,0,"_getJobById"],[61,15,70,0],[61,22,70,0,"_asyncToGenerator"],[61,39,70,0],[61,40,70,0,"default"],[61,47,70,0],[61,49,39,7],[61,60,39,33,"jobId"],[61,65,39,46],[61,67,39,62],[62,6,39,62],[62,10,39,62,"_ref2"],[62,15,39,62],[62,17,39,62,"_job$required_all_tag2"],[62,39,39,62],[62,41,39,62,"_job$required_any_tag2"],[62,63,39,62],[63,6,40,2],[63,10,40,8,"headers"],[63,17,40,15],[63,26,40,24],[63,30,40,24,"getAuthHeaders"],[63,34,40,38],[63,35,40,38,"getAuthHeaders"],[63,49,40,38],[63,51,40,39],[63,52,40,40],[64,6,42,2],[64,10,42,8,"res"],[64,13,42,11],[64,22,42,20,"fetch"],[64,27,42,25],[64,28,42,26],[64,31,42,29,"API_URL"],[64,38,42,36],[64,39,42,36,"API_URL"],[64,46,42,36],[64,55,42,45,"jobId"],[64,60,42,50],[64,62,42,52],[64,64,42,54],[65,8,43,4,"method"],[65,14,43,10],[65,16,43,12],[65,21,43,17],[66,8,44,4,"headers"],[66,15,44,11],[66,17,44,4,"headers"],[67,6,45,2],[67,7,45,3],[67,8,45,4],[68,6,47,2],[68,10,47,6,"res"],[68,13,47,9],[68,14,47,10,"status"],[68,20,47,16],[68,25,47,21],[68,28,47,24],[68,30,47,26],[69,8,48,4],[69,14,48,10],[69,18,48,14,"Error"],[69,23,48,19],[69,24,48,20],[69,38,48,34],[69,39,48,35],[70,6,49,2],[71,6,51,2],[71,10,51,6,"res"],[71,13,51,9],[71,14,51,10,"status"],[71,20,51,16],[71,25,51,21],[71,28,51,24],[71,30,51,26],[72,8,52,4],[72,14,52,10],[72,18,52,14,"Error"],[72,23,52,19],[72,24,52,20],[72,39,52,35],[72,40,52,36],[73,6,53,2],[74,6,55,2],[74,10,55,6],[74,11,55,7,"res"],[74,14,55,10],[74,15,55,11,"ok"],[74,17,55,13],[74,19,55,15],[75,8,56,4],[75,14,56,10],[75,18,56,14,"Error"],[75,23,56,19],[75,24,56,20],[75,45,56,41],[75,46,56,42],[76,6,57,2],[77,6,59,2],[77,10,59,8,"job"],[77,13,59,11],[77,22,59,20,"res"],[77,25,59,23],[77,26,59,24,"json"],[77,30,59,28],[77,31,59,29],[77,32,59,30],[78,6,61,2],[78,10,61,8,"mappedJob"],[78,19,61,22],[78,22,61,22,"Object"],[78,28,61,22],[78,29,61,22,"assign"],[78,35,61,22],[78,40,62,7,"job"],[78,43,62,10],[79,8,63,4,"required_all_tags"],[79,25,63,21],[79,28,63,21,"_ref2"],[79,33,63,21],[79,37,63,21,"_job$required_all_tag2"],[79,59,63,21],[79,62,63,23,"job"],[79,65,63,26],[79,66,63,27,"required_all_tags"],[79,83,63,44],[79,95,63,44,"_job$required_all_tag2"],[79,117,63,44],[79,120,63,48,"job"],[79,123,63,51],[79,124,63,52,"tags"],[79,128,63,56],[79,140,63,56,"_ref2"],[79,145,63,56],[79,148,63,60],[79,150,63,62],[80,8,64,4,"required_any_tags"],[80,25,64,21],[80,28,64,21,"_job$required_any_tag2"],[80,50,64,21],[80,53,64,23,"job"],[80,56,64,26],[80,57,64,27,"required_any_tags"],[80,74,64,44],[80,86,64,44,"_job$required_any_tag2"],[80,108,64,44],[80,111,64,48],[81,6,64,50],[81,8,65,3],[82,6,67,2],[82,13,67,9,"mappedJob"],[82,22,67,18],[83,4,68,0],[83,5,68,1],[84,4,68,1],[84,11,68,1,"_getJobById"],[84,22,68,1],[84,23,68,1,"apply"],[84,28,68,1],[84,35,68,1,"arguments"],[84,44,68,1],[85,2,68,1],[86,2,68,1],[86,11,74,22,"getEmployerJobs"],[86,26,74,37,"getEmployerJobs"],[86,27,74,37,"_x2"],[86,30,74,37],[87,4,74,37],[87,11,74,37,"_getEmployerJobs"],[87,27,74,37],[87,28,74,37,"apply"],[87,33,74,37],[87,40,74,37,"arguments"],[87,49,74,37],[88,2,74,37],[89,2,74,37],[89,11,74,37,"_getEmployerJobs"],[89,28,74,37],[90,4,74,37,"_getEmployerJobs"],[90,20,74,37],[90,27,74,37,"_asyncToGenerator"],[90,44,74,37],[90,45,74,37,"default"],[90,52,74,37],[90,54,74,7],[90,65,74,38,"employerId"],[90,75,74,56],[90,77,74,74],[91,6,75,2],[91,10,75,8,"headers"],[91,17,75,15],[91,26,75,24],[91,30,75,24,"getAuthHeaders"],[91,34,75,38],[91,35,75,38,"getAuthHeaders"],[91,49,75,38],[91,51,75,39],[91,52,75,40],[92,6,77,2],[92,10,77,8,"res"],[92,13,77,11],[92,22,77,20,"fetch"],[92,27,77,25],[92,28,77,26],[92,31,77,29,"API_URL"],[92,38,77,36],[92,39,77,36,"API_URL"],[92,46,77,36],[92,64,77,54,"employerId"],[92,74,77,64],[92,76,77,66],[92,78,77,68],[93,8,78,4,"method"],[93,14,78,10],[93,16,78,12],[93,21,78,17],[94,8,79,4,"headers"],[94,15,79,11],[94,17,79,4,"headers"],[95,6,80,2],[95,7,80,3],[95,8,80,4],[96,6,82,2],[96,10,82,6,"res"],[96,13,82,9],[96,14,82,10,"status"],[96,20,82,16],[96,25,82,21],[96,28,82,24],[96,30,82,26],[96,36,82,32],[96,40,82,36,"Error"],[96,45,82,41],[96,46,82,42],[96,60,82,56],[96,61,82,57],[97,6,83,2],[97,10,83,6],[97,11,83,7,"res"],[97,14,83,10],[97,15,83,11,"ok"],[97,17,83,13],[97,19,83,15],[97,25,83,21],[97,29,83,25,"Error"],[97,34,83,30],[97,35,83,31],[97,66,83,62],[97,67,83,63],[98,6,85,2],[98,10,85,8,"data"],[98,14,85,12],[98,23,85,21,"res"],[98,26,85,24],[98,27,85,25,"json"],[98,31,85,29],[98,32,85,30],[98,33,85,31],[99,6,87,2],[99,13,87,9,"data"],[99,17,87,13],[99,18,87,14,"map"],[99,21,87,17],[99,22,87,18],[99,32,87,19,"job"],[99,35,87,27],[100,8,87,27],[100,12,87,27,"_ref3"],[100,17,87,27],[100,19,87,27,"_job$required_all_tag3"],[100,41,87,27],[100,43,87,27,"_job$required_any_tag3"],[100,65,87,27],[101,8,87,27],[101,15,87,27,"Object"],[101,21,87,27],[101,22,87,27,"assign"],[101,28,87,27],[101,33,88,7,"job"],[101,36,88,10],[102,10,89,4,"required_all_tags"],[102,27,89,21],[102,30,89,21,"_ref3"],[102,35,89,21],[102,39,89,21,"_job$required_all_tag3"],[102,61,89,21],[102,64,89,23,"job"],[102,67,89,26],[102,68,89,27,"required_all_tags"],[102,85,89,44],[102,97,89,44,"_job$required_all_tag3"],[102,119,89,44],[102,122,89,48,"job"],[102,125,89,51],[102,126,89,52,"tags"],[102,130,89,56],[102,142,89,56,"_ref3"],[102,147,89,56],[102,150,89,60],[102,152,89,62],[103,10,90,4,"required_any_tags"],[103,27,90,21],[103,30,90,21,"_job$required_any_tag3"],[103,52,90,21],[103,55,90,23,"job"],[103,58,90,26],[103,59,90,27,"required_any_tags"],[103,76,90,44],[103,88,90,44,"_job$required_any_tag3"],[103,110,90,44],[103,113,90,48],[104,8,90,50],[105,6,90,50],[105,7,91,4],[105,8,91,5],[106,4,92,0],[106,5,92,1],[107,4,92,1],[107,11,92,1,"_getEmployerJobs"],[107,27,92,1],[107,28,92,1,"apply"],[107,33,92,1],[107,40,92,1,"arguments"],[107,49,92,1],[108,2,92,1],[109,0,92,1],[109,3]],"functionMap":{"names":["<global>","getMatchedJobs","data.map$argument_0","getJobById","getEmployerJobs"],"mappings":"AAA;OCO;qCCkB;IDI;CDG;OGM;CH6B;OIM;kBFa;IEI;CJC"},"hasCjsExports":false},"type":"js/module"}]}