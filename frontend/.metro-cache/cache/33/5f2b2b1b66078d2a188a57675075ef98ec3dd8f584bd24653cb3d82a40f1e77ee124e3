{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":66},"end":{"line":2,"column":31,"index":97}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"./NavigationContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":99},"end":{"line":4,"column":52,"index":151}}],"key":"u9qAcSFr9bFa2cpyFF7vLtW9/VE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return useFocusEvents;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var React = _interopNamespace(_react);\n  var _NavigationContext = require(_dependencyMap[1], \"./NavigationContext\");\n  var NavigationContext = _interopDefault(_NavigationContext);\n  /**\n   * Hook to take care of emitting `focus` and `blur` events.\n   */\n  function useFocusEvents(_ref) {\n    var state = _ref.state,\n      emitter = _ref.emitter;\n    var navigation = React.useContext(NavigationContext.default);\n    var lastFocusedKeyRef = React.useRef();\n    var currentFocusedKey = state.routes[state.index].key;\n\n    // When the parent screen changes its focus state, we also need to change child's focus\n    // Coz the child screen can't be focused if the parent screen is out of focus\n    React.useEffect(function () {\n      return navigation == null ? void 0 : navigation.addListener('focus', function () {\n        lastFocusedKeyRef.current = currentFocusedKey;\n        emitter.emit({\n          type: 'focus',\n          target: currentFocusedKey\n        });\n      });\n    }, [currentFocusedKey, emitter, navigation]);\n    React.useEffect(function () {\n      return navigation == null ? void 0 : navigation.addListener('blur', function () {\n        lastFocusedKeyRef.current = undefined;\n        emitter.emit({\n          type: 'blur',\n          target: currentFocusedKey\n        });\n      });\n    }, [currentFocusedKey, emitter, navigation]);\n    React.useEffect(function () {\n      var lastFocusedKey = lastFocusedKeyRef.current;\n      lastFocusedKeyRef.current = currentFocusedKey;\n\n      // We wouldn't have `lastFocusedKey` on initial mount\n      // Fire focus event for the current route on mount if there's no parent navigator\n      if (lastFocusedKey === undefined && !navigation) {\n        emitter.emit({\n          type: 'focus',\n          target: currentFocusedKey\n        });\n      }\n\n      // We should only emit events when the focused key changed and navigator is focused\n      // When navigator is not focused, screens inside shouldn't receive focused status either\n      if (lastFocusedKey === currentFocusedKey || !(navigation ? navigation.isFocused() : true)) {\n        return;\n      }\n      if (lastFocusedKey === undefined) {\n        // Only fire events after initial mount\n        return;\n      }\n      emitter.emit({\n        type: 'blur',\n        target: lastFocusedKey\n      });\n      emitter.emit({\n        type: 'focus',\n        target: currentFocusedKey\n      });\n    }, [currentFocusedKey, emitter, navigation]);\n  }\n});","lineCount":99,"map":[[27,2,16,15,"Object"],[27,8,16,15],[27,9,16,15,"defineProperty"],[27,23,16,15],[27,24,16,15,"exports"],[27,31,16,15],[28,4,16,15,"enumerable"],[28,14,16,15],[29,4,16,15,"get"],[29,7,16,15],[29,18,16,15,"get"],[29,19,16,15],[30,6,16,15],[30,13,16,15,"useFocusEvents"],[30,27,16,15],[31,4,16,15],[32,2,16,15],[33,2,2,0],[33,6,2,0,"_react"],[33,12,2,0],[33,15,2,0,"require"],[33,22,2,0],[33,23,2,0,"_dependencyMap"],[33,37,2,0],[34,2,2,0],[34,6,2,0,"React"],[34,11,2,0],[34,14,2,0,"_interopNamespace"],[34,31,2,0],[34,32,2,0,"_react"],[34,38,2,0],[35,2,4,0],[35,6,4,0,"_NavigationContext"],[35,24,4,0],[35,27,4,0,"require"],[35,34,4,0],[35,35,4,0,"_dependencyMap"],[35,49,4,0],[36,2,4,0],[36,6,4,0,"NavigationContext"],[36,23,4,0],[36,26,4,0,"_interopDefault"],[36,41,4,0],[36,42,4,0,"_NavigationContext"],[36,60,4,0],[37,2,13,0],[38,0,14,0],[39,0,15,0],[40,2,16,15],[40,11,16,24,"useFocusEvents"],[40,25,16,38,"useFocusEvents"],[40,26,16,38,"_ref"],[40,30,16,38],[40,32,19,19],[41,4,19,19],[41,8,17,2,"state"],[41,13,17,7],[41,16,17,7,"_ref"],[41,20,17,7],[41,21,17,2,"state"],[41,26,17,7],[42,6,18,2,"emitter"],[42,13,18,9],[42,16,18,9,"_ref"],[42,20,18,9],[42,21,18,2,"emitter"],[42,28,18,9],[43,4,20,2],[43,8,20,8,"navigation"],[43,18,20,18],[43,21,20,21,"React"],[43,26,20,26],[43,27,20,27,"useContext"],[43,37,20,37],[43,38,20,38,"NavigationContext"],[43,55,20,55],[43,56,20,55,"default"],[43,63,20,55],[43,64,20,56],[44,4,21,2],[44,8,21,8,"lastFocusedKeyRef"],[44,25,21,25],[44,28,21,28,"React"],[44,33,21,33],[44,34,21,34,"useRef"],[44,40,21,40],[44,41,21,61],[44,42,21,62],[45,4,23,2],[45,8,23,8,"currentFocusedKey"],[45,25,23,25],[45,28,23,28,"state"],[45,33,23,33],[45,34,23,34,"routes"],[45,40,23,40],[45,41,23,41,"state"],[45,46,23,46],[45,47,23,47,"index"],[45,52,23,52],[45,53,23,53],[45,54,23,54,"key"],[45,57,23,57],[47,4,25,2],[48,4,26,2],[49,4,27,2,"React"],[49,9,27,7],[49,10,27,8,"useEffect"],[49,19,27,17],[49,20,28,4],[50,6,28,4],[50,13,29,6,"navigation"],[50,23,29,16],[50,43,29,6,"navigation"],[50,53,29,16],[50,54,29,18,"addListener"],[50,65,29,29],[50,66,29,30],[50,73,29,37],[50,75,29,39],[50,87,29,45],[51,8,30,8,"lastFocusedKeyRef"],[51,25,30,25],[51,26,30,26,"current"],[51,33,30,33],[51,36,30,36,"currentFocusedKey"],[51,53,30,53],[52,8,31,8,"emitter"],[52,15,31,15],[52,16,31,16,"emit"],[52,20,31,20],[52,21,31,21],[53,10,31,23,"type"],[53,14,31,27],[53,16,31,29],[53,23,31,36],[54,10,31,38,"target"],[54,16,31,44],[54,18,31,46,"currentFocusedKey"],[55,8,31,64],[55,9,31,65],[55,10,31,66],[56,6,32,6],[56,7,32,7],[56,8,32,8],[57,4,32,8],[57,7,33,4],[57,8,33,5,"currentFocusedKey"],[57,25,33,22],[57,27,33,24,"emitter"],[57,34,33,31],[57,36,33,33,"navigation"],[57,46,33,43],[57,47,34,2],[57,48,34,3],[58,4,36,2,"React"],[58,9,36,7],[58,10,36,8,"useEffect"],[58,19,36,17],[58,20,37,4],[59,6,37,4],[59,13,38,6,"navigation"],[59,23,38,16],[59,43,38,6,"navigation"],[59,53,38,16],[59,54,38,18,"addListener"],[59,65,38,29],[59,66,38,30],[59,72,38,36],[59,74,38,38],[59,86,38,44],[60,8,39,8,"lastFocusedKeyRef"],[60,25,39,25],[60,26,39,26,"current"],[60,33,39,33],[60,36,39,36,"undefined"],[60,45,39,45],[61,8,40,8,"emitter"],[61,15,40,15],[61,16,40,16,"emit"],[61,20,40,20],[61,21,40,21],[62,10,40,23,"type"],[62,14,40,27],[62,16,40,29],[62,22,40,35],[63,10,40,37,"target"],[63,16,40,43],[63,18,40,45,"currentFocusedKey"],[64,8,40,63],[64,9,40,64],[64,10,40,65],[65,6,41,6],[65,7,41,7],[65,8,41,8],[66,4,41,8],[66,7,42,4],[66,8,42,5,"currentFocusedKey"],[66,25,42,22],[66,27,42,24,"emitter"],[66,34,42,31],[66,36,42,33,"navigation"],[66,46,42,43],[66,47,43,2],[66,48,43,3],[67,4,45,2,"React"],[67,9,45,7],[67,10,45,8,"useEffect"],[67,19,45,17],[67,20,45,18],[67,32,45,24],[68,6,46,4],[68,10,46,10,"lastFocusedKey"],[68,24,46,24],[68,27,46,27,"lastFocusedKeyRef"],[68,44,46,44],[68,45,46,45,"current"],[68,52,46,52],[69,6,48,4,"lastFocusedKeyRef"],[69,23,48,21],[69,24,48,22,"current"],[69,31,48,29],[69,34,48,32,"currentFocusedKey"],[69,51,48,49],[71,6,50,4],[72,6,51,4],[73,6,52,4],[73,10,52,8,"lastFocusedKey"],[73,24,52,22],[73,29,52,27,"undefined"],[73,38,52,36],[73,42,52,40],[73,43,52,41,"navigation"],[73,53,52,51],[73,55,52,53],[74,8,53,6,"emitter"],[74,15,53,13],[74,16,53,14,"emit"],[74,20,53,18],[74,21,53,19],[75,10,53,21,"type"],[75,14,53,25],[75,16,53,27],[75,23,53,34],[76,10,53,36,"target"],[76,16,53,42],[76,18,53,44,"currentFocusedKey"],[77,8,53,62],[77,9,53,63],[77,10,53,64],[78,6,54,4],[80,6,56,4],[81,6,57,4],[82,6,58,4],[82,10,59,6,"lastFocusedKey"],[82,24,59,20],[82,29,59,25,"currentFocusedKey"],[82,46,59,42],[82,50,60,6],[82,52,60,8,"navigation"],[82,62,60,18],[82,65,60,21,"navigation"],[82,75,60,31],[82,76,60,32,"isFocused"],[82,85,60,41],[82,86,60,42],[82,87,60,43],[82,90,60,46],[82,94,60,50],[82,95,60,51],[82,97,61,6],[83,8,62,6],[84,6,63,4],[85,6,65,4],[85,10,65,8,"lastFocusedKey"],[85,24,65,22],[85,29,65,27,"undefined"],[85,38,65,36],[85,40,65,38],[86,8,66,6],[87,8,67,6],[88,6,68,4],[89,6,70,4,"emitter"],[89,13,70,11],[89,14,70,12,"emit"],[89,18,70,16],[89,19,70,17],[90,8,70,19,"type"],[90,12,70,23],[90,14,70,25],[90,20,70,31],[91,8,70,33,"target"],[91,14,70,39],[91,16,70,41,"lastFocusedKey"],[92,6,70,56],[92,7,70,57],[92,8,70,58],[93,6,71,4,"emitter"],[93,13,71,11],[93,14,71,12,"emit"],[93,18,71,16],[93,19,71,17],[94,8,71,19,"type"],[94,12,71,23],[94,14,71,25],[94,21,71,32],[95,8,71,34,"target"],[95,14,71,40],[95,16,71,42,"currentFocusedKey"],[96,6,71,60],[96,7,71,61],[96,8,71,62],[97,4,72,2],[97,5,72,3],[97,7,72,5],[97,8,72,6,"currentFocusedKey"],[97,25,72,23],[97,27,72,25,"emitter"],[97,34,72,32],[97,36,72,34,"navigation"],[97,46,72,44],[97,47,72,45],[97,48,72,46],[98,2,73,0],[99,0,73,1],[99,3]],"functionMap":{"names":["<global>","useFocusEvents","React.useEffect$argument_0","navigation.addListener$argument_1"],"mappings":"AAA;eCe;ICY;uCCC;ODG,CD;ICK;sCCC;ODG,CD;kBCI;GD2B;CDC"},"hasCjsExports":false},"type":"js/module"}]}