{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"./storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":75},"end":{"line":3,"column":36,"index":111}}],"key":"3rLtLV8J3gSw9c8Ep8Wpc3w/Yxg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.getWorkerProfile = getWorkerProfile;\n  exports.saveWorkerProfile = saveWorkerProfile;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _storage = require(_dependencyMap[1], \"./storage\");\n  // utils/profileStore.ts\n\n  var PROFILE_KEY = '@shiftmatch:worker_profile';\n  function getWorkerProfile(_x) {\n    return _getWorkerProfile.apply(this, arguments);\n  }\n  function _getWorkerProfile() {\n    _getWorkerProfile = (0, _asyncToGenerator.default)(function* (userId) {\n      console.log('üîç getWorkerProfile: Loading profile for user', userId);\n      var stored = yield _storage.storage.getItem(PROFILE_KEY);\n      if (!stored) {\n        console.log('‚ö†Ô∏è getWorkerProfile: No profile found');\n        return null;\n      }\n      if (stored.userId !== userId) {\n        console.log('‚ö†Ô∏è getWorkerProfile: Profile userId mismatch', {\n          stored: stored.userId,\n          requested: userId\n        });\n        return null;\n      }\n\n      // Ensure arrays are never undefined\n      var profile = {\n        ...stored,\n        categories: stored.categories ?? [],\n        selectedTags: stored.selectedTags ?? []\n      };\n      console.log('‚úÖ getWorkerProfile: Profile loaded', {\n        userId: profile.userId,\n        categories: profile.categories.length,\n        tags: profile.selectedTags.length\n      });\n      return profile;\n    });\n    return _getWorkerProfile.apply(this, arguments);\n  }\n  function saveWorkerProfile(_x2) {\n    return _saveWorkerProfile.apply(this, arguments);\n  }\n  function _saveWorkerProfile() {\n    _saveWorkerProfile = (0, _asyncToGenerator.default)(function* (profile) {\n      console.log('üíæ saveWorkerProfile: Saving profile for user', profile.userId);\n\n      // Normalize profile to ensure arrays are never undefined\n      var normalized = {\n        ...profile,\n        categories: profile.categories ?? [],\n        selectedTags: profile.selectedTags ?? []\n      };\n      yield _storage.storage.setItem(PROFILE_KEY, normalized);\n      console.log('‚úÖ saveWorkerProfile: Profile saved successfully', {\n        userId: normalized.userId,\n        categories: normalized.categories.length,\n        tags: normalized.selectedTags.length,\n        pushToken: normalized.pushToken ? '‚úì' : '‚úó'\n      });\n    });\n    return _saveWorkerProfile.apply(this, arguments);\n  }\n});","lineCount":77,"map":[[12,2,7,0,"exports"],[12,9,7,0],[12,10,7,0,"getWorkerProfile"],[12,26,7,0],[12,29,7,0,"getWorkerProfile"],[12,45,7,0],[13,2,37,0,"exports"],[13,9,37,0],[13,10,37,0,"saveWorkerProfile"],[13,27,37,0],[13,30,37,0,"saveWorkerProfile"],[13,47,37,0],[14,2,54,1],[14,6,54,1,"_babelRuntimeHelpersAsyncToGenerator"],[14,42,54,1],[14,45,54,1,"require"],[14,52,54,1],[14,53,54,1,"_dependencyMap"],[14,67,54,1],[15,2,54,1],[15,6,54,1,"_asyncToGenerator"],[15,23,54,1],[15,26,54,1,"_interopDefault"],[15,41,54,1],[15,42,54,1,"_babelRuntimeHelpersAsyncToGenerator"],[15,78,54,1],[16,2,3,0],[16,6,3,0,"_storage"],[16,14,3,0],[16,17,3,0,"require"],[16,24,3,0],[16,25,3,0,"_dependencyMap"],[16,39,3,0],[17,2,1,0],[19,2,5,0],[19,6,5,6,"PROFILE_KEY"],[19,17,5,17],[19,20,5,20],[19,48,5,48],[20,2,5,49],[20,11,7,22,"getWorkerProfile"],[20,27,7,38,"getWorkerProfile"],[20,28,7,38,"_x"],[20,30,7,38],[21,4,7,38],[21,11,7,38,"_getWorkerProfile"],[21,28,7,38],[21,29,7,38,"apply"],[21,34,7,38],[21,41,7,38,"arguments"],[21,50,7,38],[22,2,7,38],[23,2,7,38],[23,11,7,38,"_getWorkerProfile"],[23,29,7,38],[24,4,7,38,"_getWorkerProfile"],[24,21,7,38],[24,28,7,38,"_asyncToGenerator"],[24,45,7,38],[24,46,7,38,"default"],[24,53,7,38],[24,55,7,7],[24,66,7,39,"userId"],[24,72,7,53],[24,74,7,86],[25,6,8,2,"console"],[25,13,8,9],[25,14,8,10,"log"],[25,17,8,13],[25,18,8,14],[25,65,8,61],[25,67,8,63,"userId"],[25,73,8,69],[25,74,8,70],[26,6,9,2],[26,10,9,8,"stored"],[26,16,9,14],[26,25,9,23,"storage"],[26,33,9,30],[26,34,9,30,"storage"],[26,41,9,30],[26,42,9,31,"getItem"],[26,49,9,38],[26,50,9,54,"PROFILE_KEY"],[26,61,9,65],[26,62,9,66],[27,6,11,2],[27,10,11,6],[27,11,11,7,"stored"],[27,17,11,13],[27,19,11,15],[28,8,12,4,"console"],[28,15,12,11],[28,16,12,12,"log"],[28,19,12,15],[28,20,12,16],[28,59,12,55],[28,60,12,56],[29,8,13,4],[29,15,13,11],[29,19,13,15],[30,6,14,2],[31,6,16,2],[31,10,16,6,"stored"],[31,16,16,12],[31,17,16,13,"userId"],[31,23,16,19],[31,28,16,24,"userId"],[31,34,16,30],[31,36,16,32],[32,8,17,4,"console"],[32,15,17,11],[32,16,17,12,"log"],[32,19,17,15],[32,20,17,16],[32,66,17,62],[32,68,17,64],[33,10,17,66,"stored"],[33,16,17,72],[33,18,17,74,"stored"],[33,24,17,80],[33,25,17,81,"userId"],[33,31,17,87],[34,10,17,89,"requested"],[34,19,17,98],[34,21,17,100,"userId"],[35,8,17,107],[35,9,17,108],[35,10,17,109],[36,8,18,4],[36,15,18,11],[36,19,18,15],[37,6,19,2],[39,6,21,2],[40,6,22,2],[40,10,22,8,"profile"],[40,17,22,15],[40,20,22,18],[41,8,23,4],[41,11,23,7,"stored"],[41,17,23,13],[42,8,24,4,"categories"],[42,18,24,14],[42,20,24,16,"stored"],[42,26,24,22],[42,27,24,23,"categories"],[42,37,24,33],[42,41,24,37],[42,43,24,39],[43,8,25,4,"selectedTags"],[43,20,25,16],[43,22,25,18,"stored"],[43,28,25,24],[43,29,25,25,"selectedTags"],[43,41,25,37],[43,45,25,41],[44,6,26,2],[44,7,26,3],[45,6,28,2,"console"],[45,13,28,9],[45,14,28,10,"log"],[45,17,28,13],[45,18,28,14],[45,54,28,50],[45,56,28,52],[46,8,29,4,"userId"],[46,14,29,10],[46,16,29,12,"profile"],[46,23,29,19],[46,24,29,20,"userId"],[46,30,29,26],[47,8,30,4,"categories"],[47,18,30,14],[47,20,30,16,"profile"],[47,27,30,23],[47,28,30,24,"categories"],[47,38,30,34],[47,39,30,35,"length"],[47,45,30,41],[48,8,31,4,"tags"],[48,12,31,8],[48,14,31,10,"profile"],[48,21,31,17],[48,22,31,18,"selectedTags"],[48,34,31,30],[48,35,31,31,"length"],[49,6,32,2],[49,7,32,3],[49,8,32,4],[50,6,34,2],[50,13,34,9,"profile"],[50,20,34,16],[51,4,35,0],[51,5,35,1],[52,4,35,1],[52,11,35,1,"_getWorkerProfile"],[52,28,35,1],[52,29,35,1,"apply"],[52,34,35,1],[52,41,35,1,"arguments"],[52,50,35,1],[53,2,35,1],[54,2,35,1],[54,11,37,22,"saveWorkerProfile"],[54,28,37,39,"saveWorkerProfile"],[54,29,37,39,"_x2"],[54,32,37,39],[55,4,37,39],[55,11,37,39,"_saveWorkerProfile"],[55,29,37,39],[55,30,37,39,"apply"],[55,35,37,39],[55,42,37,39,"arguments"],[55,51,37,39],[56,2,37,39],[57,2,37,39],[57,11,37,39,"_saveWorkerProfile"],[57,30,37,39],[58,4,37,39,"_saveWorkerProfile"],[58,22,37,39],[58,29,37,39,"_asyncToGenerator"],[58,46,37,39],[58,47,37,39,"default"],[58,54,37,39],[58,56,37,7],[58,67,37,40,"profile"],[58,74,37,62],[58,76,37,79],[59,6,38,2,"console"],[59,13,38,9],[59,14,38,10,"log"],[59,17,38,13],[59,18,38,14],[59,65,38,61],[59,67,38,63,"profile"],[59,74,38,70],[59,75,38,71,"userId"],[59,81,38,77],[59,82,38,78],[61,6,40,2],[62,6,41,2],[62,10,41,8,"normalized"],[62,20,41,33],[62,23,41,36],[63,8,42,4],[63,11,42,7,"profile"],[63,18,42,14],[64,8,43,4,"categories"],[64,18,43,14],[64,20,43,16,"profile"],[64,27,43,23],[64,28,43,24,"categories"],[64,38,43,34],[64,42,43,38],[64,44,43,40],[65,8,44,4,"selectedTags"],[65,20,44,16],[65,22,44,18,"profile"],[65,29,44,25],[65,30,44,26,"selectedTags"],[65,42,44,38],[65,46,44,42],[66,6,45,2],[66,7,45,3],[67,6,47,2],[67,12,47,8,"storage"],[67,20,47,15],[67,21,47,15,"storage"],[67,28,47,15],[67,29,47,16,"setItem"],[67,36,47,23],[67,37,47,24,"PROFILE_KEY"],[67,48,47,35],[67,50,47,37,"normalized"],[67,60,47,47],[67,61,47,48],[68,6,48,2,"console"],[68,13,48,9],[68,14,48,10,"log"],[68,17,48,13],[68,18,48,14],[68,67,48,63],[68,69,48,65],[69,8,49,4,"userId"],[69,14,49,10],[69,16,49,12,"normalized"],[69,26,49,22],[69,27,49,23,"userId"],[69,33,49,29],[70,8,50,4,"categories"],[70,18,50,14],[70,20,50,16,"normalized"],[70,30,50,26],[70,31,50,27,"categories"],[70,41,50,37],[70,42,50,38,"length"],[70,48,50,44],[71,8,51,4,"tags"],[71,12,51,8],[71,14,51,10,"normalized"],[71,24,51,20],[71,25,51,21,"selectedTags"],[71,37,51,33],[71,38,51,34,"length"],[71,44,51,40],[72,8,52,4,"pushToken"],[72,17,52,13],[72,19,52,15,"normalized"],[72,29,52,25],[72,30,52,26,"pushToken"],[72,39,52,35],[72,42,52,38],[72,45,52,41],[72,48,52,44],[73,6,53,2],[73,7,53,3],[73,8,53,4],[74,4,54,0],[74,5,54,1],[75,4,54,1],[75,11,54,1,"_saveWorkerProfile"],[75,29,54,1],[75,30,54,1,"apply"],[75,35,54,1],[75,42,54,1,"arguments"],[75,51,54,1],[76,2,54,1],[77,0,54,1],[77,3]],"functionMap":{"names":["<global>","getWorkerProfile","saveWorkerProfile"],"mappings":"AAA;OCM;CD4B;OEE"},"hasCjsExports":false},"type":"js/module"}]}