{"dependencies":[{"name":"nanoid/non-secure","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":43,"index":43}}],"key":"aLLVXWB8QP15fri3afEUab9H+Os="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _nonSecure = require(_dependencyMap[0], \"nanoid/non-secure\");\n  /**\n   * Base router object that can be used when writing custom routers.\n   * This provides few helper methods to handle common actions such as `RESET`.\n   */\n  const BaseRouter = {\n    getStateForAction(state, action) {\n      switch (action.type) {\n        case 'SET_PARAMS':\n          {\n            const index = action.source ? state.routes.findIndex(r => r.key === action.source) : state.index;\n            if (index === -1) {\n              return null;\n            }\n            return Object.assign({}, state, {\n              routes: state.routes.map((r, i) => i === index ? Object.assign({}, r, {\n                params: Object.assign({}, r.params, action.payload.params)\n              }) : r)\n            });\n          }\n        case 'RESET':\n          {\n            const nextState = action.payload;\n            if (nextState.routes.length === 0 || nextState.routes.some(route => !state.routeNames.includes(route.name))) {\n              return null;\n            }\n            if (nextState.stale === false) {\n              if (state.routeNames.length !== nextState.routeNames.length || nextState.routeNames.some(name => !state.routeNames.includes(name))) {\n                return null;\n              }\n              return Object.assign({}, nextState, {\n                routes: nextState.routes.map(route => route.key ? route : Object.assign({}, route, {\n                  key: `${route.name}-${(0, _nonSecure.nanoid)()}`\n                }))\n              });\n            }\n            return nextState;\n          }\n        default:\n          return null;\n      }\n    },\n    shouldActionChangeFocus(action) {\n      return action.type === 'NAVIGATE';\n    }\n  };\n  var _default = exports.default = BaseRouter;\n});","lineCount":53,"map":[[6,2,1,0],[6,6,1,0,"_nonSecure"],[6,16,1,0],[6,19,1,0,"require"],[6,26,1,0],[6,27,1,0,"_dependencyMap"],[6,41,1,0],[7,2,2,0],[8,0,3,0],[9,0,4,0],[10,0,5,0],[11,2,6,0],[11,8,6,6,"BaseRouter"],[11,18,6,16],[11,21,6,19],[12,4,7,2,"getStateForAction"],[12,21,7,19,"getStateForAction"],[12,22,7,20,"state"],[12,27,7,25],[12,29,7,27,"action"],[12,35,7,33],[12,37,7,35],[13,6,8,4],[13,14,8,12,"action"],[13,20,8,18],[13,21,8,19,"type"],[13,25,8,23],[14,8,9,6],[14,13,9,11],[14,25,9,23],[15,10,10,8],[16,12,11,10],[16,18,11,16,"index"],[16,23,11,21],[16,26,11,24,"action"],[16,32,11,30],[16,33,11,31,"source"],[16,39,11,37],[16,42,11,40,"state"],[16,47,11,45],[16,48,11,46,"routes"],[16,54,11,52],[16,55,11,53,"findIndex"],[16,64,11,62],[16,65,11,63,"r"],[16,66,11,64],[16,70,11,68,"r"],[16,71,11,69],[16,72,11,70,"key"],[16,75,11,73],[16,80,11,78,"action"],[16,86,11,84],[16,87,11,85,"source"],[16,93,11,91],[16,94,11,92],[16,97,11,95,"state"],[16,102,11,100],[16,103,11,101,"index"],[16,108,11,106],[17,12,12,10],[17,16,12,14,"index"],[17,21,12,19],[17,26,12,24],[17,27,12,25],[17,28,12,26],[17,30,12,28],[18,14,13,12],[18,21,13,19],[18,25,13,23],[19,12,14,10],[20,12,15,10],[20,19,15,10,"Object"],[20,25,15,10],[20,26,15,10,"assign"],[20,32,15,10],[20,37,16,15,"state"],[20,42,16,20],[21,14,17,12,"routes"],[21,20,17,18],[21,22,17,20,"state"],[21,27,17,25],[21,28,17,26,"routes"],[21,34,17,32],[21,35,17,33,"map"],[21,38,17,36],[21,39,17,37],[21,40,17,38,"r"],[21,41,17,39],[21,43,17,41,"i"],[21,44,17,42],[21,49,17,47,"i"],[21,50,17,48],[21,55,17,53,"index"],[21,60,17,58],[21,63,17,58,"Object"],[21,69,17,58],[21,70,17,58,"assign"],[21,76,17,58],[21,81,18,17,"r"],[21,82,18,18],[22,16,19,14,"params"],[22,22,19,20],[22,24,19,20,"Object"],[22,30,19,20],[22,31,19,20,"assign"],[22,37,19,20],[22,42,20,19,"r"],[22,43,20,20],[22,44,20,21,"params"],[22,50,20,27],[22,52,21,19,"action"],[22,58,21,25],[22,59,21,26,"payload"],[22,66,21,33],[22,67,21,34,"params"],[22,73,21,40],[23,14,22,15],[23,19,23,16,"r"],[23,20,23,17],[24,12,23,18],[25,10,25,8],[26,8,26,6],[26,13,26,11],[26,20,26,18],[27,10,27,8],[28,12,28,10],[28,18,28,16,"nextState"],[28,27,28,25],[28,30,28,28,"action"],[28,36,28,34],[28,37,28,35,"payload"],[28,44,28,42],[29,12,29,10],[29,16,29,14,"nextState"],[29,25,29,23],[29,26,29,24,"routes"],[29,32,29,30],[29,33,29,31,"length"],[29,39,29,37],[29,44,29,42],[29,45,29,43],[29,49,29,47,"nextState"],[29,58,29,56],[29,59,29,57,"routes"],[29,65,29,63],[29,66,29,64,"some"],[29,70,29,68],[29,71,29,69,"route"],[29,76,29,74],[29,80,29,78],[29,81,29,79,"state"],[29,86,29,84],[29,87,29,85,"routeNames"],[29,97,29,95],[29,98,29,96,"includes"],[29,106,29,104],[29,107,29,105,"route"],[29,112,29,110],[29,113,29,111,"name"],[29,117,29,115],[29,118,29,116],[29,119,29,117],[29,121,29,119],[30,14,30,12],[30,21,30,19],[30,25,30,23],[31,12,31,10],[32,12,32,10],[32,16,32,14,"nextState"],[32,25,32,23],[32,26,32,24,"stale"],[32,31,32,29],[32,36,32,34],[32,41,32,39],[32,43,32,41],[33,14,33,12],[33,18,33,16,"state"],[33,23,33,21],[33,24,33,22,"routeNames"],[33,34,33,32],[33,35,33,33,"length"],[33,41,33,39],[33,46,33,44,"nextState"],[33,55,33,53],[33,56,33,54,"routeNames"],[33,66,33,64],[33,67,33,65,"length"],[33,73,33,71],[33,77,33,75,"nextState"],[33,86,33,84],[33,87,33,85,"routeNames"],[33,97,33,95],[33,98,33,96,"some"],[33,102,33,100],[33,103,33,101,"name"],[33,107,33,105],[33,111,33,109],[33,112,33,110,"state"],[33,117,33,115],[33,118,33,116,"routeNames"],[33,128,33,126],[33,129,33,127,"includes"],[33,137,33,135],[33,138,33,136,"name"],[33,142,33,140],[33,143,33,141],[33,144,33,142],[33,146,33,144],[34,16,34,14],[34,23,34,21],[34,27,34,25],[35,14,35,12],[36,14,36,12],[36,21,36,12,"Object"],[36,27,36,12],[36,28,36,12,"assign"],[36,34,36,12],[36,39,37,17,"nextState"],[36,48,37,26],[37,16,38,14,"routes"],[37,22,38,20],[37,24,38,22,"nextState"],[37,33,38,31],[37,34,38,32,"routes"],[37,40,38,38],[37,41,38,39,"map"],[37,44,38,42],[37,45,38,43,"route"],[37,50,38,48],[37,54,38,52,"route"],[37,59,38,57],[37,60,38,58,"key"],[37,63,38,61],[37,66,38,64,"route"],[37,71,38,69],[37,74,38,69,"Object"],[37,80,38,69],[37,81,38,69,"assign"],[37,87,38,69],[37,92,39,19,"route"],[37,97,39,24],[38,18,40,16,"key"],[38,21,40,19],[38,23,40,21],[38,26,40,24,"route"],[38,31,40,29],[38,32,40,30,"name"],[38,36,40,34],[38,40,40,38],[38,44,40,38,"nanoid"],[38,61,40,44],[38,63,40,45],[38,64,40,46],[39,16,40,48],[39,18,41,15],[40,14,41,16],[41,12,43,10],[42,12,44,10],[42,19,44,17,"nextState"],[42,28,44,26],[43,10,45,8],[44,8,46,6],[45,10,47,8],[45,17,47,15],[45,21,47,19],[46,6,48,4],[47,4,49,2],[47,5,49,3],[48,4,50,2,"shouldActionChangeFocus"],[48,27,50,25,"shouldActionChangeFocus"],[48,28,50,26,"action"],[48,34,50,32],[48,36,50,34],[49,6,51,4],[49,13,51,11,"action"],[49,19,51,17],[49,20,51,18,"type"],[49,24,51,22],[49,29,51,27],[49,39,51,37],[50,4,52,2],[51,2,53,0],[51,3,53,1],[52,2,53,2],[52,6,53,2,"_default"],[52,14,53,2],[52,17,53,2,"exports"],[52,24,53,2],[52,25,53,2,"default"],[52,32,53,2],[52,35,54,15,"BaseRouter"],[52,45,54,25],[53,0,54,25]],"functionMap":{"names":["<global>","getStateForAction","state.routes.findIndex$argument_0","state.routes.map$argument_0","nextState.routes.some$argument_0","nextState.routeNames.some$argument_0","nextState.routes.map$argument_0","shouldActionChangeFocus"],"mappings":"AAA;ECM;+DCI,4BD;qCEM;iBFM;qEGM,+CH;qGII,wCJ;2CKK;eLG;GDQ;EOC;GPE"}},"type":"js/module"}]}