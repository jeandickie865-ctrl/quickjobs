{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"./api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":111},"end":{"line":3,"column":60,"index":171}}],"key":"FbKPDeRJ9TF3vg1eKYKz12urgic=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.getWorkerProfile = getWorkerProfile;\n  exports.saveWorkerProfile = saveWorkerProfile;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _api = require(_dependencyMap[1], \"./api\");\n  // utils/profileStore.ts - Worker Profile Store (REFACTORED)\n  // ===== GET WORKER PROFILE =====\n  function getWorkerProfile(_x) {\n    return _getWorkerProfile.apply(this, arguments);\n  } // ===== SAVE WORKER PROFILE =====\n  function _getWorkerProfile() {\n    _getWorkerProfile = (0, _asyncToGenerator.default)(function* (userId) {\n      console.log('üîç getWorkerProfile: Loading profile for user', userId);\n      try {\n        var _profile$categories, _profile$selectedTags;\n        var headers = yield (0, _api.getAuthHeaders)();\n        var response = yield fetch(`${_api.API_BASE}/profiles/worker/${userId}`, {\n          method: 'GET',\n          headers: headers\n        });\n        if (response.status === 404) {\n          console.log('‚ö†Ô∏è getWorkerProfile: Profile not found (404)');\n          return null;\n        }\n        if (!response.ok) {\n          var error = yield response.text();\n          console.error('‚ùå getWorkerProfile: API error', response.status, error);\n          throw new Error(`Failed to fetch profile: ${response.status}`);\n        }\n        var profile = yield response.json();\n        console.log('‚úÖ getWorkerProfile: Profile loaded', {\n          userId: profile.userId,\n          categories: ((_profile$categories = profile.categories) == null ? void 0 : _profile$categories.length) || 0,\n          tags: ((_profile$selectedTags = profile.selectedTags) == null ? void 0 : _profile$selectedTags.length) || 0\n        });\n        return profile;\n      } catch (error) {\n        console.error('‚ùå getWorkerProfile: Error', error);\n        throw error;\n      }\n    });\n    return _getWorkerProfile.apply(this, arguments);\n  }\n  function saveWorkerProfile(_x2, _x3) {\n    return _saveWorkerProfile.apply(this, arguments);\n  }\n  function _saveWorkerProfile() {\n    _saveWorkerProfile = (0, _asyncToGenerator.default)(function* (userId, profileData) {\n      console.log('üíæ saveWorkerProfile: Saving profile for', userId);\n      console.log('üíæ saveWorkerProfile: Data:', profileData);\n      try {\n        var headers = yield (0, _api.getAuthHeaders)();\n\n        // Try PUT first (update existing)\n        var response = yield fetch(`${_api.API_BASE}/profiles/worker/${userId}`, {\n          method: 'PUT',\n          headers: headers,\n          body: JSON.stringify(profileData)\n        });\n        console.log('üì• saveWorkerProfile: PUT response status:', response.status);\n\n        // If 404, profile doesn't exist - create with POST\n        if (response.status === 404) {\n          console.log('‚ö†Ô∏è saveWorkerProfile: Profile not found, creating new via POST');\n          response = yield fetch(`${_api.API_BASE}/profiles/worker`, {\n            method: 'POST',\n            headers: headers,\n            body: JSON.stringify(profileData)\n          });\n          console.log('üì• saveWorkerProfile: POST response status:', response.status);\n        }\n        if (!response.ok) {\n          var errorText = yield response.text();\n          console.error('‚ùå saveWorkerProfile: Backend error:', errorText);\n          throw new Error(`Server Error ${response.status}: ${errorText}`);\n        }\n        var result = yield response.json();\n        console.log('‚úÖ saveWorkerProfile: Profile saved successfully', result);\n      } catch (error) {\n        console.error('‚ùå saveWorkerProfile: Exception:', error.message);\n        throw error;\n      }\n    });\n    return _saveWorkerProfile.apply(this, arguments);\n  }\n});","lineCount":97,"map":[[12,2,6,0,"exports"],[12,9,6,0],[12,10,6,0,"getWorkerProfile"],[12,26,6,0],[12,29,6,0,"getWorkerProfile"],[12,45,6,0],[13,2,43,0,"exports"],[13,9,43,0],[13,10,43,0,"saveWorkerProfile"],[13,27,43,0],[13,30,43,0,"saveWorkerProfile"],[13,47,43,0],[14,2,87,1],[14,6,87,1,"_babelRuntimeHelpersAsyncToGenerator"],[14,42,87,1],[14,45,87,1,"require"],[14,52,87,1],[14,53,87,1,"_dependencyMap"],[14,67,87,1],[15,2,87,1],[15,6,87,1,"_asyncToGenerator"],[15,23,87,1],[15,26,87,1,"_interopDefault"],[15,41,87,1],[15,42,87,1,"_babelRuntimeHelpersAsyncToGenerator"],[15,78,87,1],[16,2,3,0],[16,6,3,0,"_api"],[16,10,3,0],[16,13,3,0,"require"],[16,20,3,0],[16,21,3,0,"_dependencyMap"],[16,35,3,0],[17,2,1,0],[18,2,5,0],[19,2,5,0],[19,11,6,22,"getWorkerProfile"],[19,27,6,38,"getWorkerProfile"],[19,28,6,38,"_x"],[19,30,6,38],[20,4,6,38],[20,11,6,38,"_getWorkerProfile"],[20,28,6,38],[20,29,6,38,"apply"],[20,34,6,38],[20,41,6,38,"arguments"],[20,50,6,38],[21,2,6,38],[21,4,42,0],[22,2,42,0],[22,11,42,0,"_getWorkerProfile"],[22,29,42,0],[23,4,42,0,"_getWorkerProfile"],[23,21,42,0],[23,28,42,0,"_asyncToGenerator"],[23,45,42,0],[23,46,42,0,"default"],[23,53,42,0],[23,55,6,7],[23,66,6,39,"userId"],[23,72,6,53],[23,74,6,86],[24,6,7,2,"console"],[24,13,7,9],[24,14,7,10,"log"],[24,17,7,13],[24,18,7,14],[24,65,7,61],[24,67,7,63,"userId"],[24,73,7,69],[24,74,7,70],[25,6,9,2],[25,10,9,6],[26,8,9,6],[26,12,9,6,"_profile$categories"],[26,31,9,6],[26,33,9,6,"_profile$selectedTags"],[26,54,9,6],[27,8,10,4],[27,12,10,10,"headers"],[27,19,10,17],[27,28,10,26],[27,32,10,26,"getAuthHeaders"],[27,36,10,40],[27,37,10,40,"getAuthHeaders"],[27,51,10,40],[27,53,10,41],[27,54,10,42],[28,8,12,4],[28,12,12,10,"response"],[28,20,12,18],[28,29,12,27,"fetch"],[28,34,12,32],[28,35,12,33],[28,38,12,36,"API_BASE"],[28,42,12,44],[28,43,12,44,"API_BASE"],[28,51,12,44],[28,71,12,64,"userId"],[28,77,12,70],[28,79,12,72],[28,81,12,74],[29,10,13,6,"method"],[29,16,13,12],[29,18,13,14],[29,23,13,19],[30,10,14,6,"headers"],[30,17,14,13],[30,19,14,6,"headers"],[31,8,15,4],[31,9,15,5],[31,10,15,6],[32,8,17,4],[32,12,17,8,"response"],[32,20,17,16],[32,21,17,17,"status"],[32,27,17,23],[32,32,17,28],[32,35,17,31],[32,37,17,33],[33,10,18,6,"console"],[33,17,18,13],[33,18,18,14,"log"],[33,21,18,17],[33,22,18,18],[33,68,18,64],[33,69,18,65],[34,10,19,6],[34,17,19,13],[34,21,19,17],[35,8,20,4],[36,8,22,4],[36,12,22,8],[36,13,22,9,"response"],[36,21,22,17],[36,22,22,18,"ok"],[36,24,22,20],[36,26,22,22],[37,10,23,6],[37,14,23,12,"error"],[37,19,23,17],[37,28,23,26,"response"],[37,36,23,34],[37,37,23,35,"text"],[37,41,23,39],[37,42,23,40],[37,43,23,41],[38,10,24,6,"console"],[38,17,24,13],[38,18,24,14,"error"],[38,23,24,19],[38,24,24,20],[38,55,24,51],[38,57,24,53,"response"],[38,65,24,61],[38,66,24,62,"status"],[38,72,24,68],[38,74,24,70,"error"],[38,79,24,75],[38,80,24,76],[39,10,25,6],[39,16,25,12],[39,20,25,16,"Error"],[39,25,25,21],[39,26,25,22],[39,54,25,50,"response"],[39,62,25,58],[39,63,25,59,"status"],[39,69,25,65],[39,71,25,67],[39,72,25,68],[40,8,26,4],[41,8,28,4],[41,12,28,10,"profile"],[41,19,28,17],[41,28,28,26,"response"],[41,36,28,34],[41,37,28,35,"json"],[41,41,28,39],[41,42,28,40],[41,43,28,41],[42,8,29,4,"console"],[42,15,29,11],[42,16,29,12,"log"],[42,19,29,15],[42,20,29,16],[42,56,29,52],[42,58,29,54],[43,10,30,6,"userId"],[43,16,30,12],[43,18,30,14,"profile"],[43,25,30,21],[43,26,30,22,"userId"],[43,32,30,28],[44,10,31,6,"categories"],[44,20,31,16],[44,22,31,18],[44,24,31,18,"_profile$categories"],[44,43,31,18],[44,46,31,18,"profile"],[44,53,31,25],[44,54,31,26,"categories"],[44,64,31,36],[44,85,31,18,"_profile$categories"],[44,104,31,18],[44,105,31,38,"length"],[44,111,31,44],[44,116,31,48],[44,117,31,49],[45,10,32,6,"tags"],[45,14,32,10],[45,16,32,12],[45,18,32,12,"_profile$selectedTags"],[45,39,32,12],[45,42,32,12,"profile"],[45,49,32,19],[45,50,32,20,"selectedTags"],[45,62,32,32],[45,83,32,12,"_profile$selectedTags"],[45,104,32,12],[45,105,32,34,"length"],[45,111,32,40],[45,116,32,44],[46,8,33,4],[46,9,33,5],[46,10,33,6],[47,8,35,4],[47,15,35,11,"profile"],[47,22,35,18],[48,6,36,2],[48,7,36,3],[48,8,36,4],[48,15,36,11,"error"],[48,20,36,16],[48,22,36,18],[49,8,37,4,"console"],[49,15,37,11],[49,16,37,12,"error"],[49,21,37,17],[49,22,37,18],[49,49,37,45],[49,51,37,47,"error"],[49,56,37,52],[49,57,37,53],[50,8,38,4],[50,14,38,10,"error"],[50,19,38,15],[51,6,39,2],[52,4,40,0],[52,5,40,1],[53,4,40,1],[53,11,40,1,"_getWorkerProfile"],[53,28,40,1],[53,29,40,1,"apply"],[53,34,40,1],[53,41,40,1,"arguments"],[53,50,40,1],[54,2,40,1],[55,2,40,1],[55,11,43,22,"saveWorkerProfile"],[55,28,43,39,"saveWorkerProfile"],[55,29,43,39,"_x2"],[55,32,43,39],[55,34,43,39,"_x3"],[55,37,43,39],[56,4,43,39],[56,11,43,39,"_saveWorkerProfile"],[56,29,43,39],[56,30,43,39,"apply"],[56,35,43,39],[56,42,43,39,"arguments"],[56,51,43,39],[57,2,43,39],[58,2,43,39],[58,11,43,39,"_saveWorkerProfile"],[58,30,43,39],[59,4,43,39,"_saveWorkerProfile"],[59,22,43,39],[59,29,43,39,"_asyncToGenerator"],[59,46,43,39],[59,47,43,39,"default"],[59,54,43,39],[59,56,43,7],[59,67,44,2,"userId"],[59,73,44,16],[59,75,45,2,"profileData"],[59,86,45,37],[59,88,46,17],[60,6,47,2,"console"],[60,13,47,9],[60,14,47,10,"log"],[60,17,47,13],[60,18,47,14],[60,60,47,56],[60,62,47,58,"userId"],[60,68,47,64],[60,69,47,65],[61,6,48,2,"console"],[61,13,48,9],[61,14,48,10,"log"],[61,17,48,13],[61,18,48,14],[61,47,48,43],[61,49,48,45,"profileData"],[61,60,48,56],[61,61,48,57],[62,6,50,2],[62,10,50,6],[63,8,51,4],[63,12,51,10,"headers"],[63,19,51,17],[63,28,51,26],[63,32,51,26,"getAuthHeaders"],[63,36,51,40],[63,37,51,40,"getAuthHeaders"],[63,51,51,40],[63,53,51,41],[63,54,51,42],[65,8,53,4],[66,8,54,4],[66,12,54,8,"response"],[66,20,54,16],[66,29,54,25,"fetch"],[66,34,54,30],[66,35,54,31],[66,38,54,34,"API_BASE"],[66,42,54,42],[66,43,54,42,"API_BASE"],[66,51,54,42],[66,71,54,62,"userId"],[66,77,54,68],[66,79,54,70],[66,81,54,72],[67,10,55,6,"method"],[67,16,55,12],[67,18,55,14],[67,23,55,19],[68,10,56,6,"headers"],[68,17,56,13],[68,19,56,6,"headers"],[68,26,56,13],[69,10,57,6,"body"],[69,14,57,10],[69,16,57,12,"JSON"],[69,20,57,16],[69,21,57,17,"stringify"],[69,30,57,26],[69,31,57,27,"profileData"],[69,42,57,38],[70,8,58,4],[70,9,58,5],[70,10,58,6],[71,8,60,4,"console"],[71,15,60,11],[71,16,60,12,"log"],[71,19,60,15],[71,20,60,16],[71,64,60,60],[71,66,60,62,"response"],[71,74,60,70],[71,75,60,71,"status"],[71,81,60,77],[71,82,60,78],[73,8,62,4],[74,8,63,4],[74,12,63,8,"response"],[74,20,63,16],[74,21,63,17,"status"],[74,27,63,23],[74,32,63,28],[74,35,63,31],[74,37,63,33],[75,10,64,6,"console"],[75,17,64,13],[75,18,64,14,"log"],[75,21,64,17],[75,22,64,18],[75,86,64,82],[75,87,64,83],[76,10,66,6,"response"],[76,18,66,14],[76,27,66,23,"fetch"],[76,32,66,28],[76,33,66,29],[76,36,66,32,"API_BASE"],[76,40,66,40],[76,41,66,40,"API_BASE"],[76,49,66,40],[76,67,66,58],[76,69,66,60],[77,12,67,8,"method"],[77,18,67,14],[77,20,67,16],[77,26,67,22],[78,12,68,8,"headers"],[78,19,68,15],[78,21,68,8,"headers"],[78,28,68,15],[79,12,69,8,"body"],[79,16,69,12],[79,18,69,14,"JSON"],[79,22,69,18],[79,23,69,19,"stringify"],[79,32,69,28],[79,33,69,29,"profileData"],[79,44,69,40],[80,10,70,6],[80,11,70,7],[80,12,70,8],[81,10,72,6,"console"],[81,17,72,13],[81,18,72,14,"log"],[81,21,72,17],[81,22,72,18],[81,67,72,63],[81,69,72,65,"response"],[81,77,72,73],[81,78,72,74,"status"],[81,84,72,80],[81,85,72,81],[82,8,73,4],[83,8,75,4],[83,12,75,8],[83,13,75,9,"response"],[83,21,75,17],[83,22,75,18,"ok"],[83,24,75,20],[83,26,75,22],[84,10,76,6],[84,14,76,12,"errorText"],[84,23,76,21],[84,32,76,30,"response"],[84,40,76,38],[84,41,76,39,"text"],[84,45,76,43],[84,46,76,44],[84,47,76,45],[85,10,77,6,"console"],[85,17,77,13],[85,18,77,14,"error"],[85,23,77,19],[85,24,77,20],[85,61,77,57],[85,63,77,59,"errorText"],[85,72,77,68],[85,73,77,69],[86,10,78,6],[86,16,78,12],[86,20,78,16,"Error"],[86,25,78,21],[86,26,78,22],[86,42,78,38,"response"],[86,50,78,46],[86,51,78,47,"status"],[86,57,78,53],[86,62,78,58,"errorText"],[86,71,78,67],[86,73,78,69],[86,74,78,70],[87,8,79,4],[88,8,81,4],[88,12,81,10,"result"],[88,18,81,16],[88,27,81,25,"response"],[88,35,81,33],[88,36,81,34,"json"],[88,40,81,38],[88,41,81,39],[88,42,81,40],[89,8,82,4,"console"],[89,15,82,11],[89,16,82,12,"log"],[89,19,82,15],[89,20,82,16],[89,69,82,65],[89,71,82,67,"result"],[89,77,82,73],[89,78,82,74],[90,6,83,2],[90,7,83,3],[90,8,83,4],[90,15,83,11,"error"],[90,20,83,21],[90,22,83,23],[91,8,84,4,"console"],[91,15,84,11],[91,16,84,12,"error"],[91,21,84,17],[91,22,84,18],[91,55,84,51],[91,57,84,53,"error"],[91,62,84,58],[91,63,84,59,"message"],[91,70,84,66],[91,71,84,67],[92,8,85,4],[92,14,85,10,"error"],[92,19,85,15],[93,6,86,2],[94,4,87,0],[94,5,87,1],[95,4,87,1],[95,11,87,1,"_saveWorkerProfile"],[95,29,87,1],[95,30,87,1,"apply"],[95,35,87,1],[95,42,87,1,"arguments"],[95,51,87,1],[96,2,87,1],[97,0,87,1],[97,3]],"functionMap":{"names":["<global>","getWorkerProfile","saveWorkerProfile"],"mappings":"AAA;OCK;CDkC;OEG;CF4C"},"hasCjsExports":false},"type":"js/module"}]}