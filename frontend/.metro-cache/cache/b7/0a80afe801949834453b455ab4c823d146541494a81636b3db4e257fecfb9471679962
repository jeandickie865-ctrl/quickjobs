{"dependencies":[{"name":"./storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":57,"index":57}}],"key":"3rLtLV8J3gSw9c8Ep8Wpc3w/Yxg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.addJob = addJob;\n  exports.getJobs = getJobs;\n  exports.updateJob = updateJob;\n  exports.clearJobs = clearJobs;\n  exports.getAllJobs = getAllJobs;\n  exports.saveJob = saveJob;\n  exports.getEmployerJobs = getEmployerJobs;\n  exports.getOpenJobs = getOpenJobs;\n  exports.getJobById = getJobById;\n  var _storage = require(_dependencyMap[0], \"./storage\");\n  const JOBS_KEY = '@shiftmatch:jobs';\n\n  // Internal helper: Load all jobs from storage\n  async function loadJobs() {\n    const stored = await (0, _storage.getItem)(JOBS_KEY);\n    return stored ?? [];\n  }\n\n  // Internal helper: Save all jobs to storage\n  async function saveJobsInternal(jobs) {\n    await (0, _storage.setItem)(JOBS_KEY, jobs);\n  }\n  async function addJob(job) {\n    const jobs = await loadJobs();\n    await saveJobsInternal([...jobs, job]);\n  }\n  async function getJobs() {\n    return await loadJobs();\n  }\n  async function updateJob(id, patch) {\n    const jobs = await loadJobs();\n    const next = jobs.map(j => j.id === id ? {\n      ...j,\n      ...patch\n    } : j);\n    await saveJobsInternal(next);\n  }\n  async function clearJobs() {\n    await (0, _storage.removeItem)(JOBS_KEY);\n  }\n\n  // Legacy/convenience functions\n  async function getAllJobs() {\n    return await getJobs();\n  }\n  async function saveJob(job) {\n    const all = await loadJobs();\n    const existing = all.findIndex(j => j.id === job.id);\n    if (existing >= 0) {\n      await updateJob(job.id, job);\n    } else {\n      await addJob(job);\n    }\n  }\n  async function getEmployerJobs(employerId) {\n    const all = await loadJobs();\n    return all.filter(j => j.employerId === employerId);\n  }\n  async function getOpenJobs() {\n    const all = await loadJobs();\n    return all.filter(j => j.status === 'open');\n  }\n  async function getJobById(id) {\n    const all = await loadJobs();\n    return all.find(j => j.id === id) || null;\n  }\n});","lineCount":73,"map":[[7,2,17,0,"exports"],[7,9,17,0],[7,10,17,0,"addJob"],[7,16,17,0],[7,19,17,0,"addJob"],[7,25,17,0],[8,2,22,0,"exports"],[8,9,22,0],[8,10,22,0,"getJobs"],[8,17,22,0],[8,20,22,0,"getJobs"],[8,27,22,0],[9,2,26,0,"exports"],[9,9,26,0],[9,10,26,0,"updateJob"],[9,19,26,0],[9,22,26,0,"updateJob"],[9,31,26,0],[10,2,32,0,"exports"],[10,9,32,0],[10,10,32,0,"clearJobs"],[10,19,32,0],[10,22,32,0,"clearJobs"],[10,31,32,0],[11,2,37,0,"exports"],[11,9,37,0],[11,10,37,0,"getAllJobs"],[11,20,37,0],[11,23,37,0,"getAllJobs"],[11,33,37,0],[12,2,41,0,"exports"],[12,9,41,0],[12,10,41,0,"saveJob"],[12,17,41,0],[12,20,41,0,"saveJob"],[12,27,41,0],[13,2,51,0,"exports"],[13,9,51,0],[13,10,51,0,"getEmployerJobs"],[13,25,51,0],[13,28,51,0,"getEmployerJobs"],[13,43,51,0],[14,2,56,0,"exports"],[14,9,56,0],[14,10,56,0,"getOpenJobs"],[14,21,56,0],[14,24,56,0,"getOpenJobs"],[14,35,56,0],[15,2,61,0,"exports"],[15,9,61,0],[15,10,61,0,"getJobById"],[15,20,61,0],[15,23,61,0,"getJobById"],[15,33,61,0],[16,2,1,0],[16,6,1,0,"_storage"],[16,14,1,0],[16,17,1,0,"require"],[16,24,1,0],[16,25,1,0,"_dependencyMap"],[16,39,1,0],[17,2,4,0],[17,8,4,6,"JOBS_KEY"],[17,16,4,14],[17,19,4,17],[17,37,4,35],[19,2,6,0],[20,2,7,0],[20,17,7,15,"loadJobs"],[20,25,7,23,"loadJobs"],[20,26,7,23],[20,28,7,42],[21,4,8,2],[21,10,8,8,"stored"],[21,16,8,14],[21,19,8,17],[21,25,8,23],[21,29,8,23,"getItem"],[21,37,8,30],[21,38,8,30,"getItem"],[21,45,8,30],[21,47,8,38,"JOBS_KEY"],[21,55,8,46],[21,56,8,47],[22,4,9,2],[22,11,9,9,"stored"],[22,17,9,15],[22,21,9,19],[22,23,9,21],[23,2,10,0],[25,2,12,0],[26,2,13,0],[26,17,13,15,"saveJobsInternal"],[26,33,13,31,"saveJobsInternal"],[26,34,13,32,"jobs"],[26,38,13,43],[26,40,13,60],[27,4,14,2],[27,10,14,8],[27,14,14,8,"setItem"],[27,22,14,15],[27,23,14,15,"setItem"],[27,30,14,15],[27,32,14,23,"JOBS_KEY"],[27,40,14,31],[27,42,14,33,"jobs"],[27,46,14,37],[27,47,14,38],[28,2,15,0],[29,2,17,7],[29,17,17,22,"addJob"],[29,23,17,28,"addJob"],[29,24,17,29,"job"],[29,27,17,37],[29,29,17,54],[30,4,18,2],[30,10,18,8,"jobs"],[30,14,18,12],[30,17,18,15],[30,23,18,21,"loadJobs"],[30,31,18,29],[30,32,18,30],[30,33,18,31],[31,4,19,2],[31,10,19,8,"saveJobsInternal"],[31,26,19,24],[31,27,19,25],[31,28,19,26],[31,31,19,29,"jobs"],[31,35,19,33],[31,37,19,35,"job"],[31,40,19,38],[31,41,19,39],[31,42,19,40],[32,2,20,0],[33,2,22,7],[33,17,22,22,"getJobs"],[33,24,22,29,"getJobs"],[33,25,22,29],[33,27,22,48],[34,4,23,2],[34,11,23,9],[34,17,23,15,"loadJobs"],[34,25,23,23],[34,26,23,24],[34,27,23,25],[35,2,24,0],[36,2,26,7],[36,17,26,22,"updateJob"],[36,26,26,31,"updateJob"],[36,27,26,32,"id"],[36,29,26,42],[36,31,26,44,"patch"],[36,36,26,63],[36,38,26,80],[37,4,27,2],[37,10,27,8,"jobs"],[37,14,27,12],[37,17,27,15],[37,23,27,21,"loadJobs"],[37,31,27,29],[37,32,27,30],[37,33,27,31],[38,4,28,2],[38,10,28,8,"next"],[38,14,28,12],[38,17,28,15,"jobs"],[38,21,28,19],[38,22,28,20,"map"],[38,25,28,23],[38,26,28,24,"j"],[38,27,28,25],[38,31,28,30,"j"],[38,32,28,31],[38,33,28,32,"id"],[38,35,28,34],[38,40,28,39,"id"],[38,42,28,41],[38,45,28,44],[39,6,28,46],[39,9,28,49,"j"],[39,10,28,50],[40,6,28,52],[40,9,28,55,"patch"],[41,4,28,61],[41,5,28,62],[41,8,28,65,"j"],[41,9,28,67],[41,10,28,68],[42,4,29,2],[42,10,29,8,"saveJobsInternal"],[42,26,29,24],[42,27,29,25,"next"],[42,31,29,29],[42,32,29,30],[43,2,30,0],[44,2,32,7],[44,17,32,22,"clearJobs"],[44,26,32,31,"clearJobs"],[44,27,32,31],[44,29,32,49],[45,4,33,2],[45,10,33,8],[45,14,33,8,"removeItem"],[45,22,33,18],[45,23,33,18,"removeItem"],[45,33,33,18],[45,35,33,19,"JOBS_KEY"],[45,43,33,27],[45,44,33,28],[46,2,34,0],[48,2,36,0],[49,2,37,7],[49,17,37,22,"getAllJobs"],[49,27,37,32,"getAllJobs"],[49,28,37,32],[49,30,37,51],[50,4,38,2],[50,11,38,9],[50,17,38,15,"getJobs"],[50,24,38,22],[50,25,38,23],[50,26,38,24],[51,2,39,0],[52,2,41,7],[52,17,41,22,"saveJob"],[52,24,41,29,"saveJob"],[52,25,41,30,"job"],[52,28,41,38],[52,30,41,55],[53,4,42,2],[53,10,42,8,"all"],[53,13,42,11],[53,16,42,14],[53,22,42,20,"loadJobs"],[53,30,42,28],[53,31,42,29],[53,32,42,30],[54,4,43,2],[54,10,43,8,"existing"],[54,18,43,16],[54,21,43,19,"all"],[54,24,43,22],[54,25,43,23,"findIndex"],[54,34,43,32],[54,35,43,33,"j"],[54,36,43,34],[54,40,43,38,"j"],[54,41,43,39],[54,42,43,40,"id"],[54,44,43,42],[54,49,43,47,"job"],[54,52,43,50],[54,53,43,51,"id"],[54,55,43,53],[54,56,43,54],[55,4,44,2],[55,8,44,6,"existing"],[55,16,44,14],[55,20,44,18],[55,21,44,19],[55,23,44,21],[56,6,45,4],[56,12,45,10,"updateJob"],[56,21,45,19],[56,22,45,20,"job"],[56,25,45,23],[56,26,45,24,"id"],[56,28,45,26],[56,30,45,28,"job"],[56,33,45,31],[56,34,45,32],[57,4,46,2],[57,5,46,3],[57,11,46,9],[58,6,47,4],[58,12,47,10,"addJob"],[58,18,47,16],[58,19,47,17,"job"],[58,22,47,20],[58,23,47,21],[59,4,48,2],[60,2,49,0],[61,2,51,7],[61,17,51,22,"getEmployerJobs"],[61,32,51,37,"getEmployerJobs"],[61,33,51,38,"employerId"],[61,43,51,56],[61,45,51,74],[62,4,52,2],[62,10,52,8,"all"],[62,13,52,11],[62,16,52,14],[62,22,52,20,"loadJobs"],[62,30,52,28],[62,31,52,29],[62,32,52,30],[63,4,53,2],[63,11,53,9,"all"],[63,14,53,12],[63,15,53,13,"filter"],[63,21,53,19],[63,22,53,20,"j"],[63,23,53,21],[63,27,53,25,"j"],[63,28,53,26],[63,29,53,27,"employerId"],[63,39,53,37],[63,44,53,42,"employerId"],[63,54,53,52],[63,55,53,53],[64,2,54,0],[65,2,56,7],[65,17,56,22,"getOpenJobs"],[65,28,56,33,"getOpenJobs"],[65,29,56,33],[65,31,56,52],[66,4,57,2],[66,10,57,8,"all"],[66,13,57,11],[66,16,57,14],[66,22,57,20,"loadJobs"],[66,30,57,28],[66,31,57,29],[66,32,57,30],[67,4,58,2],[67,11,58,9,"all"],[67,14,58,12],[67,15,58,13,"filter"],[67,21,58,19],[67,22,58,20,"j"],[67,23,58,21],[67,27,58,25,"j"],[67,28,58,26],[67,29,58,27,"status"],[67,35,58,33],[67,40,58,38],[67,46,58,44],[67,47,58,45],[68,2,59,0],[69,2,61,7],[69,17,61,22,"getJobById"],[69,27,61,32,"getJobById"],[69,28,61,33,"id"],[69,30,61,43],[69,32,61,66],[70,4,62,2],[70,10,62,8,"all"],[70,13,62,11],[70,16,62,14],[70,22,62,20,"loadJobs"],[70,30,62,28],[70,31,62,29],[70,32,62,30],[71,4,63,2],[71,11,63,9,"all"],[71,14,63,12],[71,15,63,13,"find"],[71,19,63,17],[71,20,63,18,"j"],[71,21,63,19],[71,25,63,23,"j"],[71,26,63,24],[71,27,63,25,"id"],[71,29,63,27],[71,34,63,32,"id"],[71,36,63,34],[71,37,63,35],[71,41,63,39],[71,45,63,43],[72,2,64,0],[73,0,64,1],[73,3]],"functionMap":{"names":["<global>","loadJobs","saveJobsInternal","addJob","getJobs","updateJob","jobs.map$argument_0","clearJobs","getAllJobs","saveJob","all.findIndex$argument_0","getEmployerJobs","all.filter$argument_0","getOpenJobs","getJobById","all.find$argument_0"],"mappings":"AAA;ACM;CDG;AEG;CFE;OGE;CHG;OIE;CJE;OKE;wBCE,2CD;CLE;OOE;CPE;OQG;CRE;OSE;iCCE,oBD;CTM;OWE;oBCE,gCD;CXC;OaE;oBDE,wBC;CbC;OcE;kBCE,gBD;CdC"},"hasCjsExports":false},"type":"js/module"}]}