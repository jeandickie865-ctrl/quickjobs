{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = getActionFromState;\n  function getActionFromState(state, options) {\n    var _normalizedConfig$scr;\n    // Create a normalized configs object which will be easier to use\n    const normalizedConfig = options ? createNormalizedConfigItem(options) : {};\n    const routes = state.index != null ? state.routes.slice(0, state.index + 1) : state.routes;\n    if (routes.length === 0) {\n      return undefined;\n    }\n    if (!(routes.length === 1 && routes[0].key === undefined || routes.length === 2 && routes[0].key === undefined && routes[0].name === (normalizedConfig === null || normalizedConfig === void 0 ? void 0 : normalizedConfig.initialRouteName) && routes[1].key === undefined)) {\n      return {\n        type: 'RESET',\n        payload: state\n      };\n    }\n    const route = state.routes[state.index ?? state.routes.length - 1];\n    let current = route === null || route === void 0 ? void 0 : route.state;\n    let config = normalizedConfig === null || normalizedConfig === void 0 ? void 0 : (_normalizedConfig$scr = normalizedConfig.screens) === null || _normalizedConfig$scr === void 0 ? void 0 : _normalizedConfig$scr[route === null || route === void 0 ? void 0 : route.name];\n    let params = Object.assign({}, route.params);\n    let payload = route ? {\n      name: route.name,\n      path: route.path,\n      params\n    } : undefined;\n    while (current) {\n      var _config, _config2, _config2$screens;\n      if (current.routes.length === 0) {\n        return undefined;\n      }\n      const routes = current.index != null ? current.routes.slice(0, current.index + 1) : current.routes;\n      const route = routes[routes.length - 1];\n\n      // Explicitly set to override existing value when merging params\n      Object.assign(params, {\n        initial: undefined,\n        screen: undefined,\n        params: undefined,\n        state: undefined\n      });\n      if (routes.length === 1 && routes[0].key === undefined) {\n        params.initial = true;\n        params.screen = route.name;\n      } else if (routes.length === 2 && routes[0].key === undefined && routes[0].name === ((_config = config) === null || _config === void 0 ? void 0 : _config.initialRouteName) && routes[1].key === undefined) {\n        params.initial = false;\n        params.screen = route.name;\n      } else {\n        params.state = current;\n        break;\n      }\n      if (route.state) {\n        params.params = Object.assign({}, route.params);\n        params = params.params;\n      } else {\n        params.path = route.path;\n        params.params = route.params;\n      }\n      current = route.state;\n      config = (_config2 = config) === null || _config2 === void 0 ? void 0 : (_config2$screens = _config2.screens) === null || _config2$screens === void 0 ? void 0 : _config2$screens[route.name];\n    }\n    if (!payload) {\n      return;\n    }\n\n    // Try to construct payload for a `NAVIGATE` action from the state\n    // This lets us preserve the navigation state and not lose it\n    return {\n      type: 'NAVIGATE',\n      payload\n    };\n  }\n  const createNormalizedConfigItem = config => typeof config === 'object' && config != null ? {\n    initialRouteName: config.initialRouteName,\n    screens: config.screens != null ? createNormalizedConfigs(config.screens) : undefined\n  } : {};\n  const createNormalizedConfigs = options => Object.entries(options).reduce((acc, _ref) => {\n    let [k, v] = _ref;\n    acc[k] = createNormalizedConfigItem(v);\n    return acc;\n  }, {});\n});","lineCount":84,"map":[[6,2,1,15],[6,11,1,24,"getActionFromState"],[6,29,1,42,"getActionFromState"],[6,30,1,43,"state"],[6,35,1,48],[6,37,1,50,"options"],[6,44,1,57],[6,46,1,59],[7,4,2,2],[7,8,2,6,"_normalizedConfig$scr"],[7,29,2,27],[8,4,3,2],[9,4,4,2],[9,10,4,8,"normalizedConfig"],[9,26,4,24],[9,29,4,27,"options"],[9,36,4,34],[9,39,4,37,"createNormalizedConfigItem"],[9,65,4,63],[9,66,4,64,"options"],[9,73,4,71],[9,74,4,72],[9,77,4,75],[9,78,4,76],[9,79,4,77],[10,4,5,2],[10,10,5,8,"routes"],[10,16,5,14],[10,19,5,17,"state"],[10,24,5,22],[10,25,5,23,"index"],[10,30,5,28],[10,34,5,32],[10,38,5,36],[10,41,5,39,"state"],[10,46,5,44],[10,47,5,45,"routes"],[10,53,5,51],[10,54,5,52,"slice"],[10,59,5,57],[10,60,5,58],[10,61,5,59],[10,63,5,61,"state"],[10,68,5,66],[10,69,5,67,"index"],[10,74,5,72],[10,77,5,75],[10,78,5,76],[10,79,5,77],[10,82,5,80,"state"],[10,87,5,85],[10,88,5,86,"routes"],[10,94,5,92],[11,4,6,2],[11,8,6,6,"routes"],[11,14,6,12],[11,15,6,13,"length"],[11,21,6,19],[11,26,6,24],[11,27,6,25],[11,29,6,27],[12,6,7,4],[12,13,7,11,"undefined"],[12,22,7,20],[13,4,8,2],[14,4,9,2],[14,8,9,6],[14,10,9,8,"routes"],[14,16,9,14],[14,17,9,15,"length"],[14,23,9,21],[14,28,9,26],[14,29,9,27],[14,33,9,31,"routes"],[14,39,9,37],[14,40,9,38],[14,41,9,39],[14,42,9,40],[14,43,9,41,"key"],[14,46,9,44],[14,51,9,49,"undefined"],[14,60,9,58],[14,64,9,62,"routes"],[14,70,9,68],[14,71,9,69,"length"],[14,77,9,75],[14,82,9,80],[14,83,9,81],[14,87,9,85,"routes"],[14,93,9,91],[14,94,9,92],[14,95,9,93],[14,96,9,94],[14,97,9,95,"key"],[14,100,9,98],[14,105,9,103,"undefined"],[14,114,9,112],[14,118,9,116,"routes"],[14,124,9,122],[14,125,9,123],[14,126,9,124],[14,127,9,125],[14,128,9,126,"name"],[14,132,9,130],[14,138,9,136,"normalizedConfig"],[14,154,9,152],[14,159,9,157],[14,163,9,161],[14,167,9,165,"normalizedConfig"],[14,183,9,181],[14,188,9,186],[14,193,9,191],[14,194,9,192],[14,197,9,195],[14,202,9,200],[14,203,9,201],[14,206,9,204,"normalizedConfig"],[14,222,9,220],[14,223,9,221,"initialRouteName"],[14,239,9,237],[14,240,9,238],[14,244,9,242,"routes"],[14,250,9,248],[14,251,9,249],[14,252,9,250],[14,253,9,251],[14,254,9,252,"key"],[14,257,9,255],[14,262,9,260,"undefined"],[14,271,9,269],[14,272,9,270],[14,274,9,272],[15,6,10,4],[15,13,10,11],[16,8,11,6,"type"],[16,12,11,10],[16,14,11,12],[16,21,11,19],[17,8,12,6,"payload"],[17,15,12,13],[17,17,12,15,"state"],[18,6,13,4],[18,7,13,5],[19,4,14,2],[20,4,15,2],[20,10,15,8,"route"],[20,15,15,13],[20,18,15,16,"state"],[20,23,15,21],[20,24,15,22,"routes"],[20,30,15,28],[20,31,15,29,"state"],[20,36,15,34],[20,37,15,35,"index"],[20,42,15,40],[20,46,15,44,"state"],[20,51,15,49],[20,52,15,50,"routes"],[20,58,15,56],[20,59,15,57,"length"],[20,65,15,63],[20,68,15,66],[20,69,15,67],[20,70,15,68],[21,4,16,2],[21,8,16,6,"current"],[21,15,16,13],[21,18,16,16,"route"],[21,23,16,21],[21,28,16,26],[21,32,16,30],[21,36,16,34,"route"],[21,41,16,39],[21,46,16,44],[21,51,16,49],[21,52,16,50],[21,55,16,53],[21,60,16,58],[21,61,16,59],[21,64,16,62,"route"],[21,69,16,67],[21,70,16,68,"state"],[21,75,16,73],[22,4,17,2],[22,8,17,6,"config"],[22,14,17,12],[22,17,17,15,"normalizedConfig"],[22,33,17,31],[22,38,17,36],[22,42,17,40],[22,46,17,44,"normalizedConfig"],[22,62,17,60],[22,67,17,65],[22,72,17,70],[22,73,17,71],[22,76,17,74],[22,81,17,79],[22,82,17,80],[22,85,17,83],[22,86,17,84,"_normalizedConfig$scr"],[22,107,17,105],[22,110,17,108,"normalizedConfig"],[22,126,17,124],[22,127,17,125,"screens"],[22,134,17,132],[22,140,17,138],[22,144,17,142],[22,148,17,146,"_normalizedConfig$scr"],[22,169,17,167],[22,174,17,172],[22,179,17,177],[22,180,17,178],[22,183,17,181],[22,188,17,186],[22,189,17,187],[22,192,17,190,"_normalizedConfig$scr"],[22,213,17,211],[22,214,17,212,"route"],[22,219,17,217],[22,224,17,222],[22,228,17,226],[22,232,17,230,"route"],[22,237,17,235],[22,242,17,240],[22,247,17,245],[22,248,17,246],[22,251,17,249],[22,256,17,254],[22,257,17,255],[22,260,17,258,"route"],[22,265,17,263],[22,266,17,264,"name"],[22,270,17,268],[22,271,17,269],[23,4,18,2],[23,8,18,6,"params"],[23,14,18,12],[23,17,18,12,"Object"],[23,23,18,12],[23,24,18,12,"assign"],[23,30,18,12],[23,35,19,7,"route"],[23,40,19,12],[23,41,19,13,"params"],[23,47,19,19],[23,48,20,3],[24,4,21,2],[24,8,21,6,"payload"],[24,15,21,13],[24,18,21,16,"route"],[24,23,21,21],[24,26,21,24],[25,6,22,4,"name"],[25,10,22,8],[25,12,22,10,"route"],[25,17,22,15],[25,18,22,16,"name"],[25,22,22,20],[26,6,23,4,"path"],[26,10,23,8],[26,12,23,10,"route"],[26,17,23,15],[26,18,23,16,"path"],[26,22,23,20],[27,6,24,4,"params"],[28,4,25,2],[28,5,25,3],[28,8,25,6,"undefined"],[28,17,25,15],[29,4,26,2],[29,11,26,9,"current"],[29,18,26,16],[29,20,26,18],[30,6,27,4],[30,10,27,8,"_config"],[30,17,27,15],[30,19,27,17,"_config2"],[30,27,27,25],[30,29,27,27,"_config2$screens"],[30,45,27,43],[31,6,28,4],[31,10,28,8,"current"],[31,17,28,15],[31,18,28,16,"routes"],[31,24,28,22],[31,25,28,23,"length"],[31,31,28,29],[31,36,28,34],[31,37,28,35],[31,39,28,37],[32,8,29,6],[32,15,29,13,"undefined"],[32,24,29,22],[33,6,30,4],[34,6,31,4],[34,12,31,10,"routes"],[34,18,31,16],[34,21,31,19,"current"],[34,28,31,26],[34,29,31,27,"index"],[34,34,31,32],[34,38,31,36],[34,42,31,40],[34,45,31,43,"current"],[34,52,31,50],[34,53,31,51,"routes"],[34,59,31,57],[34,60,31,58,"slice"],[34,65,31,63],[34,66,31,64],[34,67,31,65],[34,69,31,67,"current"],[34,76,31,74],[34,77,31,75,"index"],[34,82,31,80],[34,85,31,83],[34,86,31,84],[34,87,31,85],[34,90,31,88,"current"],[34,97,31,95],[34,98,31,96,"routes"],[34,104,31,102],[35,6,32,4],[35,12,32,10,"route"],[35,17,32,15],[35,20,32,18,"routes"],[35,26,32,24],[35,27,32,25,"routes"],[35,33,32,31],[35,34,32,32,"length"],[35,40,32,38],[35,43,32,41],[35,44,32,42],[35,45,32,43],[37,6,34,4],[38,6,35,4,"Object"],[38,12,35,10],[38,13,35,11,"assign"],[38,19,35,17],[38,20,35,18,"params"],[38,26,35,24],[38,28,35,26],[39,8,36,6,"initial"],[39,15,36,13],[39,17,36,15,"undefined"],[39,26,36,24],[40,8,37,6,"screen"],[40,14,37,12],[40,16,37,14,"undefined"],[40,25,37,23],[41,8,38,6,"params"],[41,14,38,12],[41,16,38,14,"undefined"],[41,25,38,23],[42,8,39,6,"state"],[42,13,39,11],[42,15,39,13,"undefined"],[43,6,40,4],[43,7,40,5],[43,8,40,6],[44,6,41,4],[44,10,41,8,"routes"],[44,16,41,14],[44,17,41,15,"length"],[44,23,41,21],[44,28,41,26],[44,29,41,27],[44,33,41,31,"routes"],[44,39,41,37],[44,40,41,38],[44,41,41,39],[44,42,41,40],[44,43,41,41,"key"],[44,46,41,44],[44,51,41,49,"undefined"],[44,60,41,58],[44,62,41,60],[45,8,42,6,"params"],[45,14,42,12],[45,15,42,13,"initial"],[45,22,42,20],[45,25,42,23],[45,29,42,27],[46,8,43,6,"params"],[46,14,43,12],[46,15,43,13,"screen"],[46,21,43,19],[46,24,43,22,"route"],[46,29,43,27],[46,30,43,28,"name"],[46,34,43,32],[47,6,44,4],[47,7,44,5],[47,13,44,11],[47,17,44,15,"routes"],[47,23,44,21],[47,24,44,22,"length"],[47,30,44,28],[47,35,44,33],[47,36,44,34],[47,40,44,38,"routes"],[47,46,44,44],[47,47,44,45],[47,48,44,46],[47,49,44,47],[47,50,44,48,"key"],[47,53,44,51],[47,58,44,56,"undefined"],[47,67,44,65],[47,71,44,69,"routes"],[47,77,44,75],[47,78,44,76],[47,79,44,77],[47,80,44,78],[47,81,44,79,"name"],[47,85,44,83],[47,91,44,89],[47,92,44,90,"_config"],[47,99,44,97],[47,102,44,100,"config"],[47,108,44,106],[47,114,44,112],[47,118,44,116],[47,122,44,120,"_config"],[47,129,44,127],[47,134,44,132],[47,139,44,137],[47,140,44,138],[47,143,44,141],[47,148,44,146],[47,149,44,147],[47,152,44,150,"_config"],[47,159,44,157],[47,160,44,158,"initialRouteName"],[47,176,44,174],[47,177,44,175],[47,181,44,179,"routes"],[47,187,44,185],[47,188,44,186],[47,189,44,187],[47,190,44,188],[47,191,44,189,"key"],[47,194,44,192],[47,199,44,197,"undefined"],[47,208,44,206],[47,210,44,208],[48,8,45,6,"params"],[48,14,45,12],[48,15,45,13,"initial"],[48,22,45,20],[48,25,45,23],[48,30,45,28],[49,8,46,6,"params"],[49,14,46,12],[49,15,46,13,"screen"],[49,21,46,19],[49,24,46,22,"route"],[49,29,46,27],[49,30,46,28,"name"],[49,34,46,32],[50,6,47,4],[50,7,47,5],[50,13,47,11],[51,8,48,6,"params"],[51,14,48,12],[51,15,48,13,"state"],[51,20,48,18],[51,23,48,21,"current"],[51,30,48,28],[52,8,49,6],[53,6,50,4],[54,6,51,4],[54,10,51,8,"route"],[54,15,51,13],[54,16,51,14,"state"],[54,21,51,19],[54,23,51,21],[55,8,52,6,"params"],[55,14,52,12],[55,15,52,13,"params"],[55,21,52,19],[55,24,52,19,"Object"],[55,30,52,19],[55,31,52,19,"assign"],[55,37,52,19],[55,42,53,11,"route"],[55,47,53,16],[55,48,53,17,"params"],[55,54,53,23],[55,55,54,7],[56,8,55,6,"params"],[56,14,55,12],[56,17,55,15,"params"],[56,23,55,21],[56,24,55,22,"params"],[56,30,55,28],[57,6,56,4],[57,7,56,5],[57,13,56,11],[58,8,57,6,"params"],[58,14,57,12],[58,15,57,13,"path"],[58,19,57,17],[58,22,57,20,"route"],[58,27,57,25],[58,28,57,26,"path"],[58,32,57,30],[59,8,58,6,"params"],[59,14,58,12],[59,15,58,13,"params"],[59,21,58,19],[59,24,58,22,"route"],[59,29,58,27],[59,30,58,28,"params"],[59,36,58,34],[60,6,59,4],[61,6,60,4,"current"],[61,13,60,11],[61,16,60,14,"route"],[61,21,60,19],[61,22,60,20,"state"],[61,27,60,25],[62,6,61,4,"config"],[62,12,61,10],[62,15,61,13],[62,16,61,14,"_config2"],[62,24,61,22],[62,27,61,25,"config"],[62,33,61,31],[62,39,61,37],[62,43,61,41],[62,47,61,45,"_config2"],[62,55,61,53],[62,60,61,58],[62,65,61,63],[62,66,61,64],[62,69,61,67],[62,74,61,72],[62,75,61,73],[62,78,61,76],[62,79,61,77,"_config2$screens"],[62,95,61,93],[62,98,61,96,"_config2"],[62,106,61,104],[62,107,61,105,"screens"],[62,114,61,112],[62,120,61,118],[62,124,61,122],[62,128,61,126,"_config2$screens"],[62,144,61,142],[62,149,61,147],[62,154,61,152],[62,155,61,153],[62,158,61,156],[62,163,61,161],[62,164,61,162],[62,167,61,165,"_config2$screens"],[62,183,61,181],[62,184,61,182,"route"],[62,189,61,187],[62,190,61,188,"name"],[62,194,61,192],[62,195,61,193],[63,4,62,2],[64,4,63,2],[64,8,63,6],[64,9,63,7,"payload"],[64,16,63,14],[64,18,63,16],[65,6,64,4],[66,4,65,2],[68,4,67,2],[69,4,68,2],[70,4,69,2],[70,11,69,9],[71,6,70,4,"type"],[71,10,70,8],[71,12,70,10],[71,22,70,20],[72,6,71,4,"payload"],[73,4,72,2],[73,5,72,3],[74,2,73,0],[75,2,74,0],[75,8,74,6,"createNormalizedConfigItem"],[75,34,74,32],[75,37,74,35,"config"],[75,43,74,41],[75,47,74,45],[75,54,74,52,"config"],[75,60,74,58],[75,65,74,63],[75,73,74,71],[75,77,74,75,"config"],[75,83,74,81],[75,87,74,85],[75,91,74,89],[75,94,74,92],[76,4,75,2,"initialRouteName"],[76,20,75,18],[76,22,75,20,"config"],[76,28,75,26],[76,29,75,27,"initialRouteName"],[76,45,75,43],[77,4,76,2,"screens"],[77,11,76,9],[77,13,76,11,"config"],[77,19,76,17],[77,20,76,18,"screens"],[77,27,76,25],[77,31,76,29],[77,35,76,33],[77,38,76,36,"createNormalizedConfigs"],[77,61,76,59],[77,62,76,60,"config"],[77,68,76,66],[77,69,76,67,"screens"],[77,76,76,74],[77,77,76,75],[77,80,76,78,"undefined"],[78,2,77,0],[78,3,77,1],[78,6,77,4],[78,7,77,5],[78,8,77,6],[79,2,78,0],[79,8,78,6,"createNormalizedConfigs"],[79,31,78,29],[79,34,78,32,"options"],[79,41,78,39],[79,45,78,43,"Object"],[79,51,78,49],[79,52,78,50,"entries"],[79,59,78,57],[79,60,78,58,"options"],[79,67,78,65],[79,68,78,66],[79,69,78,67,"reduce"],[79,75,78,73],[79,76,78,74],[79,77,78,75,"acc"],[79,80,78,78],[79,82,78,80,"_ref"],[79,86,78,84],[79,91,78,89],[80,4,79,2],[80,8,79,6],[80,9,79,7,"k"],[80,10,79,8],[80,12,79,10,"v"],[80,13,79,11],[80,14,79,12],[80,17,79,15,"_ref"],[80,21,79,19],[81,4,80,2,"acc"],[81,7,80,5],[81,8,80,6,"k"],[81,9,80,7],[81,10,80,8],[81,13,80,11,"createNormalizedConfigItem"],[81,39,80,37],[81,40,80,38,"v"],[81,41,80,39],[81,42,80,40],[82,4,81,2],[82,11,81,9,"acc"],[82,14,81,12],[83,2,82,0],[83,3,82,1],[83,5,82,3],[83,6,82,4],[83,7,82,5],[83,8,82,6],[84,0,82,7]],"functionMap":{"names":["<global>","getActionFromState","createNormalizedConfigItem","createNormalizedConfigs","Object.entries.reduce$argument_0"],"mappings":"AAA,eC;CDwE;mCEC;MFG;gCGC,0CC;CDI,KH"}},"type":"js/module"}]}