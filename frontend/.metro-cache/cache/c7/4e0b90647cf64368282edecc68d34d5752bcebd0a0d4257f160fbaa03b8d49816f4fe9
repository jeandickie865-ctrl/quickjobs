{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.isMatch = isMatch;\n  exports.calculateDistance = calculateDistance;\n  exports.filterMatchingJobs = filterMatchingJobs;\n  exports.calculateMatchScore = calculateMatchScore;\n  exports.sortJobsByMatch = sortJobsByMatch;\n  exports.jobWithinRadius = jobWithinRadius;\n  exports.jobMatchesWorker = jobMatchesWorker;\n  function haversineKm(lat1, lon1, lat2, lon2) {\n    const R = 6371;\n    const dLat = (lat2 - lat1) * Math.PI / 180;\n    const dLon = (lon2 - lon1) * Math.PI / 180;\n    const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * Math.sin(dLon / 2) * Math.sin(dLon / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    return R * c;\n  }\n\n  /**\n   * Check if a job matches a worker's profile\n   * \n   * Matching criteria:\n   * 1. Job category must be in worker's selected categories\n   * 2. Job location must be within worker's search radius\n   * 3. Worker must have ALL tags from required_all_tags\n   * 4. Worker must have AT LEAST ONE tag from required_any_tags (if any are specified)\n   */\n  function isMatch(job, profile) {\n    // Check category\n    if (!profile.categories.includes(job.category)) return false;\n\n    // Check required_all_tags\n    const have = new Set(profile.tags);\n    if (!job.required_all_tags.every(t => have.has(t))) return false;\n\n    // Check required_any_tags\n    if (job.required_any_tags.length > 0 && !job.required_any_tags.some(t => have.has(t))) return false;\n\n    // Check distance\n    const dist = haversineKm(profile.homeLat, profile.homeLon, job.lat, job.lon);\n    if (dist > profile.radiusKm) return false;\n    return true;\n  }\n  function calculateDistance(lat1, lon1, lat2, lon2) {\n    return haversineKm(lat1, lon1, lat2, lon2);\n  }\n\n  /**\n   * Filter jobs that match the worker profile\n   */\n  function filterMatchingJobs(jobs, profile) {\n    return jobs.filter(job => isMatch(job, profile));\n  }\n\n  /**\n   * Calculate match score (0-100) for sorting\n   * Higher score = better match\n   */\n  function calculateMatchScore(job, profile) {\n    let score = 0;\n\n    // Distance score (closer = better): max 40 points\n    const distance = calculateDistance(profile.homeLat, profile.homeLon, job.lat, job.lon);\n    const distanceScore = Math.max(0, 40 * (1 - distance / profile.radiusKm));\n    score += distanceScore;\n\n    // Tag match score: max 40 points\n    const workerTagSet = new Set(profile.tags);\n    const allJobTags = [...job.required_all_tags, ...job.required_any_tags];\n    const matchingTags = allJobTags.filter(tag => workerTagSet.has(tag));\n    if (allJobTags.length > 0) {\n      const tagMatchRatio = matchingTags.length / allJobTags.length;\n      score += 40 * tagMatchRatio;\n    } else {\n      // No specific tags required = bonus\n      score += 20;\n    }\n\n    // Pay score: max 20 points (higher pay = higher score)\n    const payScore = Math.min(20, job.workerAmountCents / 10000 * 20);\n    score += payScore;\n    return Math.round(score);\n  }\n  function sortJobsByMatch(jobs, profile) {\n    return jobs.sort((a, b) => {\n      const scoreA = calculateMatchScore(a, profile);\n      const scoreB = calculateMatchScore(b, profile);\n      return scoreB - scoreA; // Higher score first\n    });\n  }\n\n  /**\n   * Check if job is within worker's radius\n   */\n  function jobWithinRadius(job, profile) {\n    if (!profile.radiusKm || profile.radiusKm <= 0) return true;\n    if (job.lat === undefined || job.lon === undefined) return true;\n    if (profile.homeLat === undefined || profile.homeLon === undefined) return true;\n    const distance = haversineKm(profile.homeLat, profile.homeLon, job.lat, job.lon);\n    return distance <= profile.radiusKm;\n  }\n\n  /**\n   * Alias for isMatch - check if job matches worker profile\n   */\n  function jobMatchesWorker(job, profile) {\n    return isMatch(job, profile);\n  }\n});","lineCount":113,"map":[[7,2,25,0,"exports"],[7,9,25,0],[7,10,25,0,"isMatch"],[7,17,25,0],[7,20,25,0,"isMatch"],[7,27,25,0],[8,2,43,0,"exports"],[8,9,43,0],[8,10,43,0,"calculateDistance"],[8,27,43,0],[8,30,43,0,"calculateDistance"],[8,47,43,0],[9,2,50,0,"exports"],[9,9,50,0],[9,10,50,0,"filterMatchingJobs"],[9,28,50,0],[9,31,50,0,"filterMatchingJobs"],[9,49,50,0],[10,2,58,0,"exports"],[10,9,58,0],[10,10,58,0,"calculateMatchScore"],[10,29,58,0],[10,32,58,0,"calculateMatchScore"],[10,51,58,0],[11,2,85,0,"exports"],[11,9,85,0],[11,10,85,0,"sortJobsByMatch"],[11,25,85,0],[11,28,85,0,"sortJobsByMatch"],[11,43,85,0],[12,2,99,0,"exports"],[12,9,99,0],[12,10,99,0,"jobWithinRadius"],[12,25,99,0],[12,28,99,0,"jobWithinRadius"],[12,43,99,0],[13,2,110,0,"exports"],[13,9,110,0],[13,10,110,0,"jobMatchesWorker"],[13,26,110,0],[13,29,110,0,"jobMatchesWorker"],[13,45,110,0],[14,2,4,0],[14,11,4,9,"haversineKm"],[14,22,4,20,"haversineKm"],[14,23,4,21,"lat1"],[14,27,4,33],[14,29,4,35,"lon1"],[14,33,4,47],[14,35,4,49,"lat2"],[14,39,4,61],[14,41,4,63,"lon2"],[14,45,4,75],[14,47,4,85],[15,4,5,2],[15,10,5,8,"R"],[15,11,5,9],[15,14,5,12],[15,18,5,16],[16,4,6,2],[16,10,6,8,"dLat"],[16,14,6,12],[16,17,6,15],[16,18,6,16,"lat2"],[16,22,6,20],[16,25,6,23,"lat1"],[16,29,6,27],[16,33,6,31,"Math"],[16,37,6,35],[16,38,6,36,"PI"],[16,40,6,38],[16,43,6,41],[16,46,6,44],[17,4,7,2],[17,10,7,8,"dLon"],[17,14,7,12],[17,17,7,15],[17,18,7,16,"lon2"],[17,22,7,20],[17,25,7,23,"lon1"],[17,29,7,27],[17,33,7,31,"Math"],[17,37,7,35],[17,38,7,36,"PI"],[17,40,7,38],[17,43,7,41],[17,46,7,44],[18,4,8,2],[18,10,8,8,"a"],[18,11,8,9],[18,14,9,4,"Math"],[18,18,9,8],[18,19,9,9,"sin"],[18,22,9,12],[18,23,9,13,"dLat"],[18,27,9,17],[18,30,9,20],[18,31,9,21],[18,32,9,22],[18,35,9,25,"Math"],[18,39,9,29],[18,40,9,30,"sin"],[18,43,9,33],[18,44,9,34,"dLat"],[18,48,9,38],[18,51,9,41],[18,52,9,42],[18,53,9,43],[18,56,10,4,"Math"],[18,60,10,8],[18,61,10,9,"cos"],[18,64,10,12],[18,65,10,13,"lat1"],[18,69,10,17],[18,72,10,20,"Math"],[18,76,10,24],[18,77,10,25,"PI"],[18,79,10,27],[18,82,10,30],[18,85,10,33],[18,86,10,34],[18,89,10,37,"Math"],[18,93,10,41],[18,94,10,42,"cos"],[18,97,10,45],[18,98,10,46,"lat2"],[18,102,10,50],[18,105,10,53,"Math"],[18,109,10,57],[18,110,10,58,"PI"],[18,112,10,60],[18,115,10,63],[18,118,10,66],[18,119,10,67],[18,122,11,4,"Math"],[18,126,11,8],[18,127,11,9,"sin"],[18,130,11,12],[18,131,11,13,"dLon"],[18,135,11,17],[18,138,11,20],[18,139,11,21],[18,140,11,22],[18,143,11,25,"Math"],[18,147,11,29],[18,148,11,30,"sin"],[18,151,11,33],[18,152,11,34,"dLon"],[18,156,11,38],[18,159,11,41],[18,160,11,42],[18,161,11,43],[19,4,12,2],[19,10,12,8,"c"],[19,11,12,9],[19,14,12,12],[19,15,12,13],[19,18,12,16,"Math"],[19,22,12,20],[19,23,12,21,"atan2"],[19,28,12,26],[19,29,12,27,"Math"],[19,33,12,31],[19,34,12,32,"sqrt"],[19,38,12,36],[19,39,12,37,"a"],[19,40,12,38],[19,41,12,39],[19,43,12,41,"Math"],[19,47,12,45],[19,48,12,46,"sqrt"],[19,52,12,50],[19,53,12,51],[19,54,12,52],[19,57,12,55,"a"],[19,58,12,56],[19,59,12,57],[19,60,12,58],[20,4,13,2],[20,11,13,9,"R"],[20,12,13,10],[20,15,13,13,"c"],[20,16,13,14],[21,2,14,0],[23,2,16,0],[24,0,17,0],[25,0,18,0],[26,0,19,0],[27,0,20,0],[28,0,21,0],[29,0,22,0],[30,0,23,0],[31,0,24,0],[32,2,25,7],[32,11,25,16,"isMatch"],[32,18,25,23,"isMatch"],[32,19,25,24,"job"],[32,22,25,32],[32,24,25,34,"profile"],[32,31,25,56],[32,33,25,67],[33,4,26,2],[34,4,27,2],[34,8,27,6],[34,9,27,7,"profile"],[34,16,27,14],[34,17,27,15,"categories"],[34,27,27,25],[34,28,27,26,"includes"],[34,36,27,34],[34,37,27,35,"job"],[34,40,27,38],[34,41,27,39,"category"],[34,49,27,47],[34,50,27,48],[34,52,27,50],[34,59,27,57],[34,64,27,62],[36,4,29,2],[37,4,30,2],[37,10,30,8,"have"],[37,14,30,12],[37,17,30,15],[37,21,30,19,"Set"],[37,24,30,22],[37,25,30,23,"profile"],[37,32,30,30],[37,33,30,31,"tags"],[37,37,30,35],[37,38,30,36],[38,4,31,2],[38,8,31,6],[38,9,31,7,"job"],[38,12,31,10],[38,13,31,11,"required_all_tags"],[38,30,31,28],[38,31,31,29,"every"],[38,36,31,34],[38,37,31,35,"t"],[38,38,31,36],[38,42,31,40,"have"],[38,46,31,44],[38,47,31,45,"has"],[38,50,31,48],[38,51,31,49,"t"],[38,52,31,50],[38,53,31,51],[38,54,31,52],[38,56,31,54],[38,63,31,61],[38,68,31,66],[40,4,33,2],[41,4,34,2],[41,8,34,6,"job"],[41,11,34,9],[41,12,34,10,"required_any_tags"],[41,29,34,27],[41,30,34,28,"length"],[41,36,34,34],[41,39,34,37],[41,40,34,38],[41,44,34,42],[41,45,34,43,"job"],[41,48,34,46],[41,49,34,47,"required_any_tags"],[41,66,34,64],[41,67,34,65,"some"],[41,71,34,69],[41,72,34,70,"t"],[41,73,34,71],[41,77,34,75,"have"],[41,81,34,79],[41,82,34,80,"has"],[41,85,34,83],[41,86,34,84,"t"],[41,87,34,85],[41,88,34,86],[41,89,34,87],[41,91,34,89],[41,98,34,96],[41,103,34,101],[43,4,36,2],[44,4,37,2],[44,10,37,8,"dist"],[44,14,37,12],[44,17,37,15,"haversineKm"],[44,28,37,26],[44,29,37,27,"profile"],[44,36,37,34],[44,37,37,35,"homeLat"],[44,44,37,42],[44,46,37,44,"profile"],[44,53,37,51],[44,54,37,52,"homeLon"],[44,61,37,59],[44,63,37,61,"job"],[44,66,37,64],[44,67,37,65,"lat"],[44,70,37,68],[44,72,37,70,"job"],[44,75,37,73],[44,76,37,74,"lon"],[44,79,37,77],[44,80,37,78],[45,4,38,2],[45,8,38,6,"dist"],[45,12,38,10],[45,15,38,13,"profile"],[45,22,38,20],[45,23,38,21,"radiusKm"],[45,31,38,29],[45,33,38,31],[45,40,38,38],[45,45,38,43],[46,4,40,2],[46,11,40,9],[46,15,40,13],[47,2,41,0],[48,2,43,7],[48,11,43,16,"calculateDistance"],[48,28,43,33,"calculateDistance"],[48,29,43,34,"lat1"],[48,33,43,46],[48,35,43,48,"lon1"],[48,39,43,60],[48,41,43,62,"lat2"],[48,45,43,74],[48,47,43,76,"lon2"],[48,51,43,88],[48,53,43,98],[49,4,44,2],[49,11,44,9,"haversineKm"],[49,22,44,20],[49,23,44,21,"lat1"],[49,27,44,25],[49,29,44,27,"lon1"],[49,33,44,31],[49,35,44,33,"lat2"],[49,39,44,37],[49,41,44,39,"lon2"],[49,45,44,43],[49,46,44,44],[50,2,45,0],[52,2,47,0],[53,0,48,0],[54,0,49,0],[55,2,50,7],[55,11,50,16,"filterMatchingJobs"],[55,29,50,34,"filterMatchingJobs"],[55,30,50,35,"jobs"],[55,34,50,46],[55,36,50,48,"profile"],[55,43,50,70],[55,45,50,79],[56,4,51,2],[56,11,51,9,"jobs"],[56,15,51,13],[56,16,51,14,"filter"],[56,22,51,20],[56,23,51,21,"job"],[56,26,51,24],[56,30,51,28,"isMatch"],[56,37,51,35],[56,38,51,36,"job"],[56,41,51,39],[56,43,51,41,"profile"],[56,50,51,48],[56,51,51,49],[56,52,51,50],[57,2,52,0],[59,2,54,0],[60,0,55,0],[61,0,56,0],[62,0,57,0],[63,2,58,7],[63,11,58,16,"calculateMatchScore"],[63,30,58,35,"calculateMatchScore"],[63,31,58,36,"job"],[63,34,58,44],[63,36,58,46,"profile"],[63,43,58,68],[63,45,58,78],[64,4,59,2],[64,8,59,6,"score"],[64,13,59,11],[64,16,59,14],[64,17,59,15],[66,4,61,2],[67,4,62,2],[67,10,62,8,"distance"],[67,18,62,16],[67,21,62,19,"calculateDistance"],[67,38,62,36],[67,39,62,37,"profile"],[67,46,62,44],[67,47,62,45,"homeLat"],[67,54,62,52],[67,56,62,54,"profile"],[67,63,62,61],[67,64,62,62,"homeLon"],[67,71,62,69],[67,73,62,71,"job"],[67,76,62,74],[67,77,62,75,"lat"],[67,80,62,78],[67,82,62,80,"job"],[67,85,62,83],[67,86,62,84,"lon"],[67,89,62,87],[67,90,62,88],[68,4,63,2],[68,10,63,8,"distanceScore"],[68,23,63,21],[68,26,63,24,"Math"],[68,30,63,28],[68,31,63,29,"max"],[68,34,63,32],[68,35,63,33],[68,36,63,34],[68,38,63,36],[68,40,63,38],[68,44,63,42],[68,45,63,43],[68,48,63,46,"distance"],[68,56,63,54],[68,59,63,57,"profile"],[68,66,63,64],[68,67,63,65,"radiusKm"],[68,75,63,73],[68,76,63,74],[68,77,63,75],[69,4,64,2,"score"],[69,9,64,7],[69,13,64,11,"distanceScore"],[69,26,64,24],[71,4,66,2],[72,4,67,2],[72,10,67,8,"workerTagSet"],[72,22,67,20],[72,25,67,23],[72,29,67,27,"Set"],[72,32,67,30],[72,33,67,31,"profile"],[72,40,67,38],[72,41,67,39,"tags"],[72,45,67,43],[72,46,67,44],[73,4,68,2],[73,10,68,8,"allJobTags"],[73,20,68,18],[73,23,68,21],[73,24,68,22],[73,27,68,25,"job"],[73,30,68,28],[73,31,68,29,"required_all_tags"],[73,48,68,46],[73,50,68,48],[73,53,68,51,"job"],[73,56,68,54],[73,57,68,55,"required_any_tags"],[73,74,68,72],[73,75,68,73],[74,4,69,2],[74,10,69,8,"matchingTags"],[74,22,69,20],[74,25,69,23,"allJobTags"],[74,35,69,33],[74,36,69,34,"filter"],[74,42,69,40],[74,43,69,41,"tag"],[74,46,69,44],[74,50,69,48,"workerTagSet"],[74,62,69,60],[74,63,69,61,"has"],[74,66,69,64],[74,67,69,65,"tag"],[74,70,69,68],[74,71,69,69],[74,72,69,70],[75,4,70,2],[75,8,70,6,"allJobTags"],[75,18,70,16],[75,19,70,17,"length"],[75,25,70,23],[75,28,70,26],[75,29,70,27],[75,31,70,29],[76,6,71,4],[76,12,71,10,"tagMatchRatio"],[76,25,71,23],[76,28,71,26,"matchingTags"],[76,40,71,38],[76,41,71,39,"length"],[76,47,71,45],[76,50,71,48,"allJobTags"],[76,60,71,58],[76,61,71,59,"length"],[76,67,71,65],[77,6,72,4,"score"],[77,11,72,9],[77,15,72,13],[77,17,72,15],[77,20,72,18,"tagMatchRatio"],[77,33,72,31],[78,4,73,2],[78,5,73,3],[78,11,73,9],[79,6,74,4],[80,6,75,4,"score"],[80,11,75,9],[80,15,75,13],[80,17,75,15],[81,4,76,2],[83,4,78,2],[84,4,79,2],[84,10,79,8,"payScore"],[84,18,79,16],[84,21,79,19,"Math"],[84,25,79,23],[84,26,79,24,"min"],[84,29,79,27],[84,30,79,28],[84,32,79,30],[84,34,79,33,"job"],[84,37,79,36],[84,38,79,37,"workerAmountCents"],[84,55,79,54],[84,58,79,57],[84,63,79,62],[84,66,79,66],[84,68,79,68],[84,69,79,69],[85,4,80,2,"score"],[85,9,80,7],[85,13,80,11,"payScore"],[85,21,80,19],[86,4,82,2],[86,11,82,9,"Math"],[86,15,82,13],[86,16,82,14,"round"],[86,21,82,19],[86,22,82,20,"score"],[86,27,82,25],[86,28,82,26],[87,2,83,0],[88,2,85,7],[88,11,85,16,"sortJobsByMatch"],[88,26,85,31,"sortJobsByMatch"],[88,27,86,2,"jobs"],[88,31,86,13],[88,33,87,2,"profile"],[88,40,87,24],[88,42,88,9],[89,4,89,2],[89,11,89,9,"jobs"],[89,15,89,13],[89,16,89,14,"sort"],[89,20,89,18],[89,21,89,19],[89,22,89,20,"a"],[89,23,89,21],[89,25,89,23,"b"],[89,26,89,24],[89,31,89,29],[90,6,90,4],[90,12,90,10,"scoreA"],[90,18,90,16],[90,21,90,19,"calculateMatchScore"],[90,40,90,38],[90,41,90,39,"a"],[90,42,90,40],[90,44,90,42,"profile"],[90,51,90,49],[90,52,90,50],[91,6,91,4],[91,12,91,10,"scoreB"],[91,18,91,16],[91,21,91,19,"calculateMatchScore"],[91,40,91,38],[91,41,91,39,"b"],[91,42,91,40],[91,44,91,42,"profile"],[91,51,91,49],[91,52,91,50],[92,6,92,4],[92,13,92,11,"scoreB"],[92,19,92,17],[92,22,92,20,"scoreA"],[92,28,92,26],[92,29,92,27],[92,30,92,28],[93,4,93,2],[93,5,93,3],[93,6,93,4],[94,2,94,0],[96,2,96,0],[97,0,97,0],[98,0,98,0],[99,2,99,7],[99,11,99,16,"jobWithinRadius"],[99,26,99,31,"jobWithinRadius"],[99,27,99,32,"job"],[99,30,99,40],[99,32,99,42,"profile"],[99,39,99,64],[99,41,99,75],[100,4,100,2],[100,8,100,6],[100,9,100,7,"profile"],[100,16,100,14],[100,17,100,15,"radiusKm"],[100,25,100,23],[100,29,100,27,"profile"],[100,36,100,34],[100,37,100,35,"radiusKm"],[100,45,100,43],[100,49,100,47],[100,50,100,48],[100,52,100,50],[100,59,100,57],[100,63,100,61],[101,4,101,2],[101,8,101,6,"job"],[101,11,101,9],[101,12,101,10,"lat"],[101,15,101,13],[101,20,101,18,"undefined"],[101,29,101,27],[101,33,101,31,"job"],[101,36,101,34],[101,37,101,35,"lon"],[101,40,101,38],[101,45,101,43,"undefined"],[101,54,101,52],[101,56,101,54],[101,63,101,61],[101,67,101,65],[102,4,102,2],[102,8,102,6,"profile"],[102,15,102,13],[102,16,102,14,"homeLat"],[102,23,102,21],[102,28,102,26,"undefined"],[102,37,102,35],[102,41,102,39,"profile"],[102,48,102,46],[102,49,102,47,"homeLon"],[102,56,102,54],[102,61,102,59,"undefined"],[102,70,102,68],[102,72,102,70],[102,79,102,77],[102,83,102,81],[103,4,103,2],[103,10,103,8,"distance"],[103,18,103,16],[103,21,103,19,"haversineKm"],[103,32,103,30],[103,33,103,31,"profile"],[103,40,103,38],[103,41,103,39,"homeLat"],[103,48,103,46],[103,50,103,48,"profile"],[103,57,103,55],[103,58,103,56,"homeLon"],[103,65,103,63],[103,67,103,65,"job"],[103,70,103,68],[103,71,103,69,"lat"],[103,74,103,72],[103,76,103,74,"job"],[103,79,103,77],[103,80,103,78,"lon"],[103,83,103,81],[103,84,103,82],[104,4,104,2],[104,11,104,9,"distance"],[104,19,104,17],[104,23,104,21,"profile"],[104,30,104,28],[104,31,104,29,"radiusKm"],[104,39,104,37],[105,2,105,0],[107,2,107,0],[108,0,108,0],[109,0,109,0],[110,2,110,7],[110,11,110,16,"jobMatchesWorker"],[110,27,110,32,"jobMatchesWorker"],[110,28,110,33,"job"],[110,31,110,41],[110,33,110,43,"profile"],[110,40,110,65],[110,42,110,76],[111,4,111,2],[111,11,111,9,"isMatch"],[111,18,111,16],[111,19,111,17,"job"],[111,22,111,20],[111,24,111,22,"profile"],[111,31,111,29],[111,32,111,30],[112,2,112,0],[113,0,112,1],[113,3]],"functionMap":{"names":["<global>","haversineKm","isMatch","job.required_all_tags.every$argument_0","job.required_any_tags.some$argument_0","calculateDistance","filterMatchingJobs","jobs.filter$argument_0","calculateMatchScore","allJobTags.filter$argument_0","sortJobsByMatch","jobs.sort$argument_0","jobWithinRadius","jobMatchesWorker"],"mappings":"AAA;ACG;CDU;OEW;mCCM,gBD;sEEG,gBF;CFO;OKE;CLE;OMK;qBCC,4BD;CNC;OQM;yCCW,4BD;CRc;OUE;mBCI;GDI;CVC;OYK;CZM;OaK"},"hasCjsExports":false},"type":"js/module"}]}