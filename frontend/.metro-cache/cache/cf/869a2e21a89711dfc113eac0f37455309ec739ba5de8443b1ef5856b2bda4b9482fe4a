{"dependencies":[{"name":"./storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":75},"end":{"line":3,"column":36,"index":111}}],"key":"3rLtLV8J3gSw9c8Ep8Wpc3w/Yxg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.getWorkerProfile = getWorkerProfile;\n  exports.saveWorkerProfile = saveWorkerProfile;\n  var _storage = require(_dependencyMap[0], \"./storage\");\n  // utils/profileStore.ts\n\n  const PROFILE_KEY = '@shiftmatch:worker_profile';\n  async function getWorkerProfile(userId) {\n    const stored = await _storage.storage.getItem(PROFILE_KEY);\n    if (!stored) return null;\n    if (stored.userId !== userId) return null;\n\n    // Ensure arrays are never undefined\n    return Object.assign({}, stored, {\n      categories: stored.categories ?? [],\n      selectedTags: stored.selectedTags ?? []\n    });\n  }\n  async function saveWorkerProfile(profile) {\n    // Normalize profile to ensure arrays are never undefined\n    const normalized = Object.assign({}, profile, {\n      categories: profile.categories ?? [],\n      selectedTags: profile.selectedTags ?? []\n    });\n    await _storage.storage.setItem(PROFILE_KEY, normalized);\n  }\n});","lineCount":32,"map":[[7,2,7,0,"exports"],[7,9,7,0],[7,10,7,0,"getWorkerProfile"],[7,26,7,0],[7,29,7,0,"getWorkerProfile"],[7,45,7,0],[8,2,20,0,"exports"],[8,9,20,0],[8,10,20,0,"saveWorkerProfile"],[8,27,20,0],[8,30,20,0,"saveWorkerProfile"],[8,47,20,0],[9,2,3,0],[9,6,3,0,"_storage"],[9,14,3,0],[9,17,3,0,"require"],[9,24,3,0],[9,25,3,0,"_dependencyMap"],[9,39,3,0],[10,2,1,0],[12,2,5,0],[12,8,5,6,"PROFILE_KEY"],[12,19,5,17],[12,22,5,20],[12,50,5,48],[13,2,7,7],[13,17,7,22,"getWorkerProfile"],[13,33,7,38,"getWorkerProfile"],[13,34,7,39,"userId"],[13,40,7,53],[13,42,7,86],[14,4,8,2],[14,10,8,8,"stored"],[14,16,8,14],[14,19,8,17],[14,25,8,23,"storage"],[14,33,8,30],[14,34,8,30,"storage"],[14,41,8,30],[14,42,8,31,"getItem"],[14,49,8,38],[14,50,8,54,"PROFILE_KEY"],[14,61,8,65],[14,62,8,66],[15,4,9,2],[15,8,9,6],[15,9,9,7,"stored"],[15,15,9,13],[15,17,9,15],[15,24,9,22],[15,28,9,26],[16,4,10,2],[16,8,10,6,"stored"],[16,14,10,12],[16,15,10,13,"userId"],[16,21,10,19],[16,26,10,24,"userId"],[16,32,10,30],[16,34,10,32],[16,41,10,39],[16,45,10,43],[18,4,12,2],[19,4,13,2],[19,11,13,2,"Object"],[19,17,13,2],[19,18,13,2,"assign"],[19,24,13,2],[19,29,14,7,"stored"],[19,35,14,13],[20,6,15,4,"categories"],[20,16,15,14],[20,18,15,16,"stored"],[20,24,15,22],[20,25,15,23,"categories"],[20,35,15,33],[20,39,15,37],[20,41,15,39],[21,6,16,4,"selectedTags"],[21,18,16,16],[21,20,16,18,"stored"],[21,26,16,24],[21,27,16,25,"selectedTags"],[21,39,16,37],[21,43,16,41],[22,4,16,43],[23,2,18,0],[24,2,20,7],[24,17,20,22,"saveWorkerProfile"],[24,34,20,39,"saveWorkerProfile"],[24,35,20,40,"profile"],[24,42,20,62],[24,44,20,79],[25,4,21,2],[26,4,22,2],[26,10,22,8,"normalized"],[26,20,22,33],[26,23,22,33,"Object"],[26,29,22,33],[26,30,22,33,"assign"],[26,36,22,33],[26,41,23,7,"profile"],[26,48,23,14],[27,6,24,4,"categories"],[27,16,24,14],[27,18,24,16,"profile"],[27,25,24,23],[27,26,24,24,"categories"],[27,36,24,34],[27,40,24,38],[27,42,24,40],[28,6,25,4,"selectedTags"],[28,18,25,16],[28,20,25,18,"profile"],[28,27,25,25],[28,28,25,26,"selectedTags"],[28,40,25,38],[28,44,25,42],[29,4,25,44],[29,6,26,3],[30,4,27,2],[30,10,27,8,"storage"],[30,18,27,15],[30,19,27,15,"storage"],[30,26,27,15],[30,27,27,16,"setItem"],[30,34,27,23],[30,35,27,24,"PROFILE_KEY"],[30,46,27,35],[30,48,27,37,"normalized"],[30,58,27,47],[30,59,27,48],[31,2,28,0],[32,0,28,1],[32,3]],"functionMap":{"names":["<global>","getWorkerProfile","saveWorkerProfile"],"mappings":"AAA;OCM;CDW;OEE"},"hasCjsExports":false},"type":"js/module"}]}