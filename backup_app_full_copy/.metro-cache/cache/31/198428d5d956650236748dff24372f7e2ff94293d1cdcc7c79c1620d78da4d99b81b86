{"dependencies":[{"name":"expo-notifications","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"nrBDtkRVez7cBhLzyaRjl+xVfvE=","exportNames":["*"],"imports":1}},{"name":"expo-device","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":53},"end":{"line":2,"column":38,"index":91}}],"key":"bBpmAhO1g++sdeUzQmFVGoQIVwg=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.registerForPushNotificationsAsync = registerForPushNotificationsAsync;\n  exports.sendLocalNotification = sendLocalNotification;\n  exports.sendMatchNotification = sendMatchNotification;\n  exports.hasNotificationPermissions = hasNotificationPermissions;\n  var _expoNotifications = require(_dependencyMap[0], \"expo-notifications\");\n  var Notifications = _interopNamespace(_expoNotifications);\n  var _expoDevice = require(_dependencyMap[1], \"expo-device\");\n  var Device = _interopNamespace(_expoDevice);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[2], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  /**\n   * Configure notification handler for foreground notifications\n   */\n  Notifications.setNotificationHandler({\n    handleNotification: async () => ({\n      shouldShowAlert: true,\n      shouldPlaySound: true,\n      shouldSetBadge: true\n    })\n  });\n\n  /**\n   * Request notification permissions and get push token\n   * @returns Push token or null if permission denied\n   */\n  async function registerForPushNotificationsAsync() {\n    let token = null;\n    if (Device.isDevice) {\n      const {\n        status: existingStatus\n      } = await Notifications.getPermissionsAsync();\n      let finalStatus = existingStatus;\n      if (existingStatus !== 'granted') {\n        const {\n          status\n        } = await Notifications.requestPermissionsAsync();\n        finalStatus = status;\n      }\n      if (finalStatus !== 'granted') {\n        console.log('‚ö†Ô∏è Push notification permission denied');\n        return null;\n      }\n      try {\n        token = (await Notifications.getExpoPushTokenAsync()).data;\n        console.log('‚úÖ Push token obtained:', token);\n      } catch (error) {\n        console.error('‚ùå Error getting push token:', error);\n        return null;\n      }\n    } else {\n      console.log('‚ö†Ô∏è Push notifications only work on physical devices');\n    }\n    if (Platform.default.OS === 'android') {\n      Notifications.setNotificationChannelAsync('default', {\n        name: 'default',\n        importance: Notifications.AndroidImportance.MAX,\n        vibrationPattern: [0, 250, 250, 250],\n        lightColor: '#0066FF'\n      });\n    }\n    return token;\n  }\n\n  /**\n   * Send a local notification (for testing or immediate feedback)\n   */\n  async function sendLocalNotification(title, body, data) {\n    await Notifications.scheduleNotificationAsync({\n      content: {\n        title,\n        body,\n        data: data || {},\n        sound: 'default'\n      },\n      trigger: null // Show immediately\n    });\n    console.log('üì¨ Local notification sent:', {\n      title,\n      body\n    });\n  }\n\n  /**\n   * Send match notification to worker\n   */\n  async function sendMatchNotification(jobTitle, employerName) {\n    await sendLocalNotification('üéâ Du wurdest f√ºr den Job angenommen!', `${employerName} hat dich f√ºr \"${jobTitle}\" ausgew√§hlt. √ñffne deine Matches, um den Chat zu starten.`, {\n      type: 'match',\n      jobTitle,\n      employerName\n    });\n  }\n\n  /**\n   * Check if user has granted notification permissions\n   */\n  async function hasNotificationPermissions() {\n    const {\n      status\n    } = await Notifications.getPermissionsAsync();\n    return status === 'granted';\n  }\n});","lineCount":129,"map":[[27,2,20,0,"exports"],[27,9,20,0],[27,10,20,0,"registerForPushNotificationsAsync"],[27,43,20,0],[27,46,20,0,"registerForPushNotificationsAsync"],[27,79,20,0],[28,2,63,0,"exports"],[28,9,63,0],[28,10,63,0,"sendLocalNotification"],[28,31,63,0],[28,34,63,0,"sendLocalNotification"],[28,55,63,0],[29,2,80,0,"exports"],[29,9,80,0],[29,10,80,0,"sendMatchNotification"],[29,31,80,0],[29,34,80,0,"sendMatchNotification"],[29,55,80,0],[30,2,95,0,"exports"],[30,9,95,0],[30,10,95,0,"hasNotificationPermissions"],[30,36,95,0],[30,39,95,0,"hasNotificationPermissions"],[30,65,95,0],[31,2,1,0],[31,6,1,0,"_expoNotifications"],[31,24,1,0],[31,27,1,0,"require"],[31,34,1,0],[31,35,1,0,"_dependencyMap"],[31,49,1,0],[32,2,1,0],[32,6,1,0,"Notifications"],[32,19,1,0],[32,22,1,0,"_interopNamespace"],[32,39,1,0],[32,40,1,0,"_expoNotifications"],[32,58,1,0],[33,2,2,0],[33,6,2,0,"_expoDevice"],[33,17,2,0],[33,20,2,0,"require"],[33,27,2,0],[33,28,2,0,"_dependencyMap"],[33,42,2,0],[34,2,2,0],[34,6,2,0,"Device"],[34,12,2,0],[34,15,2,0,"_interopNamespace"],[34,32,2,0],[34,33,2,0,"_expoDevice"],[34,44,2,0],[35,2,2,38],[35,6,2,38,"_reactNativeWebDistExportsPlatform"],[35,40,2,38],[35,43,2,38,"require"],[35,50,2,38],[35,51,2,38,"_dependencyMap"],[35,65,2,38],[36,2,2,38],[36,6,2,38,"Platform"],[36,14,2,38],[36,17,2,38,"_interopDefault"],[36,32,2,38],[36,33,2,38,"_reactNativeWebDistExportsPlatform"],[36,67,2,38],[37,2,5,0],[38,0,6,0],[39,0,7,0],[40,2,8,0,"Notifications"],[40,15,8,13],[40,16,8,14,"setNotificationHandler"],[40,38,8,36],[40,39,8,37],[41,4,9,2,"handleNotification"],[41,22,9,20],[41,24,9,22],[41,30,9,22,"handleNotification"],[41,31,9,22],[41,37,9,35],[42,6,10,4,"shouldShowAlert"],[42,21,10,19],[42,23,10,21],[42,27,10,25],[43,6,11,4,"shouldPlaySound"],[43,21,11,19],[43,23,11,21],[43,27,11,25],[44,6,12,4,"shouldSetBadge"],[44,20,12,18],[44,22,12,20],[45,4,13,2],[45,5,13,3],[46,2,14,0],[46,3,14,1],[46,4,14,2],[48,2,16,0],[49,0,17,0],[50,0,18,0],[51,0,19,0],[52,2,20,7],[52,17,20,22,"registerForPushNotificationsAsync"],[52,50,20,55,"registerForPushNotificationsAsync"],[52,51,20,55],[52,53,20,82],[53,4,21,2],[53,8,21,6,"token"],[53,13,21,26],[53,16,21,29],[53,20,21,33],[54,4,23,2],[54,8,23,6,"Device"],[54,14,23,12],[54,15,23,13,"isDevice"],[54,23,23,21],[54,25,23,23],[55,6,24,4],[55,12,24,10],[56,8,24,12,"status"],[56,14,24,18],[56,16,24,20,"existingStatus"],[57,6,24,35],[57,7,24,36],[57,10,24,39],[57,16,24,45,"Notifications"],[57,29,24,58],[57,30,24,59,"getPermissionsAsync"],[57,49,24,78],[57,50,24,79],[57,51,24,80],[58,6,25,4],[58,10,25,8,"finalStatus"],[58,21,25,19],[58,24,25,22,"existingStatus"],[58,38,25,36],[59,6,27,4],[59,10,27,8,"existingStatus"],[59,24,27,22],[59,29,27,27],[59,38,27,36],[59,40,27,38],[60,8,28,6],[60,14,28,12],[61,10,28,14,"status"],[62,8,28,21],[62,9,28,22],[62,12,28,25],[62,18,28,31,"Notifications"],[62,31,28,44],[62,32,28,45,"requestPermissionsAsync"],[62,55,28,68],[62,56,28,69],[62,57,28,70],[63,8,29,6,"finalStatus"],[63,19,29,17],[63,22,29,20,"status"],[63,28,29,26],[64,6,30,4],[65,6,32,4],[65,10,32,8,"finalStatus"],[65,21,32,19],[65,26,32,24],[65,35,32,33],[65,37,32,35],[66,8,33,6,"console"],[66,15,33,13],[66,16,33,14,"log"],[66,19,33,17],[66,20,33,18],[66,60,33,58],[66,61,33,59],[67,8,34,6],[67,15,34,13],[67,19,34,17],[68,6,35,4],[69,6,37,4],[69,10,37,8],[70,8,38,6,"token"],[70,13,38,11],[70,16,38,14],[70,17,38,15],[70,23,38,21,"Notifications"],[70,36,38,34],[70,37,38,35,"getExpoPushTokenAsync"],[70,58,38,56],[70,59,38,57],[70,60,38,58],[70,62,38,60,"data"],[70,66,38,64],[71,8,39,6,"console"],[71,15,39,13],[71,16,39,14,"log"],[71,19,39,17],[71,20,39,18],[71,44,39,42],[71,46,39,44,"token"],[71,51,39,49],[71,52,39,50],[72,6,40,4],[72,7,40,5],[72,8,40,6],[72,15,40,13,"error"],[72,20,40,18],[72,22,40,20],[73,8,41,6,"console"],[73,15,41,13],[73,16,41,14,"error"],[73,21,41,19],[73,22,41,20],[73,51,41,49],[73,53,41,51,"error"],[73,58,41,56],[73,59,41,57],[74,8,42,6],[74,15,42,13],[74,19,42,17],[75,6,43,4],[76,4,44,2],[76,5,44,3],[76,11,44,9],[77,6,45,4,"console"],[77,13,45,11],[77,14,45,12,"log"],[77,17,45,15],[77,18,45,16],[77,71,45,69],[77,72,45,70],[78,4,46,2],[79,4,48,2],[79,8,48,6,"Platform"],[79,16,48,14],[79,17,48,14,"default"],[79,24,48,14],[79,25,48,15,"OS"],[79,27,48,17],[79,32,48,22],[79,41,48,31],[79,43,48,33],[80,6,49,4,"Notifications"],[80,19,49,17],[80,20,49,18,"setNotificationChannelAsync"],[80,47,49,45],[80,48,49,46],[80,57,49,55],[80,59,49,57],[81,8,50,6,"name"],[81,12,50,10],[81,14,50,12],[81,23,50,21],[82,8,51,6,"importance"],[82,18,51,16],[82,20,51,18,"Notifications"],[82,33,51,31],[82,34,51,32,"AndroidImportance"],[82,51,51,49],[82,52,51,50,"MAX"],[82,55,51,53],[83,8,52,6,"vibrationPattern"],[83,24,52,22],[83,26,52,24],[83,27,52,25],[83,28,52,26],[83,30,52,28],[83,33,52,31],[83,35,52,33],[83,38,52,36],[83,40,52,38],[83,43,52,41],[83,44,52,42],[84,8,53,6,"lightColor"],[84,18,53,16],[84,20,53,18],[85,6,54,4],[85,7,54,5],[85,8,54,6],[86,4,55,2],[87,4,57,2],[87,11,57,9,"token"],[87,16,57,14],[88,2,58,0],[90,2,60,0],[91,0,61,0],[92,0,62,0],[93,2,63,7],[93,17,63,22,"sendLocalNotification"],[93,38,63,43,"sendLocalNotification"],[93,39,63,44,"title"],[93,44,63,57],[93,46,63,59,"body"],[93,50,63,71],[93,52,63,73,"data"],[93,56,63,83],[93,58,63,85],[94,4,64,2],[94,10,64,8,"Notifications"],[94,23,64,21],[94,24,64,22,"scheduleNotificationAsync"],[94,49,64,47],[94,50,64,48],[95,6,65,4,"content"],[95,13,65,11],[95,15,65,13],[96,8,66,6,"title"],[96,13,66,11],[97,8,67,6,"body"],[97,12,67,10],[98,8,68,6,"data"],[98,12,68,10],[98,14,68,12,"data"],[98,18,68,16],[98,22,68,20],[98,23,68,21],[98,24,68,22],[99,8,69,6,"sound"],[99,13,69,11],[99,15,69,13],[100,6,70,4],[100,7,70,5],[101,6,71,4,"trigger"],[101,13,71,11],[101,15,71,13],[101,19,71,17],[101,20,71,19],[102,4,72,2],[102,5,72,3],[102,6,72,4],[103,4,74,2,"console"],[103,11,74,9],[103,12,74,10,"log"],[103,15,74,13],[103,16,74,14],[103,45,74,43],[103,47,74,45],[104,6,74,47,"title"],[104,11,74,52],[105,6,74,54,"body"],[106,4,74,59],[106,5,74,60],[106,6,74,61],[107,2,75,0],[109,2,77,0],[110,0,78,0],[111,0,79,0],[112,2,80,7],[112,17,80,22,"sendMatchNotification"],[112,38,80,43,"sendMatchNotification"],[112,39,80,44,"jobTitle"],[112,47,80,60],[112,49,80,62,"employerName"],[112,61,80,82],[112,63,80,84],[113,4,81,2],[113,10,81,8,"sendLocalNotification"],[113,31,81,29],[113,32,82,4],[113,71,82,43],[113,73,83,4],[113,76,83,7,"employerName"],[113,88,83,19],[113,106,83,37,"jobTitle"],[113,114,83,45],[113,174,83,105],[113,176,84,4],[114,6,85,6,"type"],[114,10,85,10],[114,12,85,12],[114,19,85,19],[115,6,86,6,"jobTitle"],[115,14,86,14],[116,6,87,6,"employerName"],[117,4,88,4],[117,5,89,2],[117,6,89,3],[118,2,90,0],[120,2,92,0],[121,0,93,0],[122,0,94,0],[123,2,95,7],[123,17,95,22,"hasNotificationPermissions"],[123,43,95,48,"hasNotificationPermissions"],[123,44,95,48],[123,46,95,69],[124,4,96,2],[124,10,96,8],[125,6,96,10,"status"],[126,4,96,17],[126,5,96,18],[126,8,96,21],[126,14,96,27,"Notifications"],[126,27,96,40],[126,28,96,41,"getPermissionsAsync"],[126,47,96,60],[126,48,96,61],[126,49,96,62],[127,4,97,2],[127,11,97,9,"status"],[127,17,97,15],[127,22,97,20],[127,31,97,29],[128,2,98,0],[129,0,98,1],[129,3]],"functionMap":{"names":["<global>","Notifications.setNotificationHandler$argument_0.handleNotification","registerForPushNotificationsAsync","sendLocalNotification","sendMatchNotification","hasNotificationPermissions"],"mappings":"AAA;sBCQ;IDI;OEO;CFsC;OGK;CHY;OIK;CJU;OKK;CLG"},"hasCjsExports":false},"type":"js/module"}]}