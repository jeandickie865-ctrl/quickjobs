{"dependencies":[{"name":"./storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":75},"end":{"line":3,"column":36,"index":111}}],"key":"3rLtLV8J3gSw9c8Ep8Wpc3w/Yxg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.getWorkerProfile = getWorkerProfile;\n  exports.saveWorkerProfile = saveWorkerProfile;\n  var _storage = require(_dependencyMap[0], \"./storage\");\n  // utils/profileStore.ts\n\n  const PROFILE_KEY = '@shiftmatch:worker_profile';\n  async function getWorkerProfile(userId) {\n    console.log('üîç getWorkerProfile: Loading profile for user', userId);\n    const stored = await _storage.storage.getItem(PROFILE_KEY);\n    if (!stored) {\n      console.log('‚ö†Ô∏è getWorkerProfile: No profile found');\n      return null;\n    }\n    if (stored.userId !== userId) {\n      console.log('‚ö†Ô∏è getWorkerProfile: Profile userId mismatch', {\n        stored: stored.userId,\n        requested: userId\n      });\n      return null;\n    }\n\n    // Ensure arrays are never undefined\n    const profile = {\n      ...stored,\n      categories: stored.categories ?? [],\n      selectedTags: stored.selectedTags ?? []\n    };\n    console.log('‚úÖ getWorkerProfile: Profile loaded', {\n      userId: profile.userId,\n      categories: profile.categories.length,\n      tags: profile.selectedTags.length\n    });\n    return profile;\n  }\n  async function saveWorkerProfile(profile) {\n    console.log('üíæ saveWorkerProfile: Saving profile for user', profile.userId);\n\n    // Normalize profile to ensure arrays are never undefined\n    const normalized = {\n      ...profile,\n      categories: profile.categories ?? [],\n      selectedTags: profile.selectedTags ?? []\n    };\n    await _storage.storage.setItem(PROFILE_KEY, normalized);\n    console.log('‚úÖ saveWorkerProfile: Profile saved successfully', {\n      userId: normalized.userId,\n      categories: normalized.categories.length,\n      tags: normalized.selectedTags.length,\n      pushToken: normalized.pushToken ? '‚úì' : '‚úó'\n    });\n  }\n});","lineCount":58,"map":[[7,2,7,0,"exports"],[7,9,7,0],[7,10,7,0,"getWorkerProfile"],[7,26,7,0],[7,29,7,0,"getWorkerProfile"],[7,45,7,0],[8,2,37,0,"exports"],[8,9,37,0],[8,10,37,0,"saveWorkerProfile"],[8,27,37,0],[8,30,37,0,"saveWorkerProfile"],[8,47,37,0],[9,2,3,0],[9,6,3,0,"_storage"],[9,14,3,0],[9,17,3,0,"require"],[9,24,3,0],[9,25,3,0,"_dependencyMap"],[9,39,3,0],[10,2,1,0],[12,2,5,0],[12,8,5,6,"PROFILE_KEY"],[12,19,5,17],[12,22,5,20],[12,50,5,48],[13,2,7,7],[13,17,7,22,"getWorkerProfile"],[13,33,7,38,"getWorkerProfile"],[13,34,7,39,"userId"],[13,40,7,53],[13,42,7,86],[14,4,8,2,"console"],[14,11,8,9],[14,12,8,10,"log"],[14,15,8,13],[14,16,8,14],[14,63,8,61],[14,65,8,63,"userId"],[14,71,8,69],[14,72,8,70],[15,4,9,2],[15,10,9,8,"stored"],[15,16,9,14],[15,19,9,17],[15,25,9,23,"storage"],[15,33,9,30],[15,34,9,30,"storage"],[15,41,9,30],[15,42,9,31,"getItem"],[15,49,9,38],[15,50,9,54,"PROFILE_KEY"],[15,61,9,65],[15,62,9,66],[16,4,11,2],[16,8,11,6],[16,9,11,7,"stored"],[16,15,11,13],[16,17,11,15],[17,6,12,4,"console"],[17,13,12,11],[17,14,12,12,"log"],[17,17,12,15],[17,18,12,16],[17,57,12,55],[17,58,12,56],[18,6,13,4],[18,13,13,11],[18,17,13,15],[19,4,14,2],[20,4,16,2],[20,8,16,6,"stored"],[20,14,16,12],[20,15,16,13,"userId"],[20,21,16,19],[20,26,16,24,"userId"],[20,32,16,30],[20,34,16,32],[21,6,17,4,"console"],[21,13,17,11],[21,14,17,12,"log"],[21,17,17,15],[21,18,17,16],[21,64,17,62],[21,66,17,64],[22,8,17,66,"stored"],[22,14,17,72],[22,16,17,74,"stored"],[22,22,17,80],[22,23,17,81,"userId"],[22,29,17,87],[23,8,17,89,"requested"],[23,17,17,98],[23,19,17,100,"userId"],[24,6,17,107],[24,7,17,108],[24,8,17,109],[25,6,18,4],[25,13,18,11],[25,17,18,15],[26,4,19,2],[28,4,21,2],[29,4,22,2],[29,10,22,8,"profile"],[29,17,22,15],[29,20,22,18],[30,6,23,4],[30,9,23,7,"stored"],[30,15,23,13],[31,6,24,4,"categories"],[31,16,24,14],[31,18,24,16,"stored"],[31,24,24,22],[31,25,24,23,"categories"],[31,35,24,33],[31,39,24,37],[31,41,24,39],[32,6,25,4,"selectedTags"],[32,18,25,16],[32,20,25,18,"stored"],[32,26,25,24],[32,27,25,25,"selectedTags"],[32,39,25,37],[32,43,25,41],[33,4,26,2],[33,5,26,3],[34,4,28,2,"console"],[34,11,28,9],[34,12,28,10,"log"],[34,15,28,13],[34,16,28,14],[34,52,28,50],[34,54,28,52],[35,6,29,4,"userId"],[35,12,29,10],[35,14,29,12,"profile"],[35,21,29,19],[35,22,29,20,"userId"],[35,28,29,26],[36,6,30,4,"categories"],[36,16,30,14],[36,18,30,16,"profile"],[36,25,30,23],[36,26,30,24,"categories"],[36,36,30,34],[36,37,30,35,"length"],[36,43,30,41],[37,6,31,4,"tags"],[37,10,31,8],[37,12,31,10,"profile"],[37,19,31,17],[37,20,31,18,"selectedTags"],[37,32,31,30],[37,33,31,31,"length"],[38,4,32,2],[38,5,32,3],[38,6,32,4],[39,4,34,2],[39,11,34,9,"profile"],[39,18,34,16],[40,2,35,0],[41,2,37,7],[41,17,37,22,"saveWorkerProfile"],[41,34,37,39,"saveWorkerProfile"],[41,35,37,40,"profile"],[41,42,37,62],[41,44,37,79],[42,4,38,2,"console"],[42,11,38,9],[42,12,38,10,"log"],[42,15,38,13],[42,16,38,14],[42,63,38,61],[42,65,38,63,"profile"],[42,72,38,70],[42,73,38,71,"userId"],[42,79,38,77],[42,80,38,78],[44,4,40,2],[45,4,41,2],[45,10,41,8,"normalized"],[45,20,41,33],[45,23,41,36],[46,6,42,4],[46,9,42,7,"profile"],[46,16,42,14],[47,6,43,4,"categories"],[47,16,43,14],[47,18,43,16,"profile"],[47,25,43,23],[47,26,43,24,"categories"],[47,36,43,34],[47,40,43,38],[47,42,43,40],[48,6,44,4,"selectedTags"],[48,18,44,16],[48,20,44,18,"profile"],[48,27,44,25],[48,28,44,26,"selectedTags"],[48,40,44,38],[48,44,44,42],[49,4,45,2],[49,5,45,3],[50,4,47,2],[50,10,47,8,"storage"],[50,18,47,15],[50,19,47,15,"storage"],[50,26,47,15],[50,27,47,16,"setItem"],[50,34,47,23],[50,35,47,24,"PROFILE_KEY"],[50,46,47,35],[50,48,47,37,"normalized"],[50,58,47,47],[50,59,47,48],[51,4,48,2,"console"],[51,11,48,9],[51,12,48,10,"log"],[51,15,48,13],[51,16,48,14],[51,65,48,63],[51,67,48,65],[52,6,49,4,"userId"],[52,12,49,10],[52,14,49,12,"normalized"],[52,24,49,22],[52,25,49,23,"userId"],[52,31,49,29],[53,6,50,4,"categories"],[53,16,50,14],[53,18,50,16,"normalized"],[53,28,50,26],[53,29,50,27,"categories"],[53,39,50,37],[53,40,50,38,"length"],[53,46,50,44],[54,6,51,4,"tags"],[54,10,51,8],[54,12,51,10,"normalized"],[54,22,51,20],[54,23,51,21,"selectedTags"],[54,35,51,33],[54,36,51,34,"length"],[54,42,51,40],[55,6,52,4,"pushToken"],[55,15,52,13],[55,17,52,15,"normalized"],[55,27,52,25],[55,28,52,26,"pushToken"],[55,37,52,35],[55,40,52,38],[55,43,52,41],[55,46,52,44],[56,4,53,2],[56,5,53,3],[56,6,53,4],[57,2,54,0],[58,0,54,1],[58,3]],"functionMap":{"names":["<global>","getWorkerProfile","saveWorkerProfile"],"mappings":"AAA;OCM;CD4B;OEE"},"hasCjsExports":false},"type":"js/module"}]}